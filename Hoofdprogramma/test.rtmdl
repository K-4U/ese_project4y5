
(object PetalRT
	version 60010
	_written "Rose RealTime 6.6.2057.0"
	charSet 0)

(object Design "Model"
	generate_guids_all TRUE
	is_unit TRUE
	is_loaded TRUE
	quid "5176778400A2"
	defaults (object defaults
		rightMargin 0.000000
		leftMargin 0.000000
		topMargin 0.000000
		bottomMargin 0.000000
		pageOverlap 0.000000
		clipIconLabels TRUE
		defaultFont (object Font
			size 8
			face "Consolas"
			bold FALSE
			italics FALSE
			underline FALSE
			strike FALSE
			color 16711680
			default_color TRUE)
		showClassOfObject TRUE
		notation "Unified")
	root_usecase_package (object Class_Category "Use Case View"
		quid "3619364703C6"
		global TRUE
		exportControl "Public"
		logical_models (list unit_reference_list)
		logical_presentations (list unit_reference_list
			(object UseCaseDiagram "Main"
				quid "3619364703E4")))
	root_category (object Class_Category "Logical View"
		quid "5176778400A3"
		exportControl "Public"
		logical_models (list unit_reference_list
			(object Capsule "topCap"
				attributes (list Attribute_Set
					(object Attribute
						tool "OT::Cpp"
						name "HeaderPreface"
						value (value Text "")))
				quid "5176795702F3"
				structure (object CapsuleCollaboration "Structure"
					quid "5176795702F7"
					classifierRoles (list classifierRolesList
						(object CapsuleRole "tcpTopCapsuleR1"
							quid "5188DAE703A0"
							classifier  "Logical View::TCPIP::tcpTopCapsule"
							quidu "51875E79036D"
							genericity "fixed")
						(object CapsuleRole "mainCapsuleR1"
							quid "5188E41C02D9"
							classifier  "Logical View::mainCapsule"
							quidu "517679F9026D"
							genericity "fixed")
						(object CapsuleRole "serialTopCapsuleR1"
							quid "5192286A034B"
							classifier  "Logical View::Serial::serialTopCapsule"
							quidu "519224D302D1"
							genericity "fixed")
						(object CapsuleRole "roombaTopCapsuleR1"
							quid "519B57A40170"
							classifier  "Logical View::Roomba::roombaTopCapsule"
							quidu "518A226F036A"
							genericity "fixed"))
					connectors (list connectorsList
						(object Connector "C518A1DB201CB"
							quid "518A1DB201CB"
							connectorCardinality  constValue "*"
							ends (list endsList
								ends  ":Structure:tcpTopCapsuleR1:externalJsonPort"
								ends  ":Structure:mainCapsuleR1:GUI"))
						(object Connector "C5192300600DD"
							quid "5192300600DD"
							connectorCardinality  constValue "*"
							ends (list endsList
								ends  ":Structure:serialTopCapsuleR1:externalSerial"
								ends  ":Structure:mainCapsuleR1:Serial"))
						(object Connector "C519B5AC70223"
							quid "519B5AC70223"
							connectorCardinality  constValue "*"
							ends (list endsList
								ends  ":Structure:roombaTopCapsuleR1:toMain"
								ends  ":Structure:mainCapsuleR1:Roomba"))))
				statemachine (object State_Machine
					quid "5176795702F4"
					State (object State "TOP"
						quid "5176795702F5"
						states (list States
							(object InitialPt "Initial"
								quid "5176795702F6"))))
				statediagram (object State_Diagram "State Diagram"
					quid "5176795702F8"
					items (list diagram_item_list
						(object StateView "Perimeter" "TOP" @1
							quid "5176795702FA"
							pos (840,615)
							quidu "5176795702F5")
						(object StateView "StartState" "Initial" @2
							quid "5176795702FB"
							pos (180,180)
							quidu "5176795702F6"))
					filterFlags 1)
				language "C++"
				structureDiagram (object CollaborationDiagram "Structure Diagram"
					quid "5176795702FC"
					items (list diagram_item_list
						(object CapsulePerimeterVw "Structure" @3
							quid "5176795702FE"
							pos (840,615)
							quidu "5176795702F7")
						(object CapsuleRoleVw ":Structure:tcpTopCapsuleR1" @4
							quid "5188DAE700EA"
							pos (301,332)
							quidu "5188DAE703A0"
							width 378
							label (object ItemLabel
								quid "5188DAE703A2"
								pos (301,284)
								positionBySuperclass FALSE
								nlines 2
								max_width 288
								label "tcpTopCapsuleR1")
							positionBySuperclass FALSE
							boundIcons (list boundIconsList
								(object ConnectionPtVw ":Structure:tcpTopCapsuleR1:externalJsonPort" @5
									quid "518A19880274"
									pos (490,338)
									label (object ItemLabel
										quid "518A19880277"
										pos (669,371)
										positionBySuperclass FALSE
										nlines 2
										max_width 319
										label "externalJsonPort")
									positionBySuperclass FALSE)))
						(object CapsuleRoleVw ":Structure:mainCapsuleR1" @6
							quid "5188E41C0022"
							pos (1195,316)
							quidu "5188E41C02D9"
							width 342
							label (object ItemLabel
								quid "5188E41C02DA"
								pos (1195,268)
								positionBySuperclass FALSE
								nlines 2
								max_width 256
								label "mainCapsuleR1")
							positionBySuperclass FALSE
							boundIcons (list boundIconsList
								(object ConnectionPtVw ":Structure:mainCapsuleR1:GUI" @7
									quid "518A1D80026D"
									pos (1024,338)
									label (object ItemLabel
										quid "518A1D800270"
										pos (894,203)
										positionBySuperclass FALSE
										nlines 2
										max_width 256
										label "GUI")
									positionBySuperclass FALSE)
								(object ConnectionPtVw ":Structure:mainCapsuleR1:Serial" @8
									quid "51922FF600D0"
									pos (1218,405)
									label (object ItemLabel
										quid "51922FF600D3"
										pos (1218,426)
										positionBySuperclass FALSE
										nlines 2
										max_width 288
										label "Serial")
									positionBySuperclass FALSE)
								(object ConnectionPtVw ":Structure:mainCapsuleR1:Roomba" @9
									quid "519B58CC0045"
									pos (1023,403)
									label (object ItemLabel
										quid "519B58CC0049"
										pos (1024,490)
										positionBySuperclass FALSE
										nlines 2
										max_width 288
										label "Roomba")
									positionBySuperclass FALSE)))
						(object CapsuleRoleVw ":Structure:serialTopCapsuleR1" @10
							quid "5192286A022F"
							pos (1178,826)
							quidu "5192286A034B"
							width 432
							label (object ItemLabel
								quid "5192286A034D"
								pos (1178,778)
								positionBySuperclass FALSE
								nlines 2
								max_width 338
								label "serialTopCapsuleR1")
							positionBySuperclass FALSE
							boundIcons (list boundIconsList
								(object ConnectionPtVw ":Structure:serialTopCapsuleR1:externalSerial" @11
									quid "51922F6E0390"
									pos (1218,736)
									label (object ItemLabel
										quid "51922F6E0392"
										pos (1417,632)
										positionBySuperclass FALSE
										nlines 2
										max_width 288
										label "externalSerial")
									positionBySuperclass FALSE)))
						(object CapsuleRoleVw ":Structure:roombaTopCapsuleR1" @12
							quid "519B57A3028E"
							pos (344,826)
							quidu "519B57A40170"
							width 432
							label (object ItemLabel
								quid "519B57A40171"
								pos (344,778)
								positionBySuperclass FALSE
								nlines 2
								max_width 338
								label "roombaTopCapsuleR1")
							positionBySuperclass FALSE
							boundIcons (list boundIconsList
								(object ConnectionPtVw ":Structure:roombaTopCapsuleR1:toMain" @13
									quid "519B58BA023B"
									pos (555,735)
									label (object ItemLabel
										quid "519B58BA0240"
										pos (555,646)
										positionBySuperclass FALSE
										nlines 2
										max_width 272
										label "toMain")
									positionBySuperclass FALSE)))
						(object ConnectorVw ":Structure:C518A1DB201CB" @14
							quid "518A1DB1014B"
							stereotype TRUE
							uses_fill_color FALSE
							quidu "518A1DB201CB"
							label (object SegLabel @15
								quid "518A1DB201CD"
								pos (1082,42)
								positionBySuperclass FALSE
								max_width 209
								pctDist 1.136719
								height 296)
							positionBySuperclass FALSE
							client @5
							supplier @7
							vertices (list Points
								(500,338)
								(1012,338))
							line_style 6144)
						(object ConnectorVw ":Structure:C5192300600DD" @16
							quid "5192300302F9"
							stereotype TRUE
							uses_fill_color FALSE
							quidu "5192300600DD"
							label (object SegLabel @17
								quid "5192300600E1"
								pos (1512,318)
								positionBySuperclass FALSE
								max_width 209
								pctDist 1.313916
								height 294
								orientation 1)
							positionBySuperclass FALSE
							client @11
							supplier @8
							vertices (list Points
								(1218,724)
								(1218,415))
							line_style 6144)
						(object ConnectorVw ":Structure:C519B5AC70223" @18
							quid "519B5AC502BC"
							stereotype TRUE
							uses_fill_color FALSE
							quidu "519B5AC70223"
							label (object SegLabel @19
								quid "519B5AC70225"
								pos (764,532)
								max_width 209
								pctDist 0.500000
								height 45)
							client @13
							supplier @9
							vertices (list Points
								(565,726)
								(1011,410))
							line_style 6144))
					filterFlags 521))
			(object Capsule "mainCapsule"
				attributes (list Attribute_Set
					(object Attribute
						tool "OT::Cpp"
						name "HeaderPreface"
						value (value Text "")))
				quid "517679F9026D"
				structure (object CapsuleCollaboration "Structure"
					quid "517679F90271"
					ports (list portsList
						(object Port "frame"
							quid "51768809029A"
							classifier  "Logical View::RTClasses::Frame"
							quidu "37E9291F0276"
							isRelay FALSE
							isWired FALSE
							visibility "Protected")
						(object Port "GUI"
							quid "518A1D7E0221"
							classifier  "Logical View::TCPIP::jsonProtocol"
							quidu "51875F9A015E"
							isConjugated TRUE
							isRelay FALSE)
						(object Port "Serial"
							quid "51922FF401F5"
							classifier  "Logical View::Serial::serialProtocol"
							quidu "51922EBB029C"
							isConjugated TRUE
							isRelay FALSE)
						(object Port "Roomba"
							quid "519B58CA021E"
							classifier  "Logical View::Roomba::roombaProtocol"
							quidu "519B588C0151"
							isConjugated TRUE
							isRelay FALSE)))
				statemachine (object State_Machine
					quid "517679F9026E"
					State (object State "TOP"
						quid "517679F9026F"
						states (list States
							(object InitialPt "Initial"
								quid "517679F90270")
							(object State "ready"
								quid "518A1E600152"
								states (list States
									(object InitialPt "Initial"
										quid "518A1E600159")
									(object JuncPt "J519B520503EB"
										quid "519B520503EB"
										isEntry TRUE
										externallyVisible TRUE)
									(object JuncPt "J519B64890324"
										quid "519B64890324"
										externallyVisible TRUE)
									(object JuncPt "J519B64890329"
										quid "519B64890329"
										isEntry TRUE
										externallyVisible TRUE)
									(object JuncPt "J51A475DD0298"
										quid "51A475DD0298"
										externallyVisible TRUE)
									(object JuncPt "J51A475E10205"
										quid "51A475E10205"
										isEntry TRUE
										externallyVisible TRUE)
									(object JuncPt "J51AC8C82005A"
										quid "51AC8C82005A"
										externallyVisible TRUE)
									(object JuncPt "J51AC8C82005F"
										quid "51AC8C82005F"
										isEntry TRUE
										externallyVisible TRUE)
									(object JuncPt "J51B596CA016E"
										quid "51B596CA016E"
										externallyVisible TRUE)
									(object JuncPt "J51B596D5038E"
										quid "51B596D5038E"
										isEntry TRUE
										externallyVisible TRUE)
									(object JuncPt "J51B596D9006C"
										quid "51B596D9006C"
										externallyVisible TRUE)
									(object JuncPt "J51B596DC02D8"
										quid "51B596DC02D8"
										isEntry TRUE
										externallyVisible TRUE)))
							(object State "waitingForCom"
								quid "519B51E503D1"
								entryAction (object Action
									quid "519B5201027F"
									body 
|cout << "MAI: Waiting for com port to open" << endl;
									)
								states (list States
									(object InitialPt "Initial"
										quid "519B51E503D8")
									(object JuncPt "J519B51EF0196"
										quid "519B51EF0196"
										isEntry TRUE
										externallyVisible TRUE)
									(object JuncPt "J519B520503E6"
										quid "519B520503E6"
										externallyVisible TRUE)
									(object JuncPt "J519B525003DD"
										quid "519B525003DD"
										externallyVisible TRUE)))
							(object State "Exit"
								quid "519B524B00FE"
								entryAction (object Action
									quid "519B526E017B"
									body 
|cout << "MAI: Com port not opened. Quiting..." << endl;
									)
								states (list States
									(object InitialPt "Initial"
										quid "519B524B0106")
									(object JuncPt "J519B525003E2"
										quid "519B525003E2"
										isEntry TRUE
										externallyVisible TRUE))))
						transitions (list transition_list
							(object Trans "Initial"
								quid "518A1E680225"
								source  ":TOP:Initial"
								target  ":TOP:waitingForCom:J519B51EF0196"
								action (object Action
									quid "518A1E990077"
									body 
|cout << "Initializing mainCapsule" << endl;
|
									))
							(object Trans "GUIDataReceived"
								quid "518A1EA50319"
								source  ":TOP:ready:J51A475DD0298"
								target  ":TOP:ready:J51A475E10205"
								action (object Action
									quid "518A1EC60020"
									body "Roomba.commandReceived(*rtdata).send();")
								eventGuards (list eventGuardsList
									(object EventGuard
										quid "518A1EB40276"
										Event (object PortEvent
											quid "518A1EB40277"
											ports (list portsList
												ports  ":Structure:GUI"
												quidu "518A1D7E0221")
											signals (list signalsList
												signals  ":base:commandReceived"
												quidu "518764BD0115")))))
							(object Trans "serialDataReceived"
								quid "519345E300C4"
								source  ":TOP:ready:J51B596CA016E"
								target  ":TOP:ready:J51B596DC02D8"
								action (object Action
									quid "5193464603BB"
									body "Roomba.dataReceived(*rtdata).send();")
								eventGuards (list eventGuardsList
									(object EventGuard
										quid "519345F1037F"
										Event (object PortEvent
											quid "519345F10380"
											ports (list portsList
												ports  ":Structure:Serial"
												quidu "51922FF401F5")
											signals (list signalsList
												signals  ":base:commandReceived"
												quidu "51922F3801EC")))))
							(object Trans "comOpened"
								quid "519B520503E5"
								source  ":TOP:waitingForCom:J519B520503E6"
								target  ":TOP:ready:J519B520503EB"
								action (object Action
									quid "519B52230077"
									body 
|Roomba.ready().send();
|cout << "MainCapsule is ready and happy to handle your stuff :D " << endl;
|
									)
								eventGuards (list eventGuardsList
									(object EventGuard
										quid "519B5211007F"
										Event (object PortEvent
											quid "519B52110080"
											ports (list portsList
												ports  ":Structure:Serial"
												quidu "51922FF401F5")
											signals (list signalsList
												signals  ":base:comOpened"
												quidu "519B50570217")))))
							(object Trans "comError"
								quid "519B525003DC"
								source  ":TOP:waitingForCom:J519B525003DD"
								target  ":TOP:Exit:J519B525003E2"
								eventGuards (list eventGuardsList
									(object EventGuard
										quid "519B525A0155"
										Event (object PortEvent
											quid "519B525A0156"
											ports (list portsList
												ports  ":Structure:Serial"
												quidu "51922FF401F5")
											signals (list signalsList
												signals  ":base:comError"
												quidu "519B50D9007C")))))
							(object Trans "roombaDataReceived"
								quid "519B64890323"
								source  ":TOP:ready:J519B64890324"
								target  ":TOP:ready:J519B64890329"
								action (object Action
									quid "519B64AE0152"
									body "Serial.sendCommand(*rtdata).send();")
								eventGuards (list eventGuardsList
									(object EventGuard
										quid "519B649401D7"
										Event (object PortEvent
											quid "519B649401D8"
											ports (list portsList
												ports  ":Structure:Roomba"
												quidu "519B58CA021E")
											signals (list signalsList
												signals  ":base:sendData"
												quidu "519B64760329")))))
							(object Trans "setCommandLength"
								quid "51AC8C820059"
								source  ":TOP:ready:J51AC8C82005A"
								target  ":TOP:ready:J51AC8C82005F"
								action (object Action
									quid "51AC8CA3024F"
									body "Serial.commandLength(*rtdata).send();")
								eventGuards (list eventGuardsList
									(object EventGuard
										quid "51AC8C8C02A1"
										Event (object PortEvent
											quid "51AC8C8C02A2"
											ports (list portsList
												ports  ":Structure:Roomba"
												quidu "519B58CA021E")
											signals (list signalsList
												signals  ":base:setCommandLength"
												quidu "51AC8C450269")))))
							(object Trans "sendToGUI"
								quid "51B596BE005A"
								source  ":TOP:ready:J51B596D9006C"
								target  ":TOP:ready:J51B596D5038E"
								action (object Action
									quid "51B597330284"
									body "GUI.sendCommand(*rtdata).send();")
								eventGuards (list eventGuardsList
									(object EventGuard
										quid "51B5972A0064"
										Event (object PortEvent
											quid "51B5972A0065"
											ports (list portsList
												ports  ":Structure:Roomba"
												quidu "519B58CA021E")
											signals (list signalsList
												signals  ":base:sendCommand"
												quidu "51B5971B0278"))))))))
				statediagram (object State_Diagram "State Diagram"
					quid "517679F90272"
					items (list diagram_item_list
						(object StateView "Perimeter" "TOP" @20
							quid "517679F90274"
							pos (1806,761)
							quidu "517679F9026F"
							width 3432
							height 1341
							positionBySuperclass FALSE)
						(object StateView "StartState" "Initial" @21
							quid "517679F90275"
							pos (180,180)
							quidu "517679F90270"
							positionBySuperclass FALSE)
						(object StateView "Normal" "ready" @22
							quid "518A1E600113"
							pos (1021,707)
							quidu "518A1E600152"
							width 442
							height 293
							label (object ItemLabel
								quid "518A1E600153"
								pos (1021,605)
								max_width 81)
							positionBySuperclass FALSE
							boundIcons (list boundIconsList
								(object JuncPtVw ":TOP:ready:J519B520503EB" @23
									quid "519B52060003"
									pos (877,560)
									quidu "519B520503EB"
									positionBySuperclass FALSE
									boundIconAutoAdjust TRUE)
								(object JuncPtVw ":TOP:ready:J519B64890324" @24
									quid "519B64890328"
									pos (800,775)
									quidu "519B64890324"
									positionBySuperclass FALSE
									boundIconAutoAdjust TRUE)
								(object JuncPtVw ":TOP:ready:J519B64890329" @25
									quid "519B6489032D"
									pos (800,685)
									quidu "519B64890329"
									positionBySuperclass FALSE
									boundIconAutoAdjust TRUE)
								(object JuncPtVw ":TOP:ready:J51A475DD0298" @26
									quid "51A475DD029C"
									pos (1242,616)
									quidu "51A475DD0298"
									boundIconAutoAdjust TRUE)
								(object JuncPtVw ":TOP:ready:J51A475E10205" @27
									quid "51A475E10209"
									pos (1242,719)
									quidu "51A475E10205"
									boundIconAutoAdjust TRUE)
								(object JuncPtVw ":TOP:ready:J51AC8C82005A" @28
									quid "51AC8C82005E"
									pos (1091,560)
									quidu "51AC8C82005A"
									boundIconAutoAdjust TRUE)
								(object JuncPtVw ":TOP:ready:J51AC8C82005F" @29
									quid "51AC8C820063"
									pos (1181,560)
									quidu "51AC8C82005F"
									boundIconAutoAdjust TRUE)
								(object JuncPtVw ":TOP:ready:J51B596CA016E" @30
									quid "51B596CA017E"
									pos (878,853)
									quidu "51B596CA016E"
									boundIconAutoAdjust TRUE)
								(object JuncPtVw ":TOP:ready:J51B596D5038E" @31
									quid "51B596D50392"
									pos (1031,853)
									quidu "51B596D5038E"
									positionBySuperclass FALSE
									boundIconAutoAdjust TRUE)
								(object JuncPtVw ":TOP:ready:J51B596D9006C" @32
									quid "51B596D90070"
									pos (1141,853)
									quidu "51B596D9006C"
									positionBySuperclass FALSE
									boundIconAutoAdjust TRUE)
								(object JuncPtVw ":TOP:ready:J51B596DC02D8" @33
									quid "51B596DC02DC"
									pos (953,853)
									quidu "51B596DC02D8"
									boundIconAutoAdjust TRUE))
							statediagram (object State_Diagram ""
								quid "518A1E680227"
								items (list diagram_item_list
									(object StateView "Perimeter" "ready" @34
										quid "518A1E680229"
										pos (840,615)
										quidu "518A1E600152"
										boundIcons (list boundIconsList
											(object JuncPtVw ":TOP:ready:J519B520503EB" @35
												quid "519B52060000"
												pos (345,96)
												quidu "519B520503EB"
												juncPtIcon (object JuncPtIcon @36
													quid "519B52060001"
													pos (345,186)
													label (object ItemLabel
														quid "519B52060002"
														pos (385,156))))
											(object JuncPtVw ":TOP:ready:J519B64890324" @37
												quid "519B64890325"
												pos (96,857)
												quidu "519B64890324"
												juncPtIcon (object JuncPtIcon @38
													quid "519B64890326"
													pos (186,857)
													label (object ItemLabel
														quid "519B64890327"
														pos (156,897))))
											(object JuncPtVw ":TOP:ready:J519B64890329" @39
												quid "519B6489032A"
												pos (96,542)
												quidu "519B64890329"
												juncPtIcon (object JuncPtIcon @40
													quid "519B6489032B"
													pos (186,542)
													label (object ItemLabel
														quid "519B6489032C"
														pos (156,582))))
											(object JuncPtVw ":TOP:ready:J51A475DD0298" @41
												quid "51A475DD0299"
												pos (1584,290)
												quidu "51A475DD0298"
												juncPtIcon (object JuncPtIcon @42
													quid "51A475DD029A"
													pos (1494,290)
													label (object ItemLabel
														quid "51A475DD029B"
														pos (1524,330))))
											(object JuncPtVw ":TOP:ready:J51A475E10205" @43
												quid "51A475E10206"
												pos (1584,657)
												quidu "51A475E10205"
												juncPtIcon (object JuncPtIcon @44
													quid "51A475E10207"
													pos (1494,657)
													label (object ItemLabel
														quid "51A475E10208"
														pos (1524,697))))
											(object JuncPtVw ":TOP:ready:J51AC8C82005A" @45
												quid "51AC8C82005B"
												pos (1080,96)
												quidu "51AC8C82005A"
												juncPtIcon (object JuncPtIcon @46
													quid "51AC8C82005C"
													pos (1080,186)
													label (object ItemLabel
														quid "51AC8C82005D"
														pos (1120,156))))
											(object JuncPtVw ":TOP:ready:J51AC8C82005F" @47
												quid "51AC8C820060"
												pos (1380,96)
												quidu "51AC8C82005F"
												juncPtIcon (object JuncPtIcon @48
													quid "51AC8C820061"
													pos (1380,186)
													label (object ItemLabel
														quid "51AC8C820062"
														pos (1420,156))))
											(object JuncPtVw ":TOP:ready:J51B596CA016E" @49
												quid "51B596CA016F"
												pos (360,1134)
												quidu "51B596CA016E"
												juncPtIcon (object JuncPtIcon @50
													quid "51B596CA0170"
													pos (360,1044)
													label (object ItemLabel
														quid "51B596CA0171"
														pos (400,1074))))
											(object JuncPtVw ":TOP:ready:J51B596D5038E" @51
												quid "51B596D5038F"
												pos (870,1134)
												quidu "51B596D5038E"
												juncPtIcon (object JuncPtIcon @52
													quid "51B596D50390"
													pos (870,1044)
													label (object ItemLabel
														quid "51B596D50391"
														pos (910,1074))))
											(object JuncPtVw ":TOP:ready:J51B596D9006C" @53
												quid "51B596D9006D"
												pos (1245,1134)
												quidu "51B596D9006C"
												juncPtIcon (object JuncPtIcon @54
													quid "51B596D9006E"
													pos (1245,1044)
													label (object ItemLabel
														quid "51B596D9006F"
														pos (1285,1074))))
											(object JuncPtVw ":TOP:ready:J51B596DC02D8" @55
												quid "51B596DC02D9"
												pos (615,1134)
												quidu "51B596DC02D8"
												juncPtIcon (object JuncPtIcon @56
													quid "51B596DC02DA"
													pos (615,1044)
													label (object ItemLabel
														quid "51B596DC02DB"
														pos (655,1074))))))
									(object StateView "StartState" "Initial" @57
										quid "518A1E68022A"
										pos (180,180)
										quidu "518A1E600159"))
								filterFlags 1))
						(object StateView "Normal" "waitingForCom" @58
							quid "519B51E5038F"
							pos (538,346)
							quidu "519B51E503D1"
							width 276
							label (object ItemLabel
								quid "519B51E503D2"
								pos (538,301)
								max_width 209)
							positionBySuperclass FALSE
							boundIcons (list boundIconsList
								(object JuncPtVw ":TOP:waitingForCom:J519B51EF0196" @59
									quid "519B51EF019E"
									pos (411,267)
									quidu "519B51EF0196"
									boundIconAutoAdjust TRUE)
								(object JuncPtVw ":TOP:waitingForCom:J519B520503E6" @60
									quid "519B520503EA"
									pos (625,436)
									quidu "519B520503E6"
									positionBySuperclass FALSE
									boundIconAutoAdjust TRUE)
								(object JuncPtVw ":TOP:waitingForCom:J519B525003DD" @61
									quid "519B525003E1"
									pos (500,436)
									quidu "519B525003DD"
									positionBySuperclass FALSE
									boundIconAutoAdjust TRUE))
							statediagram (object State_Diagram ""
								quid "519B51EF0197"
								items (list diagram_item_list
									(object StateView "Perimeter" "waitingForCom" @62
										quid "519B51EF0199"
										pos (840,615)
										quidu "519B51E503D1"
										boundIcons (list boundIconsList
											(object JuncPtVw ":TOP:waitingForCom:J519B51EF0196" @63
												quid "519B51EF019B"
												pos (585,96)
												quidu "519B51EF0196"
												juncPtIcon (object JuncPtIcon @64
													quid "519B51EF019C"
													pos (585,186)
													label (object ItemLabel
														quid "519B51EF019D"
														pos (625,156))))
											(object JuncPtVw ":TOP:waitingForCom:J519B520503E6" @65
												quid "519B520503E7"
												pos (1320,1134)
												quidu "519B520503E6"
												juncPtIcon (object JuncPtIcon @66
													quid "519B520503E8"
													pos (1320,1044)
													label (object ItemLabel
														quid "519B520503E9"
														pos (1360,1074))))
											(object JuncPtVw ":TOP:waitingForCom:J519B525003DD" @67
												quid "519B525003DE"
												pos (630,1134)
												quidu "519B525003DD"
												juncPtIcon (object JuncPtIcon @68
													quid "519B525003DF"
													pos (630,1044)
													label (object ItemLabel
														quid "519B525003E0"
														pos (670,1074))))))
									(object StateView "StartState" "Initial" @69
										quid "519B51EF019A"
										pos (180,180)
										quidu "519B51E503D8"))
								filterFlags 1))
						(object StateView "Normal" "Exit" @70
							quid "519B524B00C6"
							pos (344,778)
							quidu "519B524B00FE"
							label (object ItemLabel
								quid "519B524B00FF"
								pos (344,733)
								max_width 63)
							positionBySuperclass FALSE
							boundIcons (list boundIconsList
								(object JuncPtVw ":TOP:Exit:J519B525003E2" @71
									quid "519B525003EA"
									pos (380,688)
									quidu "519B525003E2"
									positionBySuperclass FALSE
									boundIconAutoAdjust TRUE))
							statediagram (object State_Diagram ""
								quid "519B525003E3"
								items (list diagram_item_list
									(object StateView "Perimeter" "Exit" @72
										quid "519B525003E5"
										pos (840,615)
										quidu "519B524B00FE"
										boundIcons (list boundIconsList
											(object JuncPtVw ":TOP:Exit:J519B525003E2" @73
												quid "519B525003E7"
												pos (1065,96)
												quidu "519B525003E2"
												juncPtIcon (object JuncPtIcon @74
													quid "519B525003E8"
													pos (1065,186)
													label (object ItemLabel
														quid "519B525003E9"
														pos (1105,156))))))
									(object StateView "StartState" "Initial" @75
										quid "519B525003E6"
										pos (180,180)
										quidu "519B524B0106"))
								filterFlags 1))
						(object TransView ":TOP:Initial:Initial" @76
							quid "518A1E6700FA"
							uses_fill_color FALSE
							quidu "518A1E680225"
							label (object SegLabel @77
								quid "518A1E68022F"
								pos (324,186)
								positionBySuperclass FALSE
								max_width 113
								pctDist 0.519367
								height 44)
							positionBySuperclass FALSE
							client @21
							supplier @59
							vertices (list Points
								(207,189)
								(402,263))
							line_style 6144)
						(object TransView ":TOP:waitingForCom:J519B520503E6:comOpened" @78
							quid "519B520500C8"
							uses_fill_color FALSE
							quidu "519B520503E5"
							label (object SegLabel @79
								quid "519B52060004"
								pos (854,442)
								positionBySuperclass FALSE
								max_width 144
								pctDist 0.762668
								height 95)
							positionBySuperclass FALSE
							client @60
							supplier @23
							vertices (list Points
								(632,439)
								(868,555))
							line_style 6144)
						(object TransView ":TOP:waitingForCom:J519B525003DD:comError" @80
							quid "519B525000F7"
							uses_fill_color FALSE
							quidu "519B525003DC"
							label (object SegLabel @81
								quid "519B525003EB"
								pos (502,586)
								positionBySuperclass FALSE
								max_width 128
								pctDist 0.483021
								height 68)
							positionBySuperclass FALSE
							client @61
							supplier @71
							vertices (list Points
								(496,443)
								(383,679))
							line_style 6144)
						(object TransView ":TOP:ready:J519B64890324:roombaDataReceived" @82
							quid "519B64890322"
							uses_fill_color FALSE
							quidu "519B64890323"
							label (object SegLabel @83
								quid "519B6489032E"
								pos (674,849)
								positionBySuperclass FALSE
								max_width 288
								pctDist 1.784615
								height 74)
							positionBySuperclass FALSE
							client @24
							supplier @25
							vertices (list Points
								(790,775)
								(725,775)
								(725,685)
								(790,685))
							line_style 6144)
						(object TransView ":TOP:ready:J51A475DD0298:GUIDataReceived" @84
							quid "518A1EA50318"
							uses_fill_color FALSE
							quidu "518A1EA50319"
							label (object SegLabel @85
								quid "518A1EA50324"
								pos (1381,766)
								positionBySuperclass FALSE
								max_width 241
								pctDist 1.456311
								height 64)
							positionBySuperclass FALSE
							client @26
							supplier @27
							vertices (list Points
								(1250,616)
								(1317,616)
								(1317,719)
								(1250,719))
							line_style 6144)
						(object TransView ":TOP:ready:J51AC8C82005A:setCommandLength" @86
							quid "51AC8C820058"
							uses_fill_color FALSE
							quidu "51AC8C820059"
							label (object SegLabel @87
								quid "51AC8C820064"
								pos (1136,441)
								max_width 256
								pctDist 0.500000
								height 45)
							client @28
							supplier @29
							vertices (list Points
								(1091,550)
								(1091,485)
								(1181,485)
								(1181,550))
							line_style 6144)
						(object TransView ":TOP:ready:J51B596CA016E:serialDataReceived" @88
							quid "519345E300C3"
							uses_fill_color FALSE
							quidu "519345E300C4"
							label (object SegLabel @89
								quid "519345E300CF"
								pos (915,973)
								max_width 288
								pctDist 0.497608
								height 45
								orientation 1)
							client @30
							supplier @33
							vertices (list Points
								(878,861)
								(878,928)
								(953,928)
								(953,861))
							line_style 6144)
						(object TransView ":TOP:ready:J51B596D9006C:sendToGUI" @90
							quid "51B596BE0059"
							uses_fill_color FALSE
							quidu "51B596BE005A"
							label (object SegLabel @91
								quid "51B596BE0073"
								pos (1165,972)
								positionBySuperclass FALSE
								max_width 144
								pctDist 1.656716
								height 24)
							positionBySuperclass FALSE
							client @32
							supplier @31
							vertices (list Points
								(1141,861)
								(1141,928)
								(1031,928)
								(1031,861))
							line_style 6144))
					filterFlags 1)
				language "C++"
				structureDiagram (object CollaborationDiagram "Structure Diagram"
					quid "517679F90276"
					items (list diagram_item_list
						(object CapsulePerimeterVw "Structure" @92
							quid "517679F90278"
							pos (840,615)
							quidu "517679F90271"
							boundIcons (list boundIconsList
								(object PortVw ":Structure:GUI" @93
									quid "518A1D7E01D9"
									pos (96,288)
									quidu "518A1D7E0221"
									label (object ItemLabel
										quid "518A1D80026E"
										pos (105,324)
										nlines 2
										max_width 256
										label "GUI"))
								(object PortVw ":Structure:Serial" @94
									quid "51922FF401A3"
									pos (941,1134)
									quidu "51922FF401F5"
									label (object ItemLabel
										quid "51922FF600D2"
										pos (950,1170)
										nlines 2
										max_width 288
										label "Serial"))
								(object PortVw ":Structure:Roomba" @95
									quid "519B58CA01BE"
									pos (97,1128)
									quidu "519B58CA021E"
									label (object ItemLabel
										quid "519B58CC0048"
										pos (106,1164)
										nlines 2
										max_width 288
										label "Roomba"))))
						(object PortVw ":Structure:frame" @96
							quid "5176880C0102"
							pos (486,576)
							font (object Font
								face "MS Sans Serif")
							quidu "51768809029A"
							label (object ItemLabel
								quid "5176880C0104"
								pos (495,612)
								font (object Font
									face "MS Sans Serif")
								nlines 2
								max_width 138
								label "frame")))
					filterFlags 521))
			(object Class_Category "RTClasses"
				is_unit TRUE
				is_loaded FALSE
				file_name "$ROSERT_HOME\\C++\\RTClasses.rtlogpkg"
				isOwned FALSE
				quid "37F129B10358")
			(object Class_Category "TCPIP"
				quid "51875B0A0238"
				exportControl "Public"
				logical_models (list unit_reference_list
					(object Class_Utility "TCPCONSTANTS"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "ClassKind"
								value ("ClassKindSet" 0))
							(object Attribute
								tool "OT::CppTargetRTS"
								name "GenerateDescriptor"
								value ("GenerateDescriptorSet" 2))
							(object Attribute
								tool "OT::Cpp"
								name "GenerateClass"
								value FALSE)
							(object Attribute
								tool "OT::Cpp"
								name "GenerateCopyConstructor"
								value FALSE)
							(object Attribute
								tool "OT::Cpp"
								name "GenerateDefaultConstructor"
								value FALSE)
							(object Attribute
								tool "OT::Cpp"
								name "GenerateAssignmentOperator"
								value FALSE)
							(object Attribute
								tool "OT::Cpp"
								name "DestructorVirtual"
								value FALSE)
							(object Attribute
								tool "OT::Cpp"
								name "GenerateDestructor"
								value FALSE))
						quid "36FFD8100213"
						used_nodes (list uses_relationship_list
							(object Uses_Relationship
								quid "3A9163D20310"
								supplier  "Logical View::RTClasses::RTString"
								quidu "37E928FA039F"))
						class_attributes (list class_attribute_list
							(object ClassAttribute "BUFF_LEN"
								attributes (list Attribute_Set
									(object Attribute
										tool "OT::Cpp"
										name "AttributeKind"
										value ("AttributeKindSet" 2)))
								quid "36FFD8220213"
								initv "100"
								type "int"
								scope "Classifier"
								visibility "Public")
							(object ClassAttribute "NUM_MESSAGES"
								attributes (list Attribute_Set
									(object Attribute
										tool "OT::Cpp"
										name "AttributeKind"
										value ("AttributeKindSet" 1))
									(object Attribute
										tool "OT::Cpp"
										name "InitializerKind"
										value ("InitializerKindSet" 0)))
								quid "36FFD86F031C"
								initv "10000"
								type "int"
								scope "Classifier"
								visibility "Public")
							(object ClassAttribute "MASTER_HOST"
								attributes (list Attribute_Set
									(object Attribute
										tool "OT::Cpp"
										name "AttributeKind"
										value ("AttributeKindSet" 1))
									(object Attribute
										tool "OT::Cpp"
										name "InitializerKind"
										value ("InitializerKindSet" 0)))
								quid "36FFD89D0242"
								initv 
|"127.0.0.1"
								
								type "char[]"
								scope "Classifier"
								visibility "Public")
							(object ClassAttribute "DEFAULT_PORT"
								attributes (list Attribute_Set
									(object Attribute
										tool "OT::Cpp"
										name "InitializerKind"
										value ("InitializerKindSet" 0))
									(object Attribute
										tool "OT::Cpp"
										name "AttributeKind"
										value ("AttributeKindSet" 1)))
								quid "47E426F50119"
								initv 
|"1337"
								
								type "char[]"
								scope "Classifier"
								visibility "Public")
							(object ClassAttribute "DEFAULT_BUFLEN"
								attributes (list Attribute_Set
									(object Attribute
										tool "OT::Cpp"
										name "AttributeKind"
										value ("AttributeKindSet" 2))
									(object Attribute
										tool "OT::Cpp"
										name "InitializerKind"
										value ("InitializerKindSet" 0)))
								quid "47E4ED1B0157"
								initv "255"
								type "int"
								scope "Classifier"
								visibility "Public"))
						language "C++")
					(object Class "jsonCommand"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "HeaderPreface"
								value (value Text 
|#include "../../include/json.h"
|#include <stdio.h>
|
|using namespace std;
								)))
						quid "518764D2025A"
						class_attributes (list class_attribute_list
							(object ClassAttribute "command"
								quid "518764E800ED"
								type "std::string"
								visibility "Public")
							(object ClassAttribute "data"
								quid "518764EF028C"
								type "Json::Value"
								visibility "Public")
							(object ClassAttribute "jsonReader"
								quid "518A1629005A"
								type "Json::Reader"))
						operations (list Operations
							(object Operation "jsonCommand"
								quid "5188F4640064"
								body 
|//We should've received a complete JSON message.
|Json::Value msg;
|//std::cout << "Command to parse: " << jsonCommand << endl;
|bool parsingSuccessful = this->jsonReader.parse( jsonCommand, msg );
|if (!parsingSuccessful){
|    // report to the user the failure and their locations in the document.
|    std::cout  << "Failed to parse configuration\n"
|               << this->jsonReader.getFormatedErrorMessages();
|    return;
|}
|//cout << "New JSON command: " << msg["command"] << endl;
|
|this->command = msg["command"].asString();
|this->data = msg["data"];
|
								
								parameters (list Parameters
									(object Parameter "jsonCommand"
										quid "5188F5B2023B"
										type "std::string")))
							(object Operation "createJsonString"
								quid "518A1AD40218"
								body 
|Json::StyledWriter jsonWriter;
|Json::Value value;
|
|value["command"] = (Json::Value) this->command;
|value["data"] = (Json::Value) this->data;
|
|return jsonWriter.write(value);
								
								result "std::string")
							(object Operation "jsonCommand"
								quid "51B59406027B"
								body 
|cout << "New JSON command: " << jsonCommand << endl;
|
|this->command = jsonCommand;
|this->data = data;
|
								
								parameters (list Parameters
									(object Parameter "jsonCommand"
										quid "51B59406027C"
										type "std::string")
									(object Parameter "data"
										quid "51B5942900BD"
										type "Json::Value"))))
						language "C++")
					(object Capsule "tcpCapsule"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "HeaderPreface"
								value (value Text 
|//zet windowsversie op XP
|#define WINVER 0x0501
|
|#include <winsock2.h> 
|#include <ws2tcpip.h> 
|#include <stdio.h>
|#include <TCPCONSTANTS.h>
								)))
						quid "517678490259"
						used_nodes (list uses_relationship_list
							(object Uses_Relationship
								quid "517688AB0109"
								supplier  "Logical View::TCPIP::TCPCONSTANTS"
								quidu "36FFD8100213"))
						structure (object CapsuleCollaboration "Structure"
							quid "51767849025D"
							ports (list portsList
								(object Port "mainConnection"
									quid "5176786302E2"
									classifier  "Logical View::TCPIP::tcpProtocol"
									quidu "5176788B0049"
									isRelay FALSE)
								(object Port "timer"
									quid "51767E6302F6"
									classifier  "Logical View::RTClasses::Timing"
									quidu "37E9292C018C"
									isRelay FALSE
									isWired FALSE
									visibility "Protected")))
						class_attributes (list class_attribute_list
							(object ClassAttribute "ClientSocket"
								quid "51767C6A007B"
								type "SOCKET")
							(object ClassAttribute "hints"
								quid "51767C8E0284"
								type "addrinfo")
							(object ClassAttribute "iResult"
								quid "51767CA60105"
								type "int")
							(object ClassAttribute "ListenSocket"
								quid "51767CBA036D"
								initv "INVALID_SOCKET"
								type "SOCKET")
							(object ClassAttribute "ptr"
								quid "51767CCB03B3"
								initv "NULL"
								type "addrinfo *")
							(object ClassAttribute "recvbuf"
								quid "51767CDD01E5"
								type "char[DEFAULT_BUFLEN]")
							(object ClassAttribute "result"
								quid "51767CF6001A"
								initv "NULL"
								type "addrinfo *")
							(object ClassAttribute "wsaData"
								quid "51767D050092"
								type "WSADATA"))
						statemachine (object State_Machine
							quid "51767849025A"
							State (object State "TOP"
								quid "51767849025B"
								states (list States
									(object InitialPt "Initial"
										quid "51767849025C")
									(object State "Reset"
										quid "51767D3D02F0"
										entryAction (object Action
											quid "51767D70016B"
											body 
|// hier een zinvolle actie opnemen om te reageren op fouten
|// voorlopig na een timeout opnieuw beginnen
|cout << "SOC: in reset terecht gekomen" << endl;
|timer.informIn(RTTimespec(4,0));
											)
										states (list States
											(object InitialPt "Initial"
												quid "51767D3D02F8")
											(object JuncPt "J51767DEF03C6"
												quid "51767DEF03C6"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51767E19024A"
												quid "51767E19024A"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51767E2302AF"
												quid "51767E2302AF"
												externallyVisible TRUE)
											(object JuncPt "J51767EF30081"
												quid "51767EF30081"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51767EF80069"
												quid "51767EF80069"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51767F110127"
												quid "51767F110127"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51767F1803CE"
												quid "51767F1803CE"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51767F5E00A7"
												quid "51767F5E00A7"
												isEntry TRUE
												externallyVisible TRUE)))
									(object ChoicePt "InitializeWinsock"
										quid "51767D7D011E"
										guard (object Guard
											quid "51767DAC02C1"
											expression 
|// Initialize Winsock
|iResult = WSAStartup(MAKEWORD(2,2), &wsaData);
|if (iResult != 0) {
|    printf("SOC: WSAStartup failed: %d\n", iResult);
|}
|return (iResult==0);
|
|//The WSAStartup function is called to initiate use of WS2_32.dll.
|//The WSADATA structure contains information about 
|//the Windows Sockets implementation. 
|//The MAKEWORD(2,2) parameter of WSAStartup makes a request 
|//for version 2.2 of Winsock on the system, and sets the passed 
|//version as the highest version of Windows Sockets support 
|//that the caller can use.
|
|
											))
									(object ChoicePt "addressCorrect"
										quid "51767DF5039C"
										guard (object Guard
											quid "51767F7A0136"
											expression 
|result = NULL;
|ptr = NULL;
|
|
|ZeroMemory( &hints, sizeof(hints) );
|hints.ai_family = AF_INET;
|hints.ai_socktype = SOCK_STREAM;
|hints.ai_protocol = IPPROTO_TCP;
|hints.ai_flags = AI_PASSIVE;
|
|// Resolve the local address and port to be used by the server
|iResult = getaddrinfo(NULL, DEFAULT_PORT, &hints, &result);
|if ( iResult != 0 ) {
|    printf("SOC: getaddrinfo failed: %d\n", iResult);
|    WSACleanup();
|	return false;
|}
|else
|{
|	return true;
|}
|
											))
									(object ChoicePt "validSocket"
										quid "51767EA1031D"
										guard (object Guard
											quid "51767F7F01FD"
											expression 
|//Call the socket function and return its value to the ListenSocket 
|//variable. For this server application, use the first IP address 
|//returned by the call to getaddrinfo that matched the address family, 
|//socket type, and protocol specified in the hints parameter. 
|//In this example, a TCP stream socket for IPv4 was requested with an 
|//address family of IPv4, a socket type of SOCK_STREAM and a protocol 
|//of IPPROTO_TCP. So an IPv4 address is requested for the ListenSocket. 
|
|//If the server application wants to listen on IPv6, then the address 
|//family needs to be set to AF_INET6 in the hints parameter. 
|//If a server wants to listen on both IPv6 and IPv4, two listen sockets 
|//must be created, one for IPv6 and one for IPv4. These two sockets 
|//must be handled separately by the application.
|
|//Windows Vista and later offer the ability to create a single IPv6 
|//socket that is put in dual stack mode to listen on both IPv6 and IPv4. 
|//For more information on this feature, see Dual-Stack Sockets.
|
|// Create a SOCKET for the server to listen for client connections
|ListenSocket = INVALID_SOCKET;
|ClientSocket = INVALID_SOCKET;
|
|ListenSocket = socket(result->ai_family, 
|                      result->ai_socktype, 
|					  result->ai_protocol);
|
|if (ListenSocket == INVALID_SOCKET) {
|    printf("SOC: Error at socket(): %ld\n", WSAGetLastError());
|    freeaddrinfo(result);
|    WSACleanup();
|    return false;
|}
|else
|{
|	return true;
|}
											))
									(object ChoicePt "bindingSuccesfull"
										quid "51767EAD0333"
										guard (object Guard
											quid "51767F840231"
											expression 
|//Binding
|//For a server to accept client connections, it must be bound to a 
|//network address within the system. The following code demonstrates 
|//how to bind a socket that has already been created to an IP address 
|//and port. Client applications use the IP address and port to connect 
|//to the host network.
|
|//The sockaddr structure holds information regarding the address family,
|//IP address, and port number. 
|
|//Call the bind function, passing the created socket and sockaddr 
|//structure returned from the getaddrinfo function as parameters. 
|//Check for general errors.
|
|
|// Setup the TCP listening socket
|iResult = bind( ListenSocket, 
|                result->ai_addr, 
|				(int)result->ai_addrlen);
|if (iResult == SOCKET_ERROR) 
|{
|    printf("SOC: bind failed: %d\n", WSAGetLastError());
|    freeaddrinfo(result);
|    closesocket(ListenSocket);
|    WSACleanup();
|    return false;
|}
|else
|{
|	return true;
|}
											))
									(object ChoicePt "listening"
										quid "51767EBA0075"
										guard (object Guard
											quid "51767F8B0019"
											expression 
|//Listening on a Socket
|//After the socket is bound to an IP address and port on the system, 
|//the server must then listen on that IP address and port for incoming 
|//connection requests.
|
|//Call the listen function, passing as parameters the created socket 
|//and a value for the backlog, maximum length of the queue of pending 
|//connections to accept. In this example, the backlog parameter was set 
|//to SOMAXCONN. This value is a special constant that instructs the 
|//Winsock provider for this socket to allow a maximum reasonable number 
|//of pending connections in the queue. 
|//Check the return value for general errors. 
|if ( listen( ListenSocket, SOMAXCONN ) == SOCKET_ERROR ) {
|    printf( "SOC: Error at bind(): %ld\n", WSAGetLastError() );
|    closesocket(ListenSocket);
|    WSACleanup();
|    return false;
|}
|else
|{
|	cout << "SOC: listening to port: " << DEFAULT_PORT << endl;
|	return true;
|}
|
											))
									(object ChoicePt "acceptConnection"
										quid "51767EC702FE"
										guard (object Guard
											quid "51767F900271"
											expression 
|//Accepting a Connection
|//Once the socket is listening for a connection, the program must 
|//handle connection requests on that socket.
|
|//To accept a connection on a socket
|//Create a temporary SOCKET object called ClientSocket for accepting 
|//connections from clients.
|
|//Normally a server application would create a continuous loop that 
|//checks for connections requests. If a connection request occurs, 
|//call the accept function to handle the request. 
|//Note that in this basic example, the code only accepts a single 
|//connection. 
|
|//When the client connection has been accepted, a server would normally 
|//pass the accepted connection to a worker thread or an I/O completion 
|//port and continue accepting additional connections. In this basic 
|//example, the server continues to the next step. 
|
|ClientSocket = INVALID_SOCKET;
|
|// Accept a client socket
|ClientSocket = accept(ListenSocket, NULL, NULL);
|if (ClientSocket == INVALID_SOCKET) {
|    printf("SOC: accept failed: %d\n", WSAGetLastError());
|    closesocket(ListenSocket);
|    WSACleanup();
|    return false;
|}
|else
|{
|	return true;
|}
|
											))
									(object ChoicePt "getBytes"
										quid "51767F2600E6"
										guard (object Guard
											quid "51767F9600F8"
											expression 
|
|int recvbuflen = DEFAULT_BUFLEN;
|int iSendResult = 0;
|
|
|// Receive bytes
|// and test peer for shutting down the connection
|do
|{
|	iResult = recv(ClientSocket, recvbuf, recvbuflen, 0);
|	if (iResult > 0) 
|	{
|		/*printf("SOC: Bytes received by socket capsule: %d\n", iResult);
|		for (int i = 0; i < iResult; i++)
|		{
|			cout << recvbuf[i];
|		}
|
|        cout << endl;*/
|		// send data to the application capsule via the port appPort
|		mainConnection.dataReceived(RTString(recvbuf)).send();
|
|        //Clear buffer:
|        int i;
|        for(i=0;i<DEFAULT_BUFLEN;i++){
|            recvbuf[i] = 0;
|        }
|        // Echo the buffer back to the sender
|        /*iSendResult = send( ClientSocket, recvbuf, iResult, 0 );
|        if (iSendResult == SOCKET_ERROR) {
|            printf("send failed: %d\n", WSAGetLastError());
|            closesocket(ClientSocket);
|            WSACleanup();
|            return 1;
|        }
|        printf("Bytes sent: %d\n", iSendResult);*/
|	}
|	else
|	{
|		cout << "SOC: iResult <= 0 " << "is: " << iResult << endl;
|	}
|}
|while (iResult > 0);
|
|if (iResult<=0)
|{
|	printf("S: Connection closing...\n");
|	return false;
|}
|else
|{
|	return true;
|}
|
											))
									(object ChoicePt "shutdownConnection"
										quid "51767F490047"
										guard (object Guard
											quid "51767F9B0136"
											expression 
|// connection has been closed by the client
|// shutdown the send half of the connection since no more data can be sent
|iResult = shutdown(ClientSocket, SD_SEND);
|if (iResult == SOCKET_ERROR) {
|   	printf("SOC: shutdown failed: %d\n", WSAGetLastError());
|    freeaddrinfo(result);
|    closesocket(ListenSocket);
|   	closesocket(ClientSocket);
|   	WSACleanup();
|   	return false;
|}
|else
|{
|	return true;
|}
|
|
|
											)))
								transitions (list transition_list
									(object Trans "Initial"
										quid "51767D9700E1"
										source  ":TOP:Initial"
										target  ":TOP:InitializeWinsock")
									(object Trans "False"
										quid "51767DEF03C5"
										sourceRegion 0
										source  ":TOP:InitializeWinsock"
										target  ":TOP:Reset:J51767DEF03C6")
									(object Trans "True"
										quid "51767E1102D3"
										sourceRegion 1
										source  ":TOP:InitializeWinsock"
										target  ":TOP:addressCorrect")
									(object Trans "False"
										quid "51767E190249"
										sourceRegion 0
										source  ":TOP:addressCorrect"
										target  ":TOP:Reset:J51767E19024A")
									(object Trans "viaResetToInit"
										quid "51767E2302AE"
										source  ":TOP:Reset:J51767E2302AF"
										target  ":TOP:InitializeWinsock"
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51767E6602F4"
												Event (object PortEvent
													quid "51767E6602F5"
													ports (list portsList
														ports  ":Structure:timer"
														quidu "51767E6302F6")
													signals (list signalsList
														signals  ":base:timeout"
														quidu "3DF743000081")))))
									(object Trans "True"
										quid "51767EDC00FC"
										sourceRegion 1
										source  ":TOP:addressCorrect"
										target  ":TOP:validSocket")
									(object Trans "True"
										quid "51767EE100DB"
										sourceRegion 1
										source  ":TOP:validSocket"
										target  ":TOP:bindingSuccesfull")
									(object Trans "True"
										quid "51767EE602C6"
										sourceRegion 1
										source  ":TOP:bindingSuccesfull"
										target  ":TOP:listening")
									(object Trans "True"
										quid "51767EED007A"
										sourceRegion 1
										source  ":TOP:listening"
										target  ":TOP:acceptConnection")
									(object Trans "False"
										quid "51767EF3007F"
										sourceRegion 0
										source  ":TOP:validSocket"
										target  ":TOP:Reset:J51767EF30081")
									(object Trans "False"
										quid "51767EF80067"
										sourceRegion 0
										source  ":TOP:bindingSuccesfull"
										target  ":TOP:Reset:J51767EF80069")
									(object Trans "False"
										quid "51767F110125"
										sourceRegion 0
										source  ":TOP:listening"
										target  ":TOP:Reset:J51767F110127")
									(object Trans "False"
										quid "51767F1803CC"
										sourceRegion 0
										source  ":TOP:acceptConnection"
										target  ":TOP:Reset:J51767F1803CE")
									(object Trans "True"
										quid "51767F370190"
										sourceRegion 1
										source  ":TOP:acceptConnection"
										target  ":TOP:getBytes"
										action (object Action
											quid "51767FCC02AA"
											body 
|// stuur SOCKET ook naar de applicatie zodat deze ook kan zenden
|// terwijl deze capsule als server wacht op ontvangen data
|mainConnection.sock(ClientSocket).send();
|
|cout << "SOC: Connection received!" << endl;
											))
									(object Trans "True"
										quid "51767F3C0278"
										sourceRegion 1
										source  ":TOP:getBytes"
										target  ":TOP:getBytes")
									(object Trans "False"
										quid "51767F5E00A5"
										sourceRegion 0
										source  ":TOP:shutdownConnection"
										target  ":TOP:Reset:J51767F5E00A7")
									(object Trans "False"
										quid "51767F6103C6"
										sourceRegion 0
										source  ":TOP:getBytes"
										target  ":TOP:shutdownConnection"
										action (object Action
											quid "517680150129"
											body 
|// doorgeven dat socket niet meer is aangesloten
|mainConnection.noSock().send();
											))
									(object Trans "True"
										quid "51767F680318"
										sourceRegion 1
										source  ":TOP:shutdownConnection"
										target  ":TOP:acceptConnection"))))
						statediagram (object State_Diagram "State Diagram"
							quid "51767849025E"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @97
									quid "517678490260"
									pos (840,615)
									quidu "51767849025B")
								(object StateView "StartState" "Initial" @98
									quid "517678490261"
									pos (180,180)
									quidu "51767849025C")
								(object StateView "Normal" "Reset" @99
									quid "51767D3D0280"
									pos (664,618)
									font (object Font
										face "MS Sans Serif")
									quidu "51767D3D02F0"
									label (object ItemLabel
										quid "51767D3D02F1"
										pos (664,573)
										max_width 88)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:Reset:J51767DEF03C6" @100
											quid "51767DEF03CA"
											pos (666,528)
											quidu "51767DEF03C6"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Reset:J51767E19024A" @101
											quid "51767E19024E"
											pos (731,528)
											quidu "51767E19024A"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Reset:J51767E2302AF" @102
											quid "51767E2302B3"
											pos (642,528)
											quidu "51767E2302AF"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Reset:J51767EF30081" @103
											quid "51767EF30085"
											pos (784,574)
											quidu "51767EF30081"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Reset:J51767EF80069" @104
											quid "51767EF8006D"
											pos (784,624)
											quidu "51767EF80069"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Reset:J51767F110127" @105
											quid "51767F11012B"
											pos (784,670)
											quidu "51767F110127"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Reset:J51767F1803CE" @106
											quid "51767F1803D2"
											pos (680,708)
											quidu "51767F1803CE"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Reset:J51767F5E00A7" @107
											quid "51767F5E00AB"
											pos (544,662)
											quidu "51767F5E00A7"
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "51767D55012F"
										items (list diagram_item_list
											(object StateView "Perimeter" "Reset" @108
												quid "51767D550131"
												pos (840,615)
												quidu "51767D3D02F0"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:Reset:J51767DEF03C6" @109
														quid "51767DEF03C7"
														pos (855,96)
														quidu "51767DEF03C6"
														juncPtIcon (object JuncPtIcon @110
															quid "51767DEF03C8"
															pos (855,186)
															font (object Font
																face "MS Sans Serif")
															label (object ItemLabel
																quid "51767DEF03C9"
																pos (895,156)
																font (object Font
																	face "MS Sans Serif")
																max_width 78)))
													(object JuncPtVw ":TOP:Reset:J51767E19024A" @111
														quid "51767E19024B"
														pos (1260,96)
														quidu "51767E19024A"
														juncPtIcon (object JuncPtIcon @112
															quid "51767E19024C"
															pos (1260,186)
															font (object Font
																face "MS Sans Serif")
															label (object ItemLabel
																quid "51767E19024D"
																pos (1300,156)
																font (object Font
																	face "MS Sans Serif"))))
													(object JuncPtVw ":TOP:Reset:J51767E2302AF" @113
														quid "51767E2302B0"
														pos (447,96)
														quidu "51767E2302AF"
														positionBySuperclass FALSE
														juncPtIcon (object JuncPtIcon @114
															quid "51767E2302B1"
															pos (447,186)
															font (object Font
																face "MS Sans Serif")
															label (object ItemLabel
																quid "51767E2302B2"
																pos (487,156)
																font (object Font
																	face "MS Sans Serif")
																positionBySuperclass FALSE
																max_width 216)
															positionBySuperclass FALSE))
													(object JuncPtVw ":TOP:Reset:J51767EF30081" @115
														quid "51767EF30082"
														pos (1584,363)
														quidu "51767EF30081"
														juncPtIcon (object JuncPtIcon @116
															quid "51767EF30083"
															pos (1494,363)
															font (object Font
																face "MS Sans Serif")
															label (object ItemLabel
																quid "51767EF30084"
																pos (1524,403)
																font (object Font
																	face "MS Sans Serif"))))
													(object JuncPtVw ":TOP:Reset:J51767EF80069" @117
														quid "51767EF8006A"
														pos (1584,647)
														quidu "51767EF80069"
														juncPtIcon (object JuncPtIcon @118
															quid "51767EF8006B"
															pos (1494,647)
															font (object Font
																face "MS Sans Serif")
															label (object ItemLabel
																quid "51767EF8006C"
																pos (1524,687)
																font (object Font
																	face "MS Sans Serif"))))
													(object JuncPtVw ":TOP:Reset:J51767F110127" @119
														quid "51767F110128"
														pos (1584,920)
														quidu "51767F110127"
														juncPtIcon (object JuncPtIcon @120
															quid "51767F110129"
															pos (1494,920)
															font (object Font
																face "MS Sans Serif")
															label (object ItemLabel
																quid "51767F11012A"
																pos (1524,960)
																font (object Font
																	face "MS Sans Serif"))))
													(object JuncPtVw ":TOP:Reset:J51767F1803CE" @121
														quid "51767F1803CF"
														pos (945,1134)
														quidu "51767F1803CE"
														juncPtIcon (object JuncPtIcon @122
															quid "51767F1803D0"
															pos (945,1044)
															font (object Font
																face "MS Sans Serif")
															label (object ItemLabel
																quid "51767F1803D1"
																pos (985,1074)
																font (object Font
																	face "MS Sans Serif"))))
													(object JuncPtVw ":TOP:Reset:J51767F5E00A7" @123
														quid "51767F5E00A8"
														pos (96,867)
														quidu "51767F5E00A7"
														juncPtIcon (object JuncPtIcon @124
															quid "51767F5E00A9"
															pos (186,867)
															font (object Font
																face "MS Sans Serif")
															label (object ItemLabel
																quid "51767F5E00AA"
																pos (156,907)
																font (object Font
																	face "MS Sans Serif"))))))
											(object StateView "StartState" "Initial" @125
												quid "51767D550132"
												pos (180,180)
												quidu "51767D3D02F8"))
										filterFlags 1))
								(object ChoicePtVw "InitializeWinsock" @126
									quid "51767D7D0004"
									pos (679,263)
									font (object Font
										face "MS Sans Serif")
									quidu "51767D7D011E"
									label (object ItemLabel
										quid "51767D7D0124"
										pos (658,167)
										font (object Font
											face "MS Sans Serif")
										positionBySuperclass FALSE
										max_width 247)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ChoicePtPtVw "in" @127
											quid "51767D7D011F"
											pos (641,256)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "true" @128
											quid "51767D7D0120"
											pos (686,225)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "false" @129
											quid "51767D7D0122"
											pos (672,301)
											positionBySuperclass FALSE))
									angle 6.475172
									reversed TRUE)
								(object ChoicePtVw "addressCorrect" @130
									quid "51767DF5034D"
									pos (983,327)
									font (object Font
										face "MS Sans Serif")
									quidu "51767DF5039C"
									label (object ItemLabel
										quid "51767DF503A2"
										pos (1074,194)
										font (object Font
											face "MS Sans Serif")
										positionBySuperclass FALSE
										max_width 222)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ChoicePtPtVw "in" @131
											quid "51767DF5039D"
											pos (983,289)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "true" @132
											quid "51767DF5039E"
											pos (1021,327)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "false" @133
											quid "51767DF503A0"
											pos (945,327)
											positionBySuperclass FALSE))
									angle 1.570796
									reversed TRUE)
								(object ChoicePtVw "validSocket" @134
									quid "51767EA102DD"
									pos (1127,439)
									font (object Font
										face "MS Sans Serif")
									quidu "51767EA1031D"
									label (object ItemLabel
										quid "51767EA10323"
										pos (1257,359)
										font (object Font
											face "MS Sans Serif")
										positionBySuperclass FALSE
										max_width 175)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ChoicePtPtVw "in" @135
											quid "51767EA1031E"
											pos (1127,401)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "true" @136
											quid "51767EA1031F"
											pos (1165,439)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "false" @137
											quid "51767EA10321"
											pos (1089,439)
											positionBySuperclass FALSE))
									angle 1.570796
									reversed TRUE)
								(object ChoicePtVw "bindingSuccesfull" @138
									quid "51767EAD0332"
									pos (1191,647)
									font (object Font
										face "MS Sans Serif")
									quidu "51767EAD0333"
									label (object ItemLabel
										quid "51767EAD0339"
										pos (1390,529)
										font (object Font
											face "MS Sans Serif")
										uses_fill_color FALSE
										positionBySuperclass FALSE
										max_width 259)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ChoicePtPtVw "in" @139
											quid "51767EAD0334"
											pos (1191,609)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "true" @140
											quid "51767EAD0335"
											pos (1229,647)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "false" @141
											quid "51767EAD0337"
											pos (1153,647)
											positionBySuperclass FALSE))
									angle 1.570796
									reversed TRUE)
								(object ChoicePtVw "listening" @142
									quid "51767EBA0074"
									pos (1063,887)
									font (object Font
										face "MS Sans Serif")
									quidu "51767EBA0075"
									label (object ItemLabel
										quid "51767EBA007B"
										pos (1234,866)
										font (object Font
											face "MS Sans Serif")
										uses_fill_color FALSE
										positionBySuperclass FALSE
										max_width 119)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ChoicePtPtVw "in" @143
											quid "51767EBA0076"
											pos (1101,887)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "true" @144
											quid "51767EBA0077"
											pos (1063,925)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "false" @145
											quid "51767EBA0079"
											pos (1063,849)
											positionBySuperclass FALSE))
									angle 3.141593
									reversed TRUE)
								(object ChoicePtVw "acceptConnection" @146
									quid "51767EC702FD"
									pos (727,983)
									font (object Font
										face "MS Sans Serif")
									quidu "51767EC702FE"
									label (object ItemLabel
										quid "51767EC70306"
										pos (955,1027)
										font (object Font
											face "MS Sans Serif")
										uses_fill_color FALSE
										positionBySuperclass FALSE
										max_width 272)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ChoicePtPtVw "in" @147
											quid "51767EC702FF"
											pos (765,983)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "true" @148
											quid "51767EC70300"
											pos (727,1021)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "false" @149
											quid "51767EC70303"
											pos (727,945)
											positionBySuperclass FALSE))
									angle 3.141593
									reversed TRUE)
								(object ChoicePtVw "getBytes" @150
									quid "51767F26009D"
									pos (487,871)
									font (object Font
										face "MS Sans Serif")
									quidu "51767F2600E6"
									label (object ItemLabel
										quid "51767F2600ED"
										pos (423,1003)
										font (object Font
											face "MS Sans Serif")
										positionBySuperclass FALSE
										max_width 128)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ChoicePtPtVw "in" @151
											quid "51767F2600E8"
											pos (525,871)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "true" @152
											quid "51767F2600E9"
											pos (487,909)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "false" @153
											quid "51767F2600EB"
											pos (487,833)
											positionBySuperclass FALSE))
									angle 3.141593
									reversed TRUE)
								(object ChoicePtVw "shutdownConnection" @154
									quid "51767F490001"
									pos (391,727)
									font (object Font
										face "MS Sans Serif")
									quidu "51767F490047"
									label (object ItemLabel
										quid "51767F49004F"
										pos (277,600)
										font (object Font
											face "MS Sans Serif")
										positionBySuperclass FALSE
										max_width 313)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ChoicePtPtVw "in" @155
											quid "51767F49004A"
											pos (391,765)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "true" @156
											quid "51767F49004B"
											pos (353,727)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "false" @157
											quid "51767F49004D"
											pos (429,727)
											positionBySuperclass FALSE))
									angle 4.712389
									reversed TRUE)
								(object TransView ":TOP:Initial:Initial" @158
									quid "51767D950389"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767D9700E1"
									label (object SegLabel @159
										quid "51767D9700E3"
										pos (420,219)
										font (object Font
											face "MS Sans Serif")
										max_width 75
										pctDist 0.498855
										height 0
										orientation 1)
									client @98
									supplier @127
									vertices (list Points
										(208,184)
										(633,254))
									line_style 6144)
								(object TransView ":TOP:InitializeWinsock:False" @160
									quid "51767DEF0086"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767DEF03C5"
									label (object SegLabel @161
										quid "51767DEF03CB"
										pos (714,413)
										font (object Font
											face "MS Sans Serif")
										max_width 78
										pctDist 0.498711
										height 45)
									client @129
									supplier @100
									vertices (list Points
										(672,306)
										(666,518))
									line_style 6144)
								(object TransView ":TOP:InitializeWinsock:True" @162
									quid "51767E100218"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767E1102D3"
									label (object SegLabel @163
										quid "51767E1102D4"
										pos (833,256)
										font (object Font
											face "MS Sans Serif")
										max_width 69
										pctDist 0.499639
										height 0
										orientation 1)
									client @128
									supplier @131
									vertices (list Points
										(691,226)
										(975,287))
									line_style 6144)
								(object TransView ":TOP:addressCorrect:False" @164
									quid "51767E180238"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767E190249"
									label (object SegLabel @165
										quid "51767E19024F"
										pos (869,459)
										font (object Font
											face "MS Sans Serif")
										max_width 78
										pctDist 0.500954
										height 45)
									client @133
									supplier @101
									vertices (list Points
										(940,330)
										(736,521))
									line_style 6144)
								(object TransView ":TOP:Reset:J51767E2302AF:viaResetToInit" @166
									quid "51767E220358"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767E2302AE"
									label (object SegLabel @167
										quid "51767E2302B4"
										pos (440,335)
										font (object Font
											face "MS Sans Serif")
										positionBySuperclass FALSE
										max_width 216
										pctDist 1.682474
										height 87)
									positionBySuperclass FALSE
									client @102
									supplier @127
									vertices (list Points
										(633,522)
										(522,450)
										(525,384)
										(637,260))
									line_style 6144)
								(object TransView ":TOP:addressCorrect:True" @168
									quid "51767EDB0156"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767EDC00FC"
									label (object SegLabel @169
										quid "51767EDC00FE"
										pos (1072,362)
										font (object Font
											face "MS Sans Serif")
										max_width 69
										pctDist 0.500000
										height 0
										orientation 1)
									client @132
									supplier @135
									vertices (list Points
										(1024,328)
										(1120,396))
									line_style 6144)
								(object TransView ":TOP:validSocket:True" @170
									quid "51767EE0019D"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767EE100DB"
									label (object SegLabel @171
										quid "51767EE100DD"
										pos (1177,521)
										font (object Font
											face "MS Sans Serif")
										max_width 69
										pctDist 0.496925
										height 0)
									client @136
									supplier @139
									vertices (list Points
										(1165,442)
										(1189,601))
									line_style 6144)
								(object TransView ":TOP:bindingSuccesfull:True" @172
									quid "51767EE302B3"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767EE602C6"
									label (object SegLabel @173
										quid "51767EE602C8"
										pos (1165,765)
										font (object Font
											face "MS Sans Serif")
										max_width 69
										pctDist 0.498308
										height 0)
									client @140
									supplier @143
									vertices (list Points
										(1226,650)
										(1104,881))
									line_style 6144)
								(object TransView ":TOP:listening:True" @174
									quid "51767EEB03B9"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767EED007A"
									label (object SegLabel @175
										quid "51767EED007C"
										pos (913,953)
										font (object Font
											face "MS Sans Serif")
										max_width 69
										pctDist 0.500000
										height 0)
									client @144
									supplier @147
									vertices (list Points
										(1056,925)
										(770,981))
									line_style 6144)
								(object TransView ":TOP:validSocket:False" @176
									quid "51767EF20141"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767EF3007F"
									label (object SegLabel @177
										quid "51767EF30086"
										pos (954,546)
										font (object Font
											face "MS Sans Serif")
										max_width 78
										pctDist 0.502794
										height 45)
									client @137
									supplier @103
									vertices (list Points
										(1083,441)
										(791,569))
									line_style 6144)
								(object TransView ":TOP:bindingSuccesfull:False" @178
									quid "51767EF700A8"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767EF80067"
									label (object SegLabel @179
										quid "51767EF8006F"
										pos (966,680)
										font (object Font
											face "MS Sans Serif")
										max_width 78
										pctDist 0.499141
										height 45)
									client @141
									supplier @104
									vertices (list Points
										(1145,646)
										(792,624))
									line_style 6144)
								(object TransView ":TOP:listening:False" @180
									quid "51767F100267"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767F110125"
									label (object SegLabel @181
										quid "51767F11012C"
										pos (901,797)
										font (object Font
											face "MS Sans Serif")
										max_width 78
										pctDist 0.496568
										height 44)
									client @145
									supplier @105
									vertices (list Points
										(1057,844)
										(791,674))
									line_style 6144)
								(object TransView ":TOP:acceptConnection:False" @182
									quid "51767F1801E6"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767F1803CC"
									label (object SegLabel @183
										quid "51767F1803D3"
										pos (661,835)
										font (object Font
											face "MS Sans Serif")
										max_width 78
										pctDist 0.498334
										height 44)
									client @149
									supplier @106
									vertices (list Points
										(726,937)
										(681,715))
									line_style 6144)
								(object TransView ":TOP:acceptConnection:True" @184
									quid "51767F3503E4"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767F370190"
									label (object SegLabel @185
										quid "51767F370192"
										pos (624,944)
										font (object Font
											face "MS Sans Serif")
										max_width 69
										pctDist 0.501248
										height 0)
									client @148
									supplier @151
									vertices (list Points
										(720,1016)
										(528,873))
									line_style 6144)
								(object TransView ":TOP:getBytes:True" @186
									quid "51767F3C0277"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767F3C0278"
									label (object SegLabel @187
										quid "51767F3C027A"
										pos (565,996)
										font (object Font
											face "MS Sans Serif")
										positionBySuperclass FALSE
										max_width 69
										pctDist 0.501635
										height 0
										orientation 1)
									positionBySuperclass FALSE
									client @152
									supplier @151
									vertices (list Points
										(487,913)
										(500,984)
										(572,997)
										(526,875))
									line_style 6144)
								(object TransView ":TOP:shutdownConnection:False" @188
									quid "51767F5D0267"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767F5E00A5"
									label (object SegLabel @189
										quid "51767F5E00AC"
										pos (464,656)
										font (object Font
											face "MS Sans Serif")
										max_width 78
										pctDist 0.505989
										height 43)
									client @157
									supplier @107
									vertices (list Points
										(433,723)
										(536,666))
									line_style 6144)
								(object TransView ":TOP:getBytes:False" @190
									quid "51767F6100C8"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767F6103C6"
									label (object SegLabel @191
										quid "51767F6103C8"
										pos (375,829)
										font (object Font
											face "MS Sans Serif")
										positionBySuperclass FALSE
										max_width 78
										pctDist 0.811426
										height 61)
									positionBySuperclass FALSE
									client @153
									supplier @155
									vertices (list Points
										(481,828)
										(394,767))
									line_style 6144)
								(object TransView ":TOP:shutdownConnection:True" @192
									quid "51767F640243"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "51767F680318"
									label (object SegLabel @193
										quid "51767F68031A"
										pos (272,757)
										font (object Font
											face "MS Sans Serif")
										positionBySuperclass FALSE
										max_width 69
										pctDist 0.064730
										height 57
										orientation 1)
									positionBySuperclass FALSE
									client @156
									supplier @147
									vertices (list Points
										(350,730)
										(244,938)
										(309,1016)
										(516,1094)
										(784,1078)
										(765,987))
									line_style 6144))
							filterFlags 1)
						language "C++"
						structureDiagram (object CollaborationDiagram "Structure Diagram"
							quid "517678490262"
							items (list diagram_item_list
								(object CapsulePerimeterVw "Structure" @194
									quid "517678490264"
									pos (840,615)
									quidu "51767849025D"
									boundIcons (list boundIconsList
										(object PortVw ":Structure:mainConnection" @195
											quid "5176786603C0"
											pos (1584,484)
											font (object Font
												face "MS Sans Serif")
											quidu "5176786302E2"
											label (object ItemLabel
												quid "5176786603C3"
												pos (1593,520)
												font (object Font
													face "MS Sans Serif")
												positionBySuperclass FALSE
												nlines 2
												max_width 291
												label "mainConnection")
											positionBySuperclass FALSE)))
								(object PortVw ":Structure:timer" @196
									quid "51767E6602E5"
									pos (308,388)
									font (object Font
										face "MS Sans Serif")
									quidu "51767E6302F6"
									label (object ItemLabel
										quid "51767E6602E8"
										pos (317,424)
										font (object Font
											face "MS Sans Serif")
										positionBySuperclass FALSE
										nlines 2
										max_width 125
										label "timer")
									positionBySuperclass FALSE))
							filterFlags 521))
					(object Capsule "tcpTopCapsule"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "HeaderPreface"
								value (value Text "")))
						quid "51875E79036D"
						structure (object CapsuleCollaboration "Structure"
							quid "51875E790371"
							classifierRoles (list classifierRolesList
								(object CapsuleRole "tcpInstance"
									quid "51875EA901A5"
									classifier  "Logical View::TCPIP::tcpCapsule"
									quidu "517678490259"
									genericity "optional")
								(object CapsuleRole "jsonTranslateInstance"
									quid "5188E9A30035"
									classifier  "Logical View::TCPIP::jsonTranslateCapsule"
									quidu "5188E92D03D2"
									genericity "optional"))
							ports (list portsList
								(object Port "internalJsonPort"
									quid "51875FA2029B"
									classifier  "Logical View::TCPIP::jsonProtocol"
									quidu "51875F9A015E"
									isConjugated TRUE
									isRelay FALSE
									visibility "Protected")
								(object Port "frame"
									quid "51876CA10104"
									classifier  "Logical View::RTClasses::Frame"
									quidu "37E9291F0276"
									isRelay FALSE
									isWired FALSE
									visibility "Protected")
								(object Port "externalJsonPort"
									quid "518A19870013"
									classifier  "Logical View::TCPIP::jsonProtocol"
									quidu "51875F9A015E"
									isRelay FALSE))
							connectors (list connectorsList
								(object Connector "C5188E9B0034B"
									quid "5188E9B0034B"
									connectorCardinality  constValue "*"
									ends (list endsList
										ends  ":Structure:tcpInstance:mainConnection"
										ends  ":Structure:jsonTranslateInstance:tcpPort"))
								(object Connector "C5188E9BB0106"
									quid "5188E9BB0106"
									connectorCardinality  constValue "*"
									ends (list endsList
										ends  ":Structure:jsonTranslateInstance:jsonPort"
										ends  ":Structure:internalJsonPort"
										quidu "51875FA2029B"))))
						statemachine (object State_Machine
							quid "51875E79036E"
							State (object State "TOP"
								quid "51875E79036F"
								states (list States
									(object InitialPt "Initial"
										quid "51875E790370")
									(object State "readyToReceive"
										quid "5188E9C503A7"
										states (list States
											(object InitialPt "Initial"
												quid "5188E9C503AF")
											(object JuncPt "J5188E9CA014D"
												quid "5188E9CA014D"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J518A1A0D0015"
												quid "518A1A0D0015"
												externallyVisible TRUE)
											(object JuncPt "J518A1A0D001A"
												quid "518A1A0D001A"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J518A1A3200A8"
												quid "518A1A3200A8"
												externallyVisible TRUE)
											(object JuncPt "J518A1A3200AD"
												quid "518A1A3200AD"
												isEntry TRUE
												externallyVisible TRUE))))
								transitions (list transition_list
									(object Trans "Initial"
										quid "5188E9CA014C"
										source  ":TOP:Initial"
										target  ":TOP:readyToReceive:J5188E9CA014D"
										action (object Action
											quid "5188E9E100FD"
											body 
|frame.incarnate(tcpInstance, tcpCapsule, EmptyObject, ThreadUserInterface);
|frame.incarnate(jsonTranslateInstance, jsonTranslateCapsule, EmptyObject, ThreadJsonTranslate);
|
|cout << "tcpTopCapsule initialized" << endl;
											))
									(object Trans "receiveCommand"
										quid "518A1A0D0014"
										source  ":TOP:readyToReceive:J518A1A0D0015"
										target  ":TOP:readyToReceive:J518A1A0D001A"
										action (object Action
											quid "518A1A74009E"
											body 
|//Just pass it on
|externalJsonPort.commandReceived(*rtdata).send();
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "518A1A2801E5"
												Event (object PortEvent
													quid "518A1A2801E6"
													ports (list portsList
														ports  ":Structure:internalJsonPort"
														quidu "51875FA2029B")
													signals (list signalsList
														signals  ":base:commandReceived"
														quidu "518764BD0115")))))
									(object Trans "sendCommand"
										quid "518A1A3200A7"
										source  ":TOP:readyToReceive:J518A1A3200A8"
										target  ":TOP:readyToReceive:J518A1A3200AD"
										action (object Action
											quid "518A1A7F0018"
											body 
|//Just pass it on
|internalJsonPort.sendCommand(*rtdata).send();
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "518A1A390277"
												Event (object PortEvent
													quid "518A1A390278"
													ports (list portsList
														ports  ":Structure:externalJsonPort"
														quidu "518A19870013")
													signals (list signalsList
														signals  ":base:sendCommand"
														quidu "518A1973031C"))))))))
						statediagram (object State_Diagram "State Diagram"
							quid "51875E790372"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @197
									quid "51875E790374"
									pos (840,615)
									quidu "51875E79036F")
								(object StateView "StartState" "Initial" @198
									quid "51875E790375"
									pos (180,180)
									quidu "51875E790370"
									positionBySuperclass FALSE)
								(object StateView "Normal" "readyToReceive" @199
									quid "5188E9C5035F"
									pos (696,458)
									quidu "5188E9C503A7"
									width 294
									label (object ItemLabel
										quid "5188E9C503A9"
										pos (696,413)
										max_width 225)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:readyToReceive:J5188E9CA014D" @200
											quid "5188E9CA0155"
											pos (589,368)
											quidu "5188E9CA014D"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:readyToReceive:J518A1A0D0015" @201
											quid "518A1A0D0019"
											pos (843,413)
											quidu "518A1A0D0015"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:readyToReceive:J518A1A0D001A" @202
											quid "518A1A0D001E"
											pos (843,503)
											quidu "518A1A0D001A"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:readyToReceive:J518A1A3200A8" @203
											quid "518A1A3200AC"
											pos (728,548)
											quidu "518A1A3200A8"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:readyToReceive:J518A1A3200AD" @204
											quid "518A1A3200B1"
											pos (638,548)
											quidu "518A1A3200AD"
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "5188E9CA014E"
										items (list diagram_item_list
											(object StateView "Perimeter" "readyToReceive" @205
												quid "5188E9CA0150"
												pos (840,615)
												quidu "5188E9C503A7"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:readyToReceive:J5188E9CA014D" @206
														quid "5188E9CA0152"
														pos (96,311)
														quidu "5188E9CA014D"
														juncPtIcon (object JuncPtIcon @207
															quid "5188E9CA0153"
															pos (186,311)
															label (object ItemLabel
																quid "5188E9CA0154"
																pos (156,351))))
													(object JuncPtVw ":TOP:readyToReceive:J518A1A0D0015" @208
														quid "518A1A0D0016"
														pos (1584,353)
														quidu "518A1A0D0015"
														juncPtIcon (object JuncPtIcon @209
															quid "518A1A0D0017"
															pos (1494,353)
															label (object ItemLabel
																quid "518A1A0D0018"
																pos (1524,393))))
													(object JuncPtVw ":TOP:readyToReceive:J518A1A0D001A" @210
														quid "518A1A0D001B"
														pos (1584,878)
														quidu "518A1A0D001A"
														juncPtIcon (object JuncPtIcon @211
															quid "518A1A0D001C"
															pos (1494,878)
															label (object ItemLabel
																quid "518A1A0D001D"
																pos (1524,918))))
													(object JuncPtVw ":TOP:readyToReceive:J518A1A3200A8" @212
														quid "518A1A3200A9"
														pos (1005,1134)
														quidu "518A1A3200A8"
														juncPtIcon (object JuncPtIcon @213
															quid "518A1A3200AA"
															pos (1005,1044)
															label (object ItemLabel
																quid "518A1A3200AB"
																pos (1045,1074))))
													(object JuncPtVw ":TOP:readyToReceive:J518A1A3200AD" @214
														quid "518A1A3200AE"
														pos (540,1134)
														quidu "518A1A3200AD"
														juncPtIcon (object JuncPtIcon @215
															quid "518A1A3200AF"
															pos (540,1044)
															label (object ItemLabel
																quid "518A1A3200B0"
																pos (580,1074))))))
											(object StateView "StartState" "Initial" @216
												quid "5188E9CA0151"
												pos (180,180)
												quidu "5188E9C503AF"))
										filterFlags 1))
								(object TransView ":TOP:readyToReceive:J518A1A0D0015:receiveCommand" @217
									quid "518A1A0D0013"
									uses_fill_color FALSE
									quidu "518A1A0D0014"
									label (object SegLabel @218
										quid "518A1A0D001F"
										pos (1051,433)
										positionBySuperclass FALSE
										max_width 225
										pctDist 0.388393
										height 133)
									positionBySuperclass FALSE
									client @201
									supplier @202
									vertices (list Points
										(851,413)
										(918,413)
										(918,503)
										(851,503))
									line_style 6144)
								(object TransView ":TOP:readyToReceive:J518A1A3200A8:sendCommand" @219
									quid "518A1A3200A6"
									uses_fill_color FALSE
									quidu "518A1A3200A7"
									label (object SegLabel @220
										quid "518A1A3200B2"
										pos (683,668)
										max_width 175
										pctDist 0.500000
										height 45)
									client @203
									supplier @204
									vertices (list Points
										(728,556)
										(728,623)
										(638,623)
										(638,556))
									line_style 6144)
								(object TransView ":TOP:Initial:Initial" @221
									quid "5188E9C901DF"
									uses_fill_color FALSE
									quidu "5188E9CA014C"
									label (object SegLabel @222
										quid "5188E9CA0156"
										pos (415,239)
										positionBySuperclass FALSE
										max_width 113
										pctDist 0.509231
										height 44)
									positionBySuperclass FALSE
									client @198
									supplier @200
									vertices (list Points
										(206,191)
										(580,364))
									line_style 6144))
							filterFlags 1)
						language "C++"
						structureDiagram (object CollaborationDiagram "Structure Diagram"
							quid "51875E790376"
							items (list diagram_item_list
								(object CapsulePerimeterVw "Structure" @223
									quid "51875E790378"
									pos (840,615)
									quidu "51875E790371"
									boundIcons (list boundIconsList
										(object PortVw ":Structure:externalJsonPort" @224
											quid "518A198603B4"
											pos (1584,468)
											quidu "518A19870013"
											label (object ItemLabel
												quid "518A19880276"
												pos (1644,498)
												positionBySuperclass FALSE
												nlines 2
												max_width 319
												label "externalJsonPort")
											positionBySuperclass FALSE)))
								(object CapsuleRoleVw ":Structure:tcpInstance" @225
									quid "51875EA80233"
									pos (301,749)
									font (object Font
										face "MS Sans Serif")
									quidu "51875EA901A5"
									width 282
									label (object ItemLabel
										quid "51875EA901A9"
										pos (301,708)
										positionBySuperclass FALSE
										nlines 2
										max_width 209
										label "tcpInstance")
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ConnectionPtVw ":Structure:tcpInstance:mainConnection" @226
											quid "51875EA901A7"
											pos (442,738)
											font (object Font
												face "MS Sans Serif")
											label (object ItemLabel
												quid "51875EA901A8"
												pos (508,873)
												font (object Font
													face "MS Sans Serif")
												positionBySuperclass FALSE
												nlines 2
												max_width 291
												label "mainConnection")
											positionBySuperclass FALSE)))
								(object CapsuleRoleVw ":Structure:jsonTranslateInstance" @227
									quid "5188E9A2019F"
									pos (1228,778)
									quidu "5188E9A30035"
									width 504
									label (object ItemLabel
										quid "5188E9A3003E"
										pos (1231,740)
										positionBySuperclass FALSE
										nlines 2
										max_width 384
										label "jsonTranslateInstance")
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ConnectionPtVw ":Structure:jsonTranslateInstance:tcpPort" @228
											quid "5188E9A30039"
											pos (976,736)
											label (object ItemLabel
												quid "5188E9A3003A"
												pos (846,788)
												positionBySuperclass FALSE
												nlines 2
												max_width 241
												label "tcpPort")
											positionBySuperclass FALSE)
										(object ConnectionPtVw ":Structure:jsonTranslateInstance:jsonPort" @229
											quid "5188E9A3003C"
											pos (1120,688)
											label (object ItemLabel
												quid "5188E9A3003D"
												pos (1120,599)
												positionBySuperclass FALSE
												nlines 2
												max_width 241
												label "jsonPort")
											positionBySuperclass FALSE)))
								(object PortVw ":Structure:internalJsonPort" @230
									quid "51875FA200C5"
									pos (1119,340)
									font (object Font
										face "MS Sans Serif")
									quidu "51875FA2029B"
									label (object ItemLabel
										quid "51875FA202A3"
										pos (1128,376)
										font (object Font
											face "MS Sans Serif")
										positionBySuperclass FALSE
										nlines 2
										max_width 291
										label "internalJsonPort")
									positionBySuperclass FALSE)
								(object PortVw ":Structure:frame" @231
									quid "51876CA20367"
									pos (436,276)
									font (object Font
										face "MS Sans Serif")
									quidu "51876CA10104"
									label (object ItemLabel
										quid "51876CA2036A"
										pos (445,312)
										font (object Font
											face "MS Sans Serif")
										positionBySuperclass FALSE
										nlines 2
										max_width 138
										label "frame")
									positionBySuperclass FALSE)
								(object ConnectorVw ":Structure:C5188E9B0034B" @232
									quid "5188E9AF0305"
									stereotype TRUE
									uses_fill_color FALSE
									quidu "5188E9B0034B"
									label (object SegLabel @233
										quid "5188E9B0034D"
										pos (706,693)
										max_width 209
										pctDist 0.496260
										height 44)
									client @226
									supplier @228
									vertices (list Points
										(452,737)
										(964,736))
									line_style 6144)
								(object ConnectorVw ":Structure:C5188E9BB0106" @234
									quid "5188E9BA0229"
									stereotype TRUE
									uses_fill_color FALSE
									quidu "5188E9BB0106"
									label (object SegLabel @235
										quid "5188E9BB0109"
										pos (1078,541)
										max_width 209
										pctDist 0.450000
										height 41)
									client @229
									supplier @230
									vertices (list Points
										(1119,676)
										(1119,376))
									line_style 6144))
							filterFlags 521))
					(object Capsule "jsonTranslateCapsule"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "HeaderPreface"
								value (value Text 
|//zet windowsversie op XP
|#define WINVER 0x0501
|
|#include <winsock2.h> 
|#include <ws2tcpip.h> 
|#include <stdio.h>
								)))
						quid "5188E92D03D2"
						structure (object CapsuleCollaboration "Structure"
							quid "5188E92D03D6"
							ports (list portsList
								(object Port "tcpPort"
									quid "5188E9710106"
									classifier  "Logical View::TCPIP::tcpProtocol"
									quidu "5176788B0049"
									isConjugated TRUE
									isRelay FALSE)
								(object Port "jsonPort"
									quid "5188E97C01FA"
									classifier  "Logical View::TCPIP::jsonProtocol"
									quidu "51875F9A015E"
									isRelay FALSE)))
						class_attributes (list class_attribute_list
							(object ClassAttribute "depth"
								quid "5188E938029E"
								initv "0"
								type "int")
							(object ClassAttribute "jsonBuffer"
								quid "5188E93A017B"
								type "std::string")
							(object ClassAttribute "jsonReader"
								quid "5188E93B0378"
								type "Json::Reader")
							(object ClassAttribute "socket"
								quid "5188E93D017A"
								type "SOCKET")
							(object ClassAttribute "inString"
								quid "5188ED6B01FB"
								initv "false"
								type "bool"))
						statemachine (object State_Machine
							quid "5188E92D03D3"
							State (object State "TOP"
								quid "5188E92D03D4"
								states (list States
									(object InitialPt "Initial"
										quid "5188E92D03D5")
									(object State "KlaarVoorData"
										quid "5188E9510280"
										states (list States
											(object InitialPt "Initial"
												quid "5188E9510282")
											(object JuncPt "J51768119018A"
												quid "5188E9510283"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J5176823800F4"
												quid "5188E9510284"
												externallyVisible TRUE)
											(object JuncPt "J5176823800F9"
												quid "5188E9510285"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J518A1AC6031A"
												quid "518A1AC6031A"
												externallyVisible TRUE)
											(object JuncPt "J518A1AC6031F"
												quid "518A1AC6031F"
												isEntry TRUE
												externallyVisible TRUE)))
									(object JuncPt "J5188EA8C00E2"
										quid "5188EA8C00E2"
										isEntry TRUE)
									(object JuncPt "J5188EA8C00E6"
										quid "5188EA8C00E6")
									(object JuncPt "J5188EB280304"
										quid "5188EB280304"
										isEntry TRUE)
									(object JuncPt "J5188EB280308"
										quid "5188EB280308"))
								transitions (list transition_list
									(object Trans "dataReceived"
										quid "5188E9510292"
										source  ":TOP:KlaarVoorData:J5176823800F4"
										target  ":TOP:KlaarVoorData:J5176823800F9"
										action (object Action
											quid "5188E9510293"
											body 
|//cout << "J: Data received: " << *rtdata << endl;
|int i;
|for(i=0;i<strlen(rtdata->Contents);i++){
|	char b = rtdata->Contents[i];
|    
|    //Very basic JSON completeness checking..
|    if(b == '"'){
|        this->inString = !this->inString;
|    }
|    if(!this->inString){
|    	if(b == '{' || b == '['){
|    		this->depth++;
|    	}else if(b == '}' || b == ']'){
|    		this->depth--;
|    	}else if(depth == 0){
|            b = 0;
|        }
|    }
|    //cout << "J: b = " << b << endl;
|	this->jsonBuffer.push_back(b);
|    //cout << "J: B.S:" << this->jsonBuffer.size()  << " L:" << this->depth << " IS: " << std::boolalpha << this->inString << endl;
|    if(this->jsonBuffer.size() >= 2 && this->depth == 0 && this->inString == false){
|        //Fetch command
|        jsonCommand newCommand(this->jsonBuffer);
|
|        jsonPort.commandReceived(newCommand).send();
|        //And clear buffer
|        this->jsonBuffer.clear();
|    }
|}
|//cout << "J: Buffer: " << this->jsonBuffer << endl;
|
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "5188E98A0332"
												Event (object PortEvent
													quid "5188E98A0333"
													ports (list portsList
														ports  ":Structure:tcpPort"
														quidu "5188E9710106")
													signals (list signalsList
														signals  ":base:dataReceived"
														quidu "51767A28030A")))))
									(object Trans "Initial"
										quid "5188E95A020E"
										source  ":TOP:Initial"
										target  ":TOP:KlaarVoorData:J51768119018A"
										action (object Action
											quid "5188E96B015E"
											body 
|cout << "JsonTranslateCapsule Initialized" << endl;
|
											))
									(object Trans "socketConnected"
										quid "5188EA8C00E1"
										source  ":TOP:J5188EA8C00E2"
										target  ":TOP:J5188EA8C00E6"
										action (object Action
											quid "5188EB630389"
											body 
|cout << "Socket connected!" << endl;
|
|//Todo: Trigger event for main application to know this has happened.
|this->socket = *rtdata;
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "5188EB22026C"
												Event (object PortEvent
													quid "5188EB22026D"
													ports (list portsList
														ports  ":Structure:tcpPort"
														quidu "5188E9710106")
													signals (list signalsList
														signals  ":base:sock"
														quidu "51767FD203A4")))))
									(object Trans "socketDisconnected"
										quid "5188EB280303"
										source  ":TOP:J5188EB280304"
										target  ":TOP:J5188EB280308"
										action (object Action
											quid "5188EB55027F"
											body 
|cout << "Socket disconnected!" << endl;
|
|//Todo: Trigger event for main application to know this has happened.
|this->socket = 0;
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "5188EB3101E7"
												Event (object PortEvent
													quid "5188EB3101E8"
													ports (list portsList
														ports  ":Structure:tcpPort"
														quidu "5188E9710106")
													signals (list signalsList
														signals  ":base:noSock"
														quidu "5176801A0022")))))
									(object Trans "sendCommand"
										quid "518A1AC60318"
										source  ":TOP:KlaarVoorData:J518A1AC6031A"
										target  ":TOP:KlaarVoorData:J518A1AC6031F"
										action (object Action
											quid "518A1C8200FE"
											body 
|jsonCommand commandToSend = *rtdata;
|
|std::string toSend = commandToSend.createJsonString();
|
|int iSendResult = send( this->socket, toSend.c_str(), toSend.size(), 0 );
|if (iSendResult == SOCKET_ERROR) {
|    printf("send failed: %d\n", WSAGetLastError());
|    closesocket(this->socket);
|}
|printf("Bytes sent: %d\n", iSendResult);
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "518A1AF80397"
												Event (object PortEvent
													quid "518A1AF80398"
													ports (list portsList
														ports  ":Structure:jsonPort"
														quidu "5188E97C01FA")
													signals (list signalsList
														signals  ":base:sendCommand"
														quidu "518A1973031C"))))))))
						statediagram (object State_Diagram "State Diagram"
							quid "5188E92D03D7"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @236
									quid "5188E92D03D9"
									pos (840,615)
									quidu "5188E92D03D4"
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:J5188EA8C00E2" @237
											quid "5188EA8C00E3"
											pos (503,1134)
											quidu "5188EA8C00E2"
											positionBySuperclass FALSE
											juncPtIcon (object JuncPtIcon @238
												quid "5188EA8C00E4"
												pos (503,1044)
												hidden TRUE
												label (object ItemLabel
													quid "5188EA8C00E5"
													pos (560,1061)
													hidden TRUE
													positionBySuperclass FALSE)
												positionBySuperclass FALSE))
										(object JuncPtVw ":TOP:J5188EA8C00E6" @239
											quid "5188EA8C00E7"
											pos (323,1134)
											quidu "5188EA8C00E6"
											positionBySuperclass FALSE
											juncPtIcon (object JuncPtIcon @240
												quid "5188EA8C00E8"
												pos (323,1044)
												label (object ItemLabel
													quid "5188EA8C00E9"
													pos (380,1061)
													hidden TRUE
													positionBySuperclass FALSE)
												positionBySuperclass FALSE))
										(object JuncPtVw ":TOP:J5188EB280304" @241
											quid "5188EB280305"
											pos (1372,1134)
											quidu "5188EB280304"
											positionBySuperclass FALSE
											juncPtIcon (object JuncPtIcon @242
												quid "5188EB280306"
												pos (1372,1044)
												hidden TRUE
												label (object ItemLabel
													quid "5188EB280307"
													pos (1429,1061)
													hidden TRUE
													positionBySuperclass FALSE)
												positionBySuperclass FALSE))
										(object JuncPtVw ":TOP:J5188EB280308" @243
											quid "5188EB280309"
											pos (1192,1134)
											quidu "5188EB280308"
											positionBySuperclass FALSE
											juncPtIcon (object JuncPtIcon @244
												quid "5188EB28030A"
												pos (1192,1044)
												label (object ItemLabel
													quid "5188EB28030B"
													pos (1249,1061)
													hidden TRUE
													positionBySuperclass FALSE)
												positionBySuperclass FALSE))))
								(object StateView "StartState" "Initial" @245
									quid "5188E92D03DA"
									pos (180,180)
									quidu "5188E92D03D5")
								(object StateView "Normal" "KlaarVoorData" @246
									quid "5188E951027C"
									pos (640,522)
									font (object Font
										face "MS Sans Serif")
									quidu "5188E9510280"
									width 320
									label (object ItemLabel
										quid "5188E9510298"
										pos (640,477)
										max_width 216)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:KlaarVoorData:J5176823800F4" @247
											quid "5188E9510290"
											pos (799,495)
											quidu "5188E9510284"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:KlaarVoorData:J5176823800F9" @248
											quid "5188E9510297"
											pos (799,575)
											quidu "5188E9510285"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:KlaarVoorData:J51768119018A" @249
											quid "5188E951029A"
											pos (546,432)
											quidu "5188E9510283"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:KlaarVoorData:J518A1AC6031A" @250
											quid "518A1AC6031E"
											pos (716,612)
											quidu "518A1AC6031A"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:KlaarVoorData:J518A1AC6031F" @251
											quid "518A1AC60323"
											pos (626,612)
											quidu "518A1AC6031F"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "5188E951027D"
										items (list diagram_item_list
											(object StateView "Perimeter" "KlaarVoorData" @252
												quid "5188E951027F"
												pos (840,615)
												uses_fill_color FALSE
												quidu "5188E9510280"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:KlaarVoorData:J51768119018A" @253
														quid "5188E9510286"
														pos (405,96)
														quidu "5188E9510283"
														positionBySuperclass FALSE
														juncPtIcon (object JuncPtIcon @254
															quid "5188E9510287"
															pos (405,186)
															font (object Font
																face "MS Sans Serif")
															label (object ItemLabel
																quid "5188E9510288"
																pos (445,156)
																font (object Font
																	face "MS Sans Serif")
																uses_fill_color FALSE
																positionBySuperclass FALSE
																max_width 75)
															positionBySuperclass FALSE))
													(object JuncPtVw ":TOP:KlaarVoorData:J5176823800F4" @255
														quid "5188E9510289"
														pos (1584,447)
														quidu "5188E9510284"
														juncPtIcon (object JuncPtIcon @256
															quid "5188E951028A"
															pos (1494,447)
															font (object Font
																face "MS Sans Serif")
															label (object ItemLabel
																quid "5188E951028B"
																pos (1524,487)
																font (object Font
																	face "MS Sans Serif")
																uses_fill_color FALSE
																max_width 209)))
													(object JuncPtVw ":TOP:KlaarVoorData:J5176823800F9" @257
														quid "5188E951028C"
														pos (1584,938)
														quidu "5188E9510285"
														positionBySuperclass FALSE
														juncPtIcon (object JuncPtIcon @258
															quid "5188E951028D"
															pos (1494,938)
															font (object Font
																face "MS Sans Serif")
															label (object ItemLabel
																quid "5188E951028E"
																pos (1524,978)
																font (object Font
																	face "MS Sans Serif")
																uses_fill_color FALSE
																positionBySuperclass FALSE
																max_width 209)
															positionBySuperclass FALSE))
													(object JuncPtVw ":TOP:KlaarVoorData:J518A1AC6031A" @259
														quid "518A1AC6031B"
														pos (1200,1134)
														quidu "518A1AC6031A"
														juncPtIcon (object JuncPtIcon @260
															quid "518A1AC6031C"
															pos (1200,1044)
															label (object ItemLabel
																quid "518A1AC6031D"
																pos (1240,1074))))
													(object JuncPtVw ":TOP:KlaarVoorData:J518A1AC6031F" @261
														quid "518A1AC60320"
														pos (780,1134)
														quidu "518A1AC6031F"
														juncPtIcon (object JuncPtIcon @262
															quid "518A1AC60321"
															pos (780,1044)
															label (object ItemLabel
																quid "518A1AC60322"
																pos (820,1074))))))
											(object StateView "StartState" "Initial" @263
												quid "5188E951028F"
												pos (180,180)
												quidu "5188E9510282"))
										filterFlags 1))
								(object TransView ":TOP:Initial:Initial" @264
									quid "5188E9590277"
									uses_fill_color FALSE
									quidu "5188E95A020E"
									label (object SegLabel @265
										quid "5188E95A0211"
										pos (370,311)
										max_width 113
										pctDist 0.500000
										height 0
										orientation 1)
									client @245
									supplier @249
									vertices (list Points
										(203,196)
										(537,426))
									line_style 6144)
								(object TransView ":TOP:J5188EA8C00E2:socketConnected" @266
									quid "5188EA8C00E0"
									uses_fill_color FALSE
									quidu "5188EA8C00E1"
									label (object SegLabel @267
										quid "5188EA8C00EA"
										pos (409,989)
										positionBySuperclass FALSE
										max_width 241
										pctDist 0.753247
										height 55
										orientation 1)
									positionBySuperclass FALSE
									client @237
									supplier @240
									vertices (list Points
										(503,1124)
										(503,1044)
										(352,1044))
									line_style 6144)
								(object TransView ":TOP:J5188EB280304:socketDisconnected" @268
									quid "5188EB280302"
									uses_fill_color FALSE
									quidu "5188EB280303"
									label (object SegLabel @269
										quid "5188EB28030C"
										pos (1319,989)
										positionBySuperclass FALSE
										max_width 288
										pctDist 0.575758
										height 55
										orientation 1)
									positionBySuperclass FALSE
									client @241
									supplier @244
									vertices (list Points
										(1372,1124)
										(1372,1044)
										(1221,1044))
									line_style 6144)
								(object TransView ":TOP:KlaarVoorData:J5176823800F4:dataReceived" @270
									quid "5188E9510291"
									font (object Font
										face "MS Sans Serif")
									uses_fill_color FALSE
									quidu "5188E9510292"
									label (object SegLabel @271
										quid "5188E9510296"
										pos (1105,535)
										font (object Font
											face "MS Sans Serif")
										uses_fill_color FALSE
										positionBySuperclass FALSE
										max_width 209
										pctDist 0.502304
										height 230)
									positionBySuperclass FALSE
									client @247
									supplier @248
									vertices (list Points
										(807,494)
										(875,494)
										(875,575)
										(807,575))
									line_style 6144)
								(object TransView ":TOP:KlaarVoorData:J518A1AC6031A:sendCommand" @272
									quid "518A1AC60317"
									uses_fill_color FALSE
									quidu "518A1AC60318"
									label (object SegLabel @273
										quid "518A1AC60324"
										pos (670,733)
										positionBySuperclass FALSE
										max_width 175
										pctDist 0.502203
										height 45)
									positionBySuperclass FALSE
									client @250
									supplier @251
									vertices (list Points
										(716,620)
										(716,688)
										(625,688)
										(625,620))
									line_style 6144))
							filterFlags 1)
						language "C++"
						structureDiagram (object CollaborationDiagram "Structure Diagram"
							quid "5188E92D03DB"
							items (list diagram_item_list
								(object CapsulePerimeterVw "Structure" @274
									quid "5188E92D03DD"
									pos (840,615)
									quidu "5188E92D03D6"
									boundIcons (list boundIconsList
										(object PortVw ":Structure:tcpPort" @275
											quid "5188E97100C6"
											pos (96,406)
											quidu "5188E9710106"
											label (object ItemLabel
												quid "5188E97202E9"
												pos (105,442)
												nlines 2
												max_width 241
												label "tcpPort"))
										(object PortVw ":Structure:jsonPort" @276
											quid "5188E97C01B2"
											pos (991,96)
											quidu "5188E97C01FA"
											label (object ItemLabel
												quid "5188E97E0001"
												pos (1000,132)
												nlines 2
												max_width 241
												label "jsonPort")))))
							filterFlags 521))
					(object Protocol "tcpProtocol"
						quid "5176788B0049"
						statemachine (object State_Machine
							quid "5176788B004A"
							State (object State "TOP"
								quid "5176788B004B"
								states (list States
									(object InitialPt "Initial"
										quid "5176788B004C"))))
						collaborations (list collaborationsList
							(object Collaboration "Collaboration1"
								quid "5176788B004D"))
						protocolRoles (list protocolRolesList
							(object ProtocolRole "base"
								quid "51767A2200F5"
								outSignals (list outSignalsList
									(object Signal "dataReceived"
										quid "51767A28030A"
										dataType  "Logical View::RTClasses::RTString"
										quidu "37E928FA039F")
									(object Signal "sock"
										quid "51767FD203A4"
										dataType  "unsigned")
									(object Signal "noSock"
										quid "5176801A0022"
										dataType  "void"))))
						statediagram (object State_Diagram "State Diagram"
							quid "5176788B004E"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @277
									quid "5176788B0050"
									pos (840,615)
									quidu "5176788B004B")
								(object StateView "StartState" "Initial" @278
									quid "5176788B0051"
									pos (180,180)
									quidu "5176788B004C"))
							filterFlags 1)
						language "C++")
					(object Protocol "jsonProtocol"
						quid "51875F9A015E"
						statemachine (object State_Machine
							quid "51875F9A015F"
							State (object State "TOP"
								quid "51875F9A0160"
								states (list States
									(object InitialPt "Initial"
										quid "51875F9A0161"))))
						collaborations (list collaborationsList
							(object Collaboration "Collaboration1"
								quid "51875F9A0162"))
						protocolRoles (list protocolRolesList
							(object ProtocolRole "base"
								quid "518761EB0271"
								inSignals (list inSignalsList
									(object Signal "sendCommand"
										quid "518A1973031C"
										dataType  "Logical View::TCPIP::jsonCommand"
										quidu "518764D2025A"))
								outSignals (list outSignalsList
									(object Signal "commandReceived"
										quid "518764BD0115"
										dataType  "Logical View::TCPIP::jsonCommand"
										quidu "518764D2025A"))))
						statediagram (object State_Diagram "State Diagram"
							filterFlags 1)
						language "C++"))
				logical_presentations (list unit_reference_list))
			(object Class_Category "Roomba"
				quid "518A2269004B"
				exportControl "Public"
				logical_models (list unit_reference_list
					(object Class "clsRoomba"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "GenerateDefaultConstructor"
								value TRUE))
						quid "5190996D030D"
						class_attributes (list class_attribute_list
							(object ClassAttribute "bumpers"
								quid "5190A9730398"
								type "clsBumpersAndCliff")
							(object ClassAttribute "cliff"
								quid "519C916D0096"
								type "clsBumpersAndCliff")
							(object ClassAttribute "distance"
								quid "519C9189004C"
								type "int")
							(object ClassAttribute "totalDistance"
								quid "519C919100EA"
								initv "0"
								type "int")
							(object ClassAttribute "angle"
								quid "519C91A2020B"
								type "int")
							(object ClassAttribute "totalAngle"
								quid "519C91AA0246"
								initv "0"
								type "int16_t")
							(object ClassAttribute "chargingState"
								quid "519C91B30266"
								type "int")
							(object ClassAttribute "temperature"
								quid "519C9240014C"
								initv "0"
								type "int")
							(object ClassAttribute "battCharge"
								quid "519C924B029F"
								type "int")
							(object ClassAttribute "battCapac"
								quid "519C9259011B"
								type "int")
							(object ClassAttribute "oiMode"
								quid "519C92610214"
								type "int")
							(object ClassAttribute "motors"
								quid "51A47A2E00F6"
								type "clsMotors")
							(object ClassAttribute "buttons"
								quid "51A5DAED03BE"
								type "clsButtons")
							(object ClassAttribute "sideBrushCurrent"
								quid "51B588180028"
								type "int16_t"))
						operations (list Operations
							(object Operation "setSensor"
								quid "519C927001E8"
								body 
|//std::cout << "Sensor " << index << " = " << value << endl;
|
|switch(index){
|    case 7:
|        //Needs some translating
|        this->bumpers.left = (bool)(value & (0x02));
|        this->bumpers.right = (bool)(value & (0x01));
|        break;
|    case 9:
|        this->cliff.left = (bool)value;
|        break;
|    case 10:
|        this->cliff.frontLeft = (bool)value;
|        break;
|    case 11:
|        this->cliff.frontRight = (bool)value;
|        break;
|    case 12:
|        this->cliff.right = (bool)value;
|        break;
|    case 18:
|        this->buttons.clean = (bool)(value & (0x01));
|        this->buttons.spot = (bool)(value & (0x02));
|        this->buttons.dock = (bool)(value & (0x04));
|        break;
|    case 19:
|        //Distance resets every time you ask for it
|        this->distance = value;
|        this->totalDistance += value;
|        break;
|    case 20:
|        //Angle resets every time you ask for it
|        this->angle = (int16_t)value;
|        this->totalAngle += (int16_t)value;
|        break;
|    case 21:
|        //Sorry, i just don't know how to work with enums in Rational Rose Realtime..
|        this->chargingState = value;
|        break;
|    case 24:
|        this->temperature = value;
|        break;
|    case 25:
|        this->battCharge = value;
|        break;
|    case 26:
|        this->battCapac = value;
|        break;
|    case 35:
|        this->oiMode = value;
|        break;
|    case 57:
|        this->sideBrushCurrent = (int16_t)value;
|        break;
|}
								
								parameters (list Parameters
									(object Parameter "index"
										quid "519C927A0009"
										type "int")
									(object Parameter "value"
										quid "519C928A0005"
										type "int"))
								result "void")
							(object Operation "printSensors"
								quid "519C9AF70232"
								body 
|cout << "RMB: Sensors:" << endl;
|cout << "\tAngle:\t\t" << this->angle << endl;
|cout << "\tbattCapac:\t" << this->battCapac << endl;
|cout << "\tbattCharge:\t" << this->battCharge << endl;
|cout << "\tchargingState:" << this->chargingState << endl;
|cout << "\tdistance:\t" << this->distance << endl;
|cout << "\toiMode:\t" << this->oiMode << endl;
|cout << "\ttemperature:\t" << this->temperature << endl;
|
								
								result "void")
							(object Operation "setMotors"
								quid "51A47B570289"
								body 
|
|this->motors.mainBrush = mainBrush;
|this->motors.sideBrush = sideBrush;
|this->motors.vacuum = vacuum;
								
								parameters (list Parameters
									(object Parameter "mainBrush"
										quid "51A47B750304"
										type "bool")
									(object Parameter "sideBrush"
										quid "51A47BBD03C9"
										type "bool")
									(object Parameter "vacuum"
										quid "51A47BC30057"
										type "bool"))
								result "void")
							(object Operation "getMotors"
								quid "51A47C900255"
								body 
|*mainBrush = this->motors.mainBrush;
|*sideBrush = this->motors.sideBrush;
|*vacuum = this->motors.vacuum;
								
								parameters (list Parameters
									(object Parameter "mainBrush"
										quid "51A47C9B00FC"
										type "bool*")
									(object Parameter "sideBrush"
										quid "51A47CC102A2"
										type "bool*")
									(object Parameter "vacuum"
										quid "51A47CCA0043"
										type "bool*"))
								result "void")
							(object Operation "getButtons"
								quid "51AB49E20107"
								body "return this->buttons;"
								result "clsRoomba::clsButtons")
							(object Operation "getBumpers"
								quid "51AB52EC0320"
								body "return this->bumpers;"
								result "clsRoomba::clsBumpersAndCliff")
							(object Operation "getSensor"
								quid "51AB537B032F"
								body 
|switch(index){
|    case 9:
|        return (this->cliff.left?1:0);
|        break;
|    case 10:
|        return (this->cliff.frontLeft?1:0);
|        break;
|    case 11:
|        return (this->cliff.frontRight?1:0);
|        break;
|    case 12:
|        return (this->cliff.right?1:0);
|        break;
|    case 19:
|        return this->distance;
|        break;
|    case 20:
|        return this->angle;
|        break;
|    case 21:
|        //Sorry, i just don't know how to work with enums in Rational Rose Realtime..
|        return this->chargingState;
|        break;
|    case 24:
|        return this->temperature;
|        break;
|    case 25:
|        return this->battCharge;
|        break;
|    case 26:
|        return this->battCapac;
|        break;
|    case 35:
|        return this->oiMode;
|        break;
|    case 57:
|        return this->sideBrushCurrent;
|        break;
|}
								
								parameters (list Parameters
									(object Parameter "index"
										quid "51AB538801DA"
										type "int"))
								result "int")
							(object Operation "getAndResetTotalDistance"
								quid "51AB53FE0024"
								body 
|int d = this->totalDistance;
|this->totalDistance = 0;
|return d;
								
								result "int")
							(object Operation "getAndResetTotalAngle"
								quid "51AB541A0192"
								body 
|int d = this->totalAngle;
|this->totalAngle = 0;
|return d;
								
								result "int")
							(object Operation "getTotalDistance"
								quid "51AB543201AA"
								body "return this->totalDistance;"
								result "int")
							(object Operation "getTotalAngle"
								quid "51AB5443009B"
								body "return this->totalAngle;"
								result "int")
							(object Operation "getMotors"
								quid "51B71935017D"
								body "return this->motors;"
								result "clsRoomba::clsMotors"))
						nestedClasses (list nestedClasses
							(object Class "clsBumpersAndCliff"
								attributes (list Attribute_Set
									(object Attribute
										tool "OT::Cpp"
										name "ClassKind"
										value ("ClassKindSet" 1)))
								quid "519B56930157"
								class_attributes (list class_attribute_list
									(object ClassAttribute "left"
										quid "519B56A501CC"
										initv "false"
										type "bool"
										visibility "Public")
									(object ClassAttribute "right"
										quid "519B56AB037C"
										initv "false"
										type "bool"
										visibility "Public")
									(object ClassAttribute "frontLeft"
										quid "519B56B00359"
										initv "false"
										type "bool"
										visibility "Public")
									(object ClassAttribute "frontRight"
										quid "519B56B502A6"
										initv "false"
										type "bool"
										visibility "Public")))
							(object Class "clsMotors"
								quid "51A478DB03AD"
								class_attributes (list class_attribute_list
									(object ClassAttribute "mainBrush"
										quid "51A47906003D"
										type "bool"
										visibility "Public")
									(object ClassAttribute "sideBrush"
										quid "51A4791000F8"
										type "bool"
										visibility "Public")
									(object ClassAttribute "vacuum"
										quid "51A47919009C"
										type "bool"
										visibility "Public")))
							(object Class "clsButtons"
								quid "51A5DAF90102"
								class_attributes (list class_attribute_list
									(object ClassAttribute "clean"
										quid "51A5DB02015C"
										initv "false"
										type "bool"
										visibility "Public")
									(object ClassAttribute "spot"
										quid "51A5DB2101A2"
										initv "false"
										type "bool"
										visibility "Public")
									(object ClassAttribute "dock"
										quid "51A5DB33000C"
										initv "false"
										type "bool"
										visibility "Public"))))
						language "C++")
					(object Class "clsDriveCommand"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "GenerateDefaultConstructor"
								value TRUE)
							(object Attribute
								tool "OT::Cpp"
								name "GenerateCopyConstructor"
								value TRUE)
							(object Attribute
								tool "OT::Cpp"
								name "HeaderPreface"
								value (value Text "#include <iostream>")))
						quid "51AB5B160096"
						class_attributes (list class_attribute_list
							(object ClassAttribute "right"
								quid "51AB5B380080"
								initv "0"
								type "int"
								visibility "Public")
							(object ClassAttribute "left"
								quid "51AB5B300292"
								initv "0"
								type "int"
								visibility "Public"))
						operations (list Operations
							(object Operation "clsDriveCommand"
								attributes (list Attribute_Set
									(object Attribute
										tool "OT::Cpp"
										name "ConstructorExplicit"
										value TRUE))
								quid "51AB7132000A"
								body 
|//std::cout << dec << "New drive command: L=" << left << " R=" << right << endl;
|this->left = left;
|this->right = right;
								
								parameters (list Parameters
									(object Parameter "left"
										quid "51AB713A03C8"
										type "int")
									(object Parameter "right"
										quid "51AB713F00C3"
										type "int"))
								result "void"))
						language "C++")
					(object Capsule "roombaTopCapsule"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "HeaderPreface"
								value (value Text 
|#include <clsRoomba.h>
|#include <stdio.h>
|#include <stdlib.h>
|#include "../../include/json.h"
|
|#ifdef _WIN32
|#include <Windows.h>
|#else
|#include <unistd.h>
|#endif
|
								)))
						quid "518A226F036A"
						used_nodes (list uses_relationship_list
							(object Uses_Relationship
								quid "519B59F700C9"
								supplier  "Logical View::Roomba::clsRoomba"
								quidu "5190996D030D"))
						structure (object CapsuleCollaboration "Structure"
							quid "518A226F036E"
							classifierRoles (list classifierRolesList
								(object CapsuleRole "roombaProgramInstance"
									quid "51AB4BEC0082"
									classifier  "Logical View::Roomba::roombaProgram"
									quidu "51AB48870299"
									genericity "optional"))
							ports (list portsList
								(object Port "toMain"
									quid "519B58B70323"
									classifier  "Logical View::Roomba::roombaProtocol"
									quidu "519B588C0151"
									isRelay FALSE)
								(object Port "timer"
									quid "51A5CE0F0294"
									classifier  "Logical View::RTClasses::Timing"
									quidu "37E9292C018C"
									isRelay FALSE
									isWired FALSE
									visibility "Protected")
								(object Port "program"
									quid "51AB4A6F02B3"
									classifier  "Logical View::Roomba::programProtocol"
									quidu "51AB493C03BB"
									isConjugated TRUE
									isRelay FALSE
									visibility "Protected")
								(object Port "frame"
									quid "51AB64CE0172"
									classifier  "Logical View::RTClasses::Frame"
									quidu "37E9291F0276"
									isRelay FALSE
									isWired FALSE
									visibility "Protected"))
							connectors (list connectorsList
								(object Connector "C51AB4FAF02A2"
									quid "51AB4FAF02A2"
									connectorCardinality  constValue "*"
									ends (list endsList
										ends  ":Structure:program"
										quidu "51AB4A6F02B3"
										ends  ":Structure:roombaProgramInstance:Roomba"))))
						class_attributes (list class_attribute_list
							(object ClassAttribute "roomba"
								quid "519B574302A5"
								type "clsRoomba")
							(object ClassAttribute "sensorsToQuery"
								attributes (list Attribute_Set
									(object Attribute
										tool "OT::Cpp"
										name "AttributeKind"
										value ("AttributeKindSet" 1))
									(object Attribute
										tool "OT::Cpp"
										name "InitializerKind"
										value ("InitializerKindSet" 0)))
								quid "519B623702CB"
								initv 
|{{7, 1}, {9, 1}, {10, 1}, {11, 1}, {12, 1}, {19, 2}, 
| {20, 2}, {21, 1}, {24, 1}, {25, 2}, {26, 2}, {35, 1}, {18, 1}, {57, 2}}
								
								type "int[NUMSENSORS][2]")
							(object ClassAttribute "NUMSENSORS"
								attributes (list Attribute_Set
									(object Attribute
										tool "OT::Cpp"
										name "InitializerKind"
										value ("InitializerKindSet" 0))
									(object Attribute
										tool "OT::Cpp"
										name "AttributeKind"
										value ("AttributeKindSet" 2)))
								quid "519B688D029C"
								initv "14"
								type "int"
								changeable "Frozen")
							(object ClassAttribute "isOperating"
								quid "51A5D9A80390"
								initv "false"
								type "bool")
							(object ClassAttribute "cleanWasTrue"
								quid "51ADAE630075"
								initv "false"
								type "bool")
							(object ClassAttribute "dockWasTrue"
								quid "51B58AAA00A1"
								initv "false"
								type "bool")
							(object ClassAttribute "searchingDock"
								quid "51B5AB6901DA"
								type "bool"))
						operations (list Operations
							(object Operation "sendRoombaCommandSetMotors"
								quid "51A47DB40261"
								body 
|bool mainBrush = false;
|bool sideBrush = false;
|bool vacuum = false;
|
|this->roomba.getMotors(&mainBrush, &sideBrush, &vacuum);
|
|std::cout << "RMB: MainBrush: " << mainBrush << endl;
|
|byteArray b;
|std::cout << "Starting full mode" << endl;
|b.append(130);
|toMain.sendData(b).send();
|b.clear();
|
|
|b.append(138);
|b.append((mainBrush << 2) | (sideBrush << 0) | (vacuum << 1));
|
|std::cout << "RMB: Sending";
|b.print();
|toMain.sendData(b).send();
								
								visibility "Protected"))
						statemachine (object State_Machine
							quid "518A226F036B"
							State (object State "TOP"
								quid "518A226F036C"
								states (list States
									(object InitialPt "Initial"
										quid "518A226F036D")
									(object State "Ready"
										quid "519B57F80309"
										states (list States
											(object InitialPt "Initial"
												quid "519B57F80311")
											(object JuncPt "J519B580303BF"
												quid "519B580303BF"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J519B5D200005"
												quid "519B5D200005"
												externallyVisible TRUE)
											(object JuncPt "J51A5CE4A021F"
												quid "51A5CE4A021F"
												externallyVisible TRUE)
											(object JuncPt "J51AB4F6F0301"
												quid "51AB4F6F0301"
												externallyVisible TRUE)
											(object JuncPt "J51AB52300119"
												quid "51AB52300119"
												externallyVisible TRUE)
											(object JuncPt "J51AB5B8D011F"
												quid "51AB5B8D011F"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51AB5B9301A2"
												quid "51AB5B9301A2"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51AB5BA60031"
												quid "51AB5BA60031"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51AB5BB30271"
												quid "51AB5BB30271"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51AB5BCB00F3"
												quid "51AB5BCB00F3"
												externallyVisible TRUE)
											(object JuncPt "J51AB5BCB00F8"
												quid "51AB5BCB00F8"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51AB645400D1"
												quid "51AB645400D1"
												externallyVisible TRUE)
											(object JuncPt "J51AB647002D6"
												quid "51AB647002D6"
												externallyVisible TRUE)
											(object JuncPt "J51AB647201BD"
												quid "51AB647201BD"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51AB77110307"
												quid "51AB77110307"
												externallyVisible TRUE)
											(object JuncPt "J51AB77190173"
												quid "51AB77190173"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51B5A3C90125"
												quid "51B5A3C90125"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51B718480383"
												quid "51B718480383"
												externallyVisible TRUE)
											(object JuncPt "J51B718480388"
												quid "51B718480388"
												isEntry TRUE
												externallyVisible TRUE))
										transitions (list transition_list
											(object Trans "t1"
												quid "51A5BBA3004B"
												source  ":TOP:Ready:J51AB647201BD"
												target  ":TOP:Ready:J51AB645400D1")))
									(object State "waitForCom"
										quid "519B68F4033F"
										states (list States
											(object InitialPt "Initial"
												quid "519B68F40346")
											(object JuncPt "J519B68FC0073"
												quid "519B68FC0073"
												externallyVisible TRUE)
											(object JuncPt "J519B69010080"
												quid "519B69010080"
												isEntry TRUE
												externallyVisible TRUE))))
								transitions (list transition_list
									(object Trans "comReady"
										quid "519B580303BE"
										source  ":TOP:waitForCom:J519B68FC0073"
										target  ":TOP:Ready:J519B580303BF"
										action (object Action
											quid "519B58130218"
											body 
|cout << "RMB: Ready received!" << endl;
|//Start query
|byteArray b;
|//Safe mode
|b.append(128);
|toMain.sendData(b).send();
|b.clear();
|
|//Send in our music.
|//Battery failure:
|// 45 44 43 42
|
|b.append(140);
|b.append(0); //Store in 0
|b.append(4);
|b.append(45);
|b.append(16);
|b.append(44);
|b.append(16);
|b.append(43);
|b.append(16);
|b.append(42);
|b.append(16);
|toMain.sendData(b).send();
|
|
|b.clear();
|//Program start:
|// 67 68 69 70
|
|b.append(140);
|b.append(1); //Store in 1
|b.append(4);
|b.append(67);
|b.append(16);
|b.append(68);
|b.append(16);
|b.append(69);
|b.append(16);
|b.append(70);
|b.append(16);
|toMain.sendData(b).send();
|
|
|
|//Start timer for polling:
|timer.informIn(30);
|
|
|//Full mode
|b.append(131);
|toMain.sendData(b).send();
|b.clear();
|
|
|cout << "RMB: Initialized" << endl;
|
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "519B690C00A6"
												Event (object PortEvent
													quid "519B690C00A7"
													ports (list portsList
														ports  ":Structure:toMain"
														quidu "519B58B70323")
													signals (list signalsList
														signals  ":base:ready"
														quidu "519B68EB0019")))))
									(object Trans "dataReceived"
										quid "519B5D190389"
										source  ":TOP:Ready:J51AB647002D6"
										target  ":TOP:Ready:J51AB647201BD"
										action (object Action
											quid "519C960201D7"
											body 
|//It probably is a sensor list
|//Translate everything to a variable.
|#define HEX( x ) "0x" << setw(2) << setfill('0') << hex << (int)( x )
|
|byteArray b = *rtdata;
|
|int s = b.size() - 1;
|int i = 0;
|//cout << "RMB: ";
|//b.print();
|
|while(i < s){
|    //if(this->isOperating){
|        
|        int x = 0;
|        for(x=0;x< NUMSENSORS; x++){
|            //cout << sensorsToQuery[x][0] << " ";
|            int value = 0;
|            if(sensorsToQuery[x][1] == 2){
|                value = b.get(i) << 8;
|                i++;
|            }
|            value += b.get(i);
|            this->roomba.setSensor(sensorsToQuery[x][0], value);
|            i++;
|        }
|    /*}else{
|        //Only three sensors;
|        this->roomba.setSensor(18, b.get(i));
|        i++;
|        this->roomba.setSensor(25, (b.get(i) << 8) + b.get(i++));
|        i++;
|        this->roomba.setSensor(26, (b.get(i) << 8) + b.get(i++));
|    }*/
|    
|}
|
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "519B5D2703E2"
												Event (object PortEvent
													quid "519B5D2703E3"
													ports (list portsList
														ports  ":Structure:toMain"
														quidu "519B58B70323")
													signals (list signalsList
														signals  ":base:dataReceived"
														quidu "519B5899007C")))))
									(object Trans "commandReceived"
										quid "519B5D200003"
										source  ":TOP:Ready:J519B5D200005"
										target  ":TOP:Ready:J51AB5B9301A2"
										action (object Action
											quid "51A476B90314"
											body 
|//Parse command:
|byteArray b;
|jsonCommand c = *rtdata;
|cout << "RMB: Json received: " << c.command << endl;
|if(c.command == "SETMOTORBRUSHVACUUM"){
|    //std::cout << "RMB: Main: " << c.data["MainBrush"].asBool() << endl;
|    this->roomba.setMotors(c.data["MainBrush"].asBool(), 
|            c.data["SideBrush"].asBool(),
|            c.data["Vacuum"].asBool());
|    this->sendRoombaCommandSetMotors();
|}else if(c.command == "NEWMODE"){
|    switch(c.data["newmode"].asInt()){
|        case 0:
|            //stop
|            if(this->isOperating){
|                this->isOperating = false;
|                program.stop().send();
|            }
|            cout << "Stop" << endl;
|            break;
|        case 1:
|            //clean
|            if(!this->isOperating){
|                this->isOperating = true;
|                int battLevel = (100 * this->roomba.getSensor(25)) / this->roomba.getSensor(26);
|                program.start(battLevel).send();
|            }
|            cout << "clean" << endl;
|            break;
|        case 2:
|            //clean on spot
|            if(this->isOperating){
|                this->isOperating = false;
|                program.stop().send();
|            }
|            //Send button press
|            b.append(134);
|            toMain.sendData(b).send();
|            cout << "COS" << endl;
|            break;
|        case 3:
|            //search dock
|            if(this->isOperating){
|                this->isOperating = false;
|                program.stop().send();
|            }
|            //Send button press
|            b.append(143);
|            toMain.sendData(b).send();
|            cout << "DOCK" << endl;
|            break;
|    }
|}else if(c.command == "MOTORSPEED"){
|    if(!this->isOperating){
|        b.append(145);
|        b.append(c.data["right"].asInt() >> 8);
|        b.append(c.data["right"].asInt() & 0xFF);
|        b.append(c.data["left"].asInt() >> 8);
|        b.append(c.data["left"].asInt() & 0xFF);
|
|        toMain.sendData(b).send();
|    }       
|}else if(c.command == "SENDSENSORDATAREQUEST"){
|    const Json::Value sensors = c.data["Sensors"];
|    //Build event:
|    
|    Json::Value event;
|    Json::Value eventData;
|    event["type"] = "SENSORDATA";
|    Json::Value sensorsToSend;
|    
|    for ( int index = 0; index < sensors.size(); ++index ){  // Iterates over the sequence elements.
|        Json::Value sensor;
|        
|        int v = this->roomba.getSensor(sensors[index].asInt());
|        sensor["id"] = sensors[index].asInt();
|        sensor["value"] = v;
|        
|        sensorsToSend.append(sensor);
|    }
|    eventData["Sensors"] = sensorsToSend;
|
|    event["data"] = eventData;
|    Json::Value root;
|    root["event"] = event;
|
|    jsonCommand ret("EVENT", root);
|
|    toMain.sendCommand(ret).send();
|
|}else if(c.command == "GETCURRENTACTION"){
|    //What are we doing?
|    Json::Value root;
|    if(this->isOperating){
|        root["CurrentAction"] = 1;
|    }else if(this->searchingDock){
|        root["CurrentAction"] = 2;
|    }else{
|        root["CurrentAction"] = 0;
|    }
|
|    jsonCommand ret("CURRENTACTION", root);
|
|    toMain.sendCommand(ret).send();
|}else if(c.command == "GETMOTORBRUSHVACUUM"){
|    clsRoomba::clsMotors m = this->roomba.getMotors();
|    Json::Value root;
|    root["MainBrush"] = m.mainBrush;
|    root["SideBrush"] = m.sideBrush;
|    root["Vacuum"] = m.vacuum;
|
|    jsonCommand ret("MOTORBRUSHVACUUM", root);
|}
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "519B5D3103E3"
												Event (object PortEvent
													quid "519B5D3103E4"
													ports (list portsList
														ports  ":Structure:toMain"
														quidu "519B58B70323")
													signals (list signalsList
														signals  ":base:commandReceived"
														quidu "519B5A980092")))))
									(object Trans "Initial"
										quid "519B6901007F"
										source  ":TOP:Initial"
										target  ":TOP:waitForCom:J519B69010080"
										action (object Action
											quid "51AB6527028B"
											body 
|frame.incarnate(roombaProgramInstance,roombaProgram,EmptyObject,ThreadProgram);
|
											))
									(object Trans "handleSensors"
										quid "51A5BB97030D"
										source  ":TOP:Ready:J51AB645400D1"
										target  ":TOP:Ready:J51B5A3C90125"
										action (object Action
											quid "51AB6443013B"
											body 
|clsRoomba::clsButtons btns = this->roomba.getButtons();
|//cout << "Buttons: C: " << btns.clean << " S: " << btns.spot << " D: " << btns.dock << endl;
|
|if(btns.dock == true && this->searchingDock == false){
|    this->dockWasTrue = btns.dock;
|}else if(this->searchingDock == false){
|    if(this->dockWasTrue){
|        //search dock
|        if(this->isOperating){
|            this->isOperating = false;
|            program.stop().send();
|        }
|        //Send button press
|        byteArray b;
|        b.append(143);
|        toMain.sendData(b).send();
|        this->dockWasTrue = false;
|        this->searchingDock = true;
|    }
|}
|
|if(btns.clean == true){
|    this->cleanWasTrue = btns.clean;
|}else{
|    if(this->cleanWasTrue){
|        if(this->isOperating){
|            //STOOOPPP!!!
|            program.stop().send();
|            this->cleanWasTrue = false;
|        }else{
|            //Do this!
|            int battLevel = (100 * this->roomba.getSensor(25)) / this->roomba.getSensor(26);
|            //int battLevel = 90;
|            program.start(battLevel).send();
|            Sleep(100);
|            program.isCharging(this->roomba.getSensor(21)).send();
|            byteArray b;
|            b.append(131);
|
|            toMain.sendData(b).send();
|            this->isOperating = true;
|            this->cleanWasTrue = false;
|        }
|    }
|}
|
|
|if(this->isOperating){
|    //Check all sensors:
|    clsRoomba::clsBumpersAndCliff bmprs = this->roomba.getBumpers();
|    //std::cout << "BMPRS: FL " << bmprs.frontLeft << " FR " << bmprs.frontRight;
|    //std::cout << " L " << bmprs.left << " R " << bmprs.right << endl;
|    if((bmprs.left == true) ||
|       (bmprs.right == true)){
|        program.bumpersTriggered(bmprs).send();
|    }
|
|    int16_t sideCurrent = this->roomba.getSensor(57);
|    if(sideCurrent > 200){
|        program.sideBrushOverCurrent().send();
|    }
|}else{
|    if(this->roomba.getSensor(21) != 4 || this->searchingDock == true){
|        this->searchingDock = false;
|        //FOUND IT! :D
|    }
|}
											))
									(object Trans "askSensors"
										quid "51A5CE4A021E"
										source  ":TOP:Ready:J51A5CE4A021F"
										target  ":TOP:Ready:J51AB5B8D011F"
										action (object Action
											quid "51A5CE520115"
											body 
|byteArray b;
|//if(this->isOperating){
|    //Then, a stream
|    b.append(149);
|    //First the length:
|    //int sizeOfArray = (sizeof(sensorsToQuery) / sizeof(int)) / 2;
|    b.append(NUMSENSORS);
|    int i = 0;
|    int l = 0;
|    for(i=0;i < NUMSENSORS; i++){
|        b.append(sensorsToQuery[i][0]);
|        l+= sensorsToQuery[i][1];
|    }
|    toMain.setCommandLength(l).send();
|/*}else{
|    //Wait for buttons, battery charge and battery max:
|    b.append(149);
|    b.append(3);
|    b.append(18);
|    b.append(25);
|    b.append(26);
|    toMain.setCommandLength(5).send();
|}*/
|toMain.sendData(b).send();
|b.clear();
|
|timer.informIn(5); //Every 50 ms
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51A5CE57011B"
												Event (object PortEvent
													quid "51A5CE57011C"
													ports (list portsList
														ports  ":Structure:timer"
														quidu "51A5CE0F0294")
													signals (list signalsList
														signals  ":base:timeout"
														quidu "3DF743000081")))))
									(object Trans "playSong"
										quid "51AB4F6F0300"
										source  ":TOP:Ready:J51AB4F6F0301"
										target  ":TOP:Ready:J51AB5BA60031"
										action (object Action
											quid "51AB4FFA001D"
											body 
|byteArray b;
|b.append(141);
|b.append(*rtdata);
|
|toMain.sendData(b).send();
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51AB4F7702E5"
												Event (object PortEvent
													quid "51AB4F7702E6"
													ports (list portsList
														ports  ":Structure:program"
														quidu "51AB4A6F02B3")
													signals (list signalsList
														signals  ":base:playSong"
														quidu "51AB4F5003C5")))))
									(object Trans "stopProgram"
										quid "51AB52300118"
										source  ":TOP:Ready:J51AB52300119"
										target  ":TOP:Ready:J51AB5BB30271"
										action (object Action
											quid "51AB523902DE"
											body 
|std::cout << "RMB: Stopped program, RC " << *rtdata << endl;
|
|byteArray b;
|if(this->isOperating){
|    //Stop motors! OHMYGOD!
|    
|    b.append(145);
|    b.append(0);
|    b.append(0);
|    b.append(0);
|    b.append(0);
|
|
|    b.append(138);
|    b.append(0);
|
|    toMain.sendData(b).send();
|
|    Sleep(1000);
|    b.clear();
|}
|
|b.append(141);
|b.append(0);
|
|toMain.sendData(b).send();
|
|
|
|this->isOperating = false;
|
|
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51AB52820109"
												Event (object PortEvent
													quid "51AB5282010A"
													ports (list portsList
														ports  ":Structure:program"
														quidu "51AB4A6F02B3")
													signals (list signalsList
														signals  ":base:stopProgram"
														quidu "51AB523D034F")))))
									(object Trans "drive"
										quid "51AB5BCB00F2"
										source  ":TOP:Ready:J51AB5BCB00F3"
										target  ":TOP:Ready:J51AB5BCB00F8"
										action (object Action
											quid "51AB5C5500C5"
											body 
|clsDriveCommand dr = *rtdata;
|byteArray b;
|b.append(131);
|b.append(145);
|b.append(dr.right >> 8);
|b.append(dr.right & 0xFF);
|b.append(dr.left >> 8);
|b.append(dr.left & 0xFF);
|
|
|toMain.sendData(b).send();
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51AB5BD3015B"
												Event (object PortEvent
													quid "51AB5BD3015C"
													ports (list portsList
														ports  ":Structure:program"
														quidu "51AB4A6F02B3")
													signals (list signalsList
														signals  ":base:drive"
														quidu "51AB5AC001BF")))))
									(object Trans "doSend"
										quid "51AB77110306"
										source  ":TOP:Ready:J51AB77110307"
										target  ":TOP:Ready:J51AB77190173"
										action (object Action
											quid "51AB774A00D0"
											body "toMain.sendData(*rtdata).send();")
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51ADD3A7027B"
												Event (object PortEvent
													quid "51ADD3A7027C"
													ports (list portsList
														ports  ":Structure:program"
														quidu "51AB4A6F02B3")
													signals (list signalsList
														signals  ":base:doSend"
														quidu "51ADD3890322")))))
									(object Trans "SetMotors"
										quid "51B718480382"
										source  ":TOP:Ready:J51B718480383"
										target  ":TOP:Ready:J51B718480388"
										action (object Action
											quid "51B718720179"
											body 
|clsRoomba::clsMotors m = *rtdata;
|
|roomba.setMotors(m.mainBrush, m.sideBrush, m.vacuum);
|this->sendRoombaCommandSetMotors();
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51B718590163"
												Event (object PortEvent
													quid "51B718590164"
													ports (list portsList
														ports  ":Structure:program"
														quidu "51AB4A6F02B3")
													signals (list signalsList
														signals  ":base:setMotors"
														quidu "51B717FA02C6"))))))))
						statediagram (object State_Diagram "State Diagram"
							quid "518A226F036F"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @279
									quid "518A226F0371"
									pos (1804,787)
									quidu "518A226F036C"
									width 3428
									height 1394
									positionBySuperclass FALSE)
								(object StateView "StartState" "Initial" @280
									quid "518A226F0372"
									pos (180,180)
									quidu "518A226F036D"
									positionBySuperclass FALSE)
								(object StateView "Normal" "Ready" @281
									quid "519B57F802C2"
									pos (1119,698)
									quidu "519B57F80309"
									width 958
									height 596
									label (object ItemLabel
										quid "519B57F8030B"
										pos (1119,445)
										max_width 81)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:Ready:J519B580303BF" @282
											quid "519B580303C7"
											pos (648,476)
											quidu "519B580303BF"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J519B5D200005" @283
											quid "519B5D200009"
											pos (1326,996)
											quidu "519B5D200005"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51A5CE4A021F" @284
											quid "51A5CE4A0223"
											pos (650,925)
											quidu "51A5CE4A021F"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51AB4F6F0301" @285
											quid "51AB4F6F0305"
											pos (1388,400)
											quidu "51AB4F6F0301"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51AB52300119" @286
											quid "51AB5230011D"
											pos (1279,400)
											quidu "51AB52300119"
											positionBySuperclass FALSE)
										(object JuncPtVw ":TOP:Ready:J51AB5B8D011F" @287
											quid "51AB5B8D0123"
											pos (640,872)
											quidu "51AB5B8D011F"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51AB5B9301A2" @288
											quid "51AB5B9301A6"
											pos (1214,996)
											quidu "51AB5B9301A2"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51AB5BA60031" @289
											quid "51AB5BA60035"
											pos (1478,400)
											quidu "51AB5BA60031"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51AB5BB30271" @290
											quid "51AB5BB30275"
											pos (1169,400)
											quidu "51AB5BB30271"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51AB5BCB00F3" @291
											quid "51AB5BCB00F7"
											pos (1006,400)
											quidu "51AB5BCB00F3"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51AB5BCB00F8" @292
											quid "51AB5BCB00FC"
											pos (1096,400)
											quidu "51AB5BCB00F8"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51AB645400D1" @293
											quid "51AB645400D5"
											pos (1598,669)
											quidu "51AB645400D1"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51AB647002D6" @294
											quid "51AB647002DB"
											pos (1594,489)
											quidu "51AB647002D6"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51AB647201BD" @295
											quid "51AB647201C1"
											pos (1598,547)
											quidu "51AB647201BD"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51AB77110307" @296
											quid "51AB7711030B"
											pos (953,400)
											quidu "51AB77110307"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51AB77190173" @297
											quid "51AB77190177"
											pos (866,400)
											quidu "51AB77190173"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51B5A3C90125" @298
											quid "51B5A3C90129"
											pos (1598,752)
											quidu "51B5A3C90125"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51B718480383" @299
											quid "51B718480387"
											pos (1538,416)
											quidu "51B718480383"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:Ready:J51B718480388" @300
											quid "51B71848038C"
											pos (1585,465)
											quidu "51B718480388"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "519B580303C0"
										items (list diagram_item_list
											(object StateView "Perimeter" "Ready" @301
												quid "519B580303C2"
												pos (840,615)
												quidu "519B57F80309"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:Ready:J519B580303BF" @302
														quid "519B580303C4"
														pos (96,447)
														quidu "519B580303BF"
														juncPtIcon (object JuncPtIcon @303
															quid "519B580303C5"
															pos (186,447)
															label (object ItemLabel
																quid "519B580303C6"
																pos (156,487)
																max_width 128)))
													(object JuncPtVw ":TOP:Ready:J519B5D200005" @304
														quid "519B5D200006"
														pos (1170,1134)
														quidu "519B5D200005"
														juncPtIcon (object JuncPtIcon @305
															quid "519B5D200007"
															pos (1170,1044)
															label (object ItemLabel
																quid "519B5D200008"
																pos (1210,1074)
																max_width 241)))
													(object JuncPtVw ":TOP:Ready:J51A5CE4A021F" @306
														quid "51A5CE4A0220"
														pos (96,1014)
														quidu "51A5CE4A021F"
														juncPtIcon (object JuncPtIcon @307
															quid "51A5CE4A0221"
															pos (186,1014)
															label (object ItemLabel
																quid "51A5CE4A0222"
																pos (156,1054)
																max_width 159)))
													(object JuncPtVw ":TOP:Ready:J51AB4F6F0301" @308
														quid "51AB4F6F0302"
														pos (1260,96)
														quidu "51AB4F6F0301"
														juncPtIcon (object JuncPtIcon @309
															quid "51AB4F6F0303"
															pos (1260,186)
															label (object ItemLabel
																quid "51AB4F6F0304"
																pos (1300,156)
																max_width 128)))
													(object JuncPtVw ":TOP:Ready:J51AB52300119" @310
														quid "51AB5230011A"
														pos (735,96)
														quidu "51AB52300119"
														juncPtIcon (object JuncPtIcon @311
															quid "51AB5230011B"
															pos (735,186)
															label (object ItemLabel
																quid "51AB5230011C"
																pos (775,156)
																max_width 175)))
													(object JuncPtVw ":TOP:Ready:J51AB5B8D011F" @312
														quid "51AB5B8D0120"
														pos (96,920)
														quidu "51AB5B8D011F"
														juncPtIcon (object JuncPtIcon @313
															quid "51AB5B8D0121"
															pos (186,920)
															label (object ItemLabel
																quid "51AB5B8D0122"
																pos (156,960)
																max_width 159)))
													(object JuncPtVw ":TOP:Ready:J51AB5B9301A2" @314
														quid "51AB5B9301A3"
														pos (990,1134)
														quidu "51AB5B9301A2"
														juncPtIcon (object JuncPtIcon @315
															quid "51AB5B9301A4"
															pos (990,1044)
															label (object ItemLabel
																quid "51AB5B9301A5"
																pos (1030,1074)
																max_width 241)))
													(object JuncPtVw ":TOP:Ready:J51AB5BA60031" @316
														quid "51AB5BA60032"
														pos (1395,96)
														quidu "51AB5BA60031"
														juncPtIcon (object JuncPtIcon @317
															quid "51AB5BA60033"
															pos (1395,186)
															label (object ItemLabel
																quid "51AB5BA60034"
																pos (1435,156)
																max_width 128)))
													(object JuncPtVw ":TOP:Ready:J51AB5BB30271" @318
														quid "51AB5BB30272"
														pos (915,96)
														quidu "51AB5BB30271"
														juncPtIcon (object JuncPtIcon @319
															quid "51AB5BB30273"
															pos (915,186)
															label (object ItemLabel
																quid "51AB5BB30274"
																pos (955,156)
																max_width 175)))
													(object JuncPtVw ":TOP:Ready:J51AB5BCB00F3" @320
														quid "51AB5BCB00F4"
														pos (660,96)
														quidu "51AB5BCB00F3"
														juncPtIcon (object JuncPtIcon @321
															quid "51AB5BCB00F5"
															pos (660,186)
															label (object ItemLabel
																quid "51AB5BCB00F6"
																pos (700,156)
																max_width 81)))
													(object JuncPtVw ":TOP:Ready:J51AB5BCB00F8" @322
														quid "51AB5BCB00F9"
														pos (810,96)
														quidu "51AB5BCB00F8"
														juncPtIcon (object JuncPtIcon @323
															quid "51AB5BCB00FA"
															pos (810,186)
															label (object ItemLabel
																quid "51AB5BCB00FB"
																pos (850,156)
																max_width 81)))
													(object JuncPtVw ":TOP:Ready:J51AB645400D1" @324
														quid "51AB645400D2"
														pos (1584,563)
														quidu "51AB645400D1"
														positionBySuperclass FALSE
														juncPtIcon (object JuncPtIcon @325
															quid "51AB645400D3"
															pos (1494,563)
															label (object ItemLabel
																quid "51AB645400D4"
																pos (1524,603)
																positionBySuperclass FALSE
																max_width 209)
															positionBySuperclass FALSE))
													(object JuncPtVw ":TOP:Ready:J51AB647002D6" @326
														quid "51AB647002D8"
														pos (1584,248)
														quidu "51AB647002D6"
														juncPtIcon (object JuncPtIcon @327
															quid "51AB647002D9"
															pos (1494,248)
															label (object ItemLabel
																quid "51AB647002DA"
																pos (1524,288)
																max_width 191)))
													(object JuncPtVw ":TOP:Ready:J51AB647201BD" @328
														quid "51AB647201BE"
														pos (1584,395)
														quidu "51AB647201BD"
														juncPtIcon (object JuncPtIcon @329
															quid "51AB647201BF"
															pos (1494,395)
															label (object ItemLabel
																quid "51AB647201C0"
																pos (1524,435)
																max_width 191)))
													(object JuncPtVw ":TOP:Ready:J51AB77110307" @330
														quid "51AB77110308"
														pos (585,96)
														quidu "51AB77110307"
														juncPtIcon (object JuncPtIcon @331
															quid "51AB77110309"
															pos (585,186)
															label (object ItemLabel
																quid "51AB7711030A"
																pos (625,156)
																max_width 97)))
													(object JuncPtVw ":TOP:Ready:J51AB77190173" @332
														quid "51AB77190174"
														pos (450,96)
														quidu "51AB77190173"
														juncPtIcon (object JuncPtIcon @333
															quid "51AB77190175"
															pos (450,186)
															label (object ItemLabel
																quid "51AB77190176"
																pos (490,156)
																max_width 97)))
													(object JuncPtVw ":TOP:Ready:J51B5A3C90125" @334
														quid "51B5A3C90126"
														pos (1584,710)
														quidu "51B5A3C90125"
														juncPtIcon (object JuncPtIcon @335
															quid "51B5A3C90127"
															pos (1494,710)
															label (object ItemLabel
																quid "51B5A3C90128"
																pos (1524,750))))
													(object JuncPtVw ":TOP:Ready:J51B718480383" @336
														quid "51B718480384"
														pos (1499,98)
														quidu "51B718480383"
														juncPtIcon (object JuncPtIcon @337
															quid "51B718480385"
															pos (1482,186)
															label (object ItemLabel
																quid "51B718480386"
																pos (1522,156))))
													(object JuncPtVw ":TOP:Ready:J51B718480388" @338
														quid "51B718480389"
														pos (1584,206)
														quidu "51B718480388"
														juncPtIcon (object JuncPtIcon @339
															quid "51B71848038A"
															pos (1494,206)
															label (object ItemLabel
																quid "51B71848038B"
																pos (1524,246))))))
											(object StateView "StartState" "Initial" @340
												quid "519B580303C3"
												pos (180,180)
												quidu "519B57F80311")
											(object TransView ":TOP:Ready:J51AB647201BD:t1" @341
												quid "51A5BBA200B9"
												uses_fill_color FALSE
												quidu "51A5BBA3004B"
												label (object SegLabel @342
													quid "51A5BBA3004C"
													pos (1391,444)
													positionBySuperclass FALSE
													max_width 31
													pctDist 0.185185
													height 103
													orientation 1)
												positionBySuperclass FALSE
												client @329
												supplier @325
												vertices (list Points
													(1494,424)
													(1494,532))
												line_style 6144))
										filterFlags 1))
								(object StateView "Normal" "waitForCom" @343
									quid "519B68F402FF"
									pos (440,362)
									quidu "519B68F4033F"
									label (object ItemLabel
										quid "519B68F40340"
										pos (440,317)
										max_width 159)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:waitForCom:J519B68FC0073" @344
											quid "519B68FC007B"
											pos (560,410)
											quidu "519B68FC0073"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:waitForCom:J519B69010080" @345
											quid "519B69010084"
											pos (331,283)
											quidu "519B69010080"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "519B68FC0074"
										items (list diagram_item_list
											(object StateView "Perimeter" "waitForCom" @346
												quid "519B68FC0076"
												pos (840,615)
												quidu "519B68F4033F"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:waitForCom:J519B68FC0073" @347
														quid "519B68FC0078"
														pos (1584,773)
														quidu "519B68FC0073"
														juncPtIcon (object JuncPtIcon @348
															quid "519B68FC0079"
															pos (1494,773)
															label (object ItemLabel
																quid "519B68FC007A"
																pos (1524,813))))
													(object JuncPtVw ":TOP:waitForCom:J519B69010080" @349
														quid "519B69010081"
														pos (169,101)
														quidu "519B69010080"
														juncPtIcon (object JuncPtIcon @350
															quid "519B69010082"
															pos (196,187)
															label (object ItemLabel
																quid "519B69010083"
																pos (236,157))))))
											(object StateView "StartState" "Initial" @351
												quid "519B68FC0077"
												pos (180,180)
												quidu "519B68F40346"))
										filterFlags 1))
								(object TransView ":TOP:Ready:J51AB4F6F0301:playSong" @352
									quid "51AB4F6F02FF"
									uses_fill_color FALSE
									quidu "51AB4F6F0300"
									label (object SegLabel @353
										quid "51AB4F6F030B"
										pos (1448,284)
										anchor_loc 3
										max_width 128
										justify 1
										pctDist 0.568182
										height 41)
									client @285
									supplier @289
									vertices (list Points
										(1388,390)
										(1388,325)
										(1478,325)
										(1478,390))
									line_style 6144)
								(object TransView ":TOP:Initial:Initial" @354
									quid "519B690001A6"
									uses_fill_color FALSE
									quidu "519B6901007F"
									label (object SegLabel @355
										quid "519B69010085"
										pos (285,199)
										positionBySuperclass FALSE
										max_width 113
										pctDist 0.481348
										height 42)
									positionBySuperclass FALSE
									client @280
									supplier @345
									vertices (list Points
										(203,195)
										(323,277))
									line_style 6144)
								(object TransView ":TOP:Ready:J51AB77110307:doSend" @356
									quid "51AB77110305"
									uses_fill_color FALSE
									quidu "51AB77110306"
									label (object SegLabel @357
										quid "51AB77110311"
										pos (769,291)
										positionBySuperclass FALSE
										anchor_loc 3
										max_width 97
										justify 1
										pctDist 2.114943
										height 34
										orientation 1)
									positionBySuperclass FALSE
									client @296
									supplier @297
									vertices (list Points
										(953,390)
										(953,325)
										(866,325)
										(866,390))
									line_style 6144)
								(object TransView ":TOP:Ready:J51AB647002D6:dataReceived" @358
									quid "519B5D190388"
									uses_fill_color FALSE
									quidu "519B5D190389"
									label (object SegLabel @359
										quid "519B5D190394"
										pos (1839,523)
										positionBySuperclass FALSE
										anchor_loc 3
										max_width 191
										justify 1
										pctDist 1.202186
										height 170)
									positionBySuperclass FALSE
									client @294
									supplier @295
									vertices (list Points
										(1601,485)
										(1663,459)
										(1669,525)
										(1605,544))
									line_style 6144)
								(object TransView ":TOP:Ready:J51A5CE4A021F:askSensors" @360
									quid "51A5CE4A021D"
									uses_fill_color FALSE
									quidu "51A5CE4A021E"
									label (object SegLabel @361
										quid "51A5CE4A0229"
										pos (499,982)
										positionBySuperclass FALSE
										anchor_loc 3
										max_width 159
										justify 1
										pctDist 2.334056
										height 19
										orientation 1)
									positionBySuperclass FALSE
									client @284
									supplier @287
									vertices (list Points
										(641,929)
										(584,959)
										(569,897)
										(631,875))
									line_style 6144)
								(object TransView ":TOP:Ready:J51AB52300119:stopProgram" @362
									quid "51AB52300117"
									uses_fill_color FALSE
									quidu "51AB52300118"
									label (object SegLabel @363
										quid "51AB52300123"
										pos (1224,281)
										positionBySuperclass FALSE
										anchor_loc 3
										max_width 175
										justify 1
										pctDist 0.500000
										height 44
										orientation 1)
									positionBySuperclass FALSE
									client @286
									supplier @290
									vertices (list Points
										(1279,390)
										(1279,325)
										(1169,325)
										(1169,390))
									line_style 6144)
								(object TransView ":TOP:waitForCom:J519B68FC0073:comReady" @364
									quid "519B580202B6"
									uses_fill_color FALSE
									quidu "519B580303BE"
									label (object SegLabel @365
										quid "519B580303C8"
										pos (674,386)
										positionBySuperclass FALSE
										anchor_loc 3
										max_width 128
										justify 1
										pctDist 0.752500
										height 87)
									positionBySuperclass FALSE
									client @344
									supplier @282
									vertices (list Points
										(566,415)
										(640,470))
									line_style 6144)
								(object TransView ":TOP:Ready:J51AB645400D1:handleSensors" @366
									quid "51A5BB97030C"
									uses_fill_color FALSE
									quidu "51A5BB97030D"
									label (object SegLabel @367
										quid "51A5BB970318"
										pos (1827,742)
										positionBySuperclass FALSE
										max_width 209
										pctDist 0.643519
										height 155)
									positionBySuperclass FALSE
									client @293
									supplier @298
									vertices (list Points
										(1606,669)
										(1672,669)
										(1672,753)
										(1606,752))
									line_style 6144)
								(object TransView ":TOP:Ready:J519B5D200005:commandReceived" @368
									quid "519B5D200002"
									uses_fill_color FALSE
									quidu "519B5D200003"
									label (object SegLabel @369
										quid "519B5D20000F"
										pos (1269,1117)
										positionBySuperclass FALSE
										anchor_loc 3
										max_width 241
										justify 1
										pctDist 0.500000
										height 45)
									positionBySuperclass FALSE
									client @283
									supplier @288
									vertices (list Points
										(1325,1004)
										(1325,1072)
										(1213,1072)
										(1213,1004))
									line_style 6144)
								(object TransView ":TOP:Ready:J51AB5BCB00F3:drive" @370
									quid "51AB5BCB00F1"
									uses_fill_color FALSE
									quidu "51AB5BCB00F2"
									label (object SegLabel @371
										quid "51AB5BCB00FD"
										pos (1051,281)
										anchor_loc 3
										max_width 81
										justify 1
										pctDist 0.500000
										height 44)
									client @291
									supplier @292
									vertices (list Points
										(1006,390)
										(1006,325)
										(1096,325)
										(1096,390))
									line_style 6144)
								(object TransView ":TOP:Ready:J51B718480383:SetMotors" @372
									quid "51B718480381"
									uses_fill_color FALSE
									quidu "51B718480382"
									label (object SegLabel @373
										quid "51B71848038D"
										pos (1690,356)
										positionBySuperclass FALSE
										max_width 144
										pctDist 0.541532
										height 79)
									positionBySuperclass FALSE
									client @299
									supplier @300
									vertices (list Points
										(1544,410)
										(1600,374)
										(1652,431)
										(1592,460))
									line_style 6144)
								(object NoteView @374
									quid "51A477E80373"
									pos (1190,1245)
									label (object ItemLabel
										quid "51A477E80374"
										pos (621,1143)
										nlines 6
										max_width 1103
										label "If you're looking for the code that handles EVERYTHING.. Check this arrow.. Rose just doesn't allow me to make this the way i want to.. I hate you Rose.. I hate you..")
									width 1163
									height 217))
							filterFlags 1)
						language "C++"
						structureDiagram (object CollaborationDiagram "Structure Diagram"
							quid "518A226F0373"
							items (list diagram_item_list
								(object CapsulePerimeterVw "Structure" @375
									quid "518A226F0375"
									pos (840,615)
									quidu "518A226F036E"
									boundIcons (list boundIconsList
										(object PortVw ":Structure:toMain" @376
											quid "519B58B702CA"
											pos (1581,97)
											quidu "519B58B70323"
											label (object ItemLabel
												quid "519B58BA023C"
												pos (1590,133)
												nlines 2
												max_width 272
												label "toMain"))))
								(object CapsuleRoleVw ":Structure:roombaProgramInstance" @377
									quid "51AB4BEB0322"
									pos (973,762)
									quidu "51AB4BEC0082"
									width 480
									label (object ItemLabel
										quid "51AB4BEC0086"
										pos (973,714)
										positionBySuperclass FALSE
										nlines 2
										max_width 384
										label "roombaProgramInstance")
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ConnectionPtVw ":Structure:roombaProgramInstance:Roomba" @378
											quid "51AB4BEC0084"
											pos (812,672)
											label (object ItemLabel
												quid "51AB4BEC0085"
												pos (812,583)
												positionBySuperclass FALSE
												nlines 2
												max_width 288
												label "Roomba")
											positionBySuperclass FALSE)))
								(object PortVw ":Structure:timer" @379
									quid "51A5CE110358"
									pos (306,138)
									quidu "51A5CE0F0294"
									label (object ItemLabel
										quid "51A5CE11035B"
										pos (315,174)
										nlines 2
										max_width 144
										label "timer"))
								(object PortVw ":Structure:program" @380
									quid "51AB4A720157"
									pos (804,372)
									quidu "51AB4A6F02B3"
									label (object ItemLabel
										quid "51AB4A72015B"
										pos (813,408)
										positionBySuperclass FALSE
										nlines 2
										max_width 303
										label "program")
									positionBySuperclass FALSE)
								(object PortVw ":Structure:frame" @381
									quid "51AB64CF030B"
									pos (216,486)
									quidu "51AB64CE0172"
									label (object ItemLabel
										quid "51AB64CF030E"
										pos (225,522)
										nlines 2
										max_width 144
										label "frame"))
								(object ConnectorVw ":Structure:C51AB4FAF02A2" @382
									quid "51AB4FAE004E"
									stereotype TRUE
									uses_fill_color FALSE
									quidu "51AB4FAF02A2"
									label (object SegLabel @383
										quid "51AB4FAF02A4"
										pos (875,531)
										max_width 209
										pctDist 0.495539
										height 68)
									client @380
									supplier @378
									vertices (list Points
										(804,408)
										(811,660))
									line_style 6144))
							filterFlags 521))
					(object Capsule "roombaProgram"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "HeaderPreface"
								value (value Text 
|#include <stdio.h>
|#include <stdlib.h>
|#define _USE_MATH_DEFINES
|#include <math.h>
|
|#ifdef _WIN32
|#include <Windows.h>
|#else
|#include <unistd.h>
|#endif
|
|
								)))
						quid "51AB48870299"
						structure (object CapsuleCollaboration "Structure"
							quid "51AB4887029D"
							ports (list portsList
								(object Port "Roomba"
									quid "51AB4A9901B5"
									classifier  "Logical View::Roomba::programProtocol"
									quidu "51AB493C03BB"
									isRelay FALSE)
								(object Port "timer"
									quid "51ADB853012A"
									classifier  "Logical View::RTClasses::Timing"
									quidu "37E9292C018C"
									isRelay FALSE
									isWired FALSE
									visibility "Protected")))
						class_attributes (list class_attribute_list
							(object ClassAttribute "batteryLevel"
								quid "51AB59CC002D"
								type "int")
							(object ClassAttribute "bumpersTriggered"
								quid "51AB5D1702E7"
								type "clsRoomba::clsBumpersAndCliff")
							(object ClassAttribute "angleToRotate"
								quid "51AB5F0D0204"
								type "int")
							(object ClassAttribute "angleRotated"
								quid "51AB62C3003E"
								type "int")
							(object ClassAttribute "speedLeft"
								quid "51B5A6E10342"
								initv "150"
								type "int")
							(object ClassAttribute "speedRight"
								quid "51B5A6ED0217"
								initv "100"
								type "int")
							(object ClassAttribute "MINBATTERY"
								attributes (list Attribute_Set
									(object Attribute
										tool "OT::Cpp"
										name "AttributeKind"
										value ("AttributeKindSet" 2)))
								quid "51B705F301FA"
								initv "90"
								type "int"))
						operations (list Operations
							(object Operation "drive"
								quid "51AB5F28023F"
								body 
|clsDriveCommand dr(left,right);
|
|Roomba.drive(dr).send();
								
								parameters (list Parameters
									(object Parameter "left"
										quid "51AB5F3200E0"
										type "int")
									(object Parameter "right"
										quid "51AB5F3603BB"
										type "int"))
								result "void"
								visibility "Protected")
							(object Operation "stop"
								quid "51AB5F770384"
								body 
|clsDriveCommand dr;
|dr.left = 0;
|dr.right = 0;
|
|Roomba.drive(dr).send();
								
								result "void"
								visibility "Protected")
							(object Operation "calculateTimeToRotateAngle"
								quid "51ADB6EB038B"
								body 
|double dDistance = leftSpeed - rightSpeed;
|//Calculate the angle at which the roomba is turning. angleAdj.
|//We know that the difference between the wheels will give us a
|//Triangle with equivalent legs
|//When we aply some magic formulas to that(see below)
|//We get the angle the roomba has rotated
|double d = dDistance / 2;
|double f = (d / 225);
|double sinCalc = asin(f);
|double angleAdj = ((sinCalc / M_PI) * 180);
|angleAdj = (angleAdj * 2);
|
|//AngleAdj now contains the value this thing will turn in 1 second.
|angleAdj = angleAdj;
|cout << "AA = " << angleAdj;
|//And now in 1 ms
|return abs((int)((angleToRotate / angleAdj) * 1000));
								
								parameters (list Parameters
									(object Parameter "leftSpeed"
										quid "51ADB70103BD"
										type "int")
									(object Parameter "rightSpeed"
										quid "51ADB708033B"
										type "int")
									(object Parameter "angleToRotate"
										quid "51ADB72702F5"
										type "int"))
								result "int"
								visibility "Protected")
							(object Operation "setMotors"
								quid "51ADD27B0062"
								body 
|clsRoomba::clsMotors m;
|m.mainBrush = mainBrush;
|m.sideBrush = sideBrush;
|m.vacuum = vacuum;
|
|Roomba.setMotors(m).send();
|
								
								parameters (list Parameters
									(object Parameter "mainBrush"
										quid "51ADD28D027E"
										type "bool")
									(object Parameter "sideBrush"
										quid "51ADD2940296"
										type "bool")
									(object Parameter "vacuum"
										quid "51ADD29A034B"
										type "bool"))
								result "void"
								visibility "Protected"))
						statemachine (object State_Machine
							quid "51AB4887029A"
							State (object State "TOP"
								quid "51AB4887029B"
								states (list States
									(object InitialPt "Initial"
										quid "51AB4887029C")
									(object State "roombaWaitForStart"
										quid "51AB48B60366"
										states (list States
											(object InitialPt "Initial"
												quid "51AB48B60368")
											(object JuncPt "J51AB5A2600DB"
												quid "51AB5A2600DB"
												externallyVisible TRUE)
											(object JuncPt "J51AB5A85024C"
												quid "51AB5A85024C"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51AB685D02C5"
												quid "51AB685D02C5"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51ADAD54025B"
												quid "51ADAD54025B"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51ADAD780391"
												quid "51ADAD780391"
												isEntry TRUE
												externallyVisible TRUE)))
									(object State "roombaStart"
										quid "51AB599E025A"
										entryAction (object Action
											quid "51AB630C011E"
											body 
|this->drive(speedLeft, speedRight);
|this->setMotors(true,true,true);
											)
										states (list States
											(object InitialPt "Initial"
												quid "51AB599E0263")
											(object JuncPt "J51AB5CF303CA"
												quid "51AB5CF303CA"
												externallyVisible TRUE)
											(object JuncPt "J51ADAD78038C"
												quid "51ADAD78038C"
												externallyVisible TRUE)
											(object JuncPt "J51B5A22101C5"
												quid "51B5A22101C5"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51B5A7140151"
												quid "51B5A7140151"
												externallyVisible TRUE)
											(object JuncPt "J51B5A71F03DF"
												quid "51B5A71F03DF"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51B5A72903A0"
												quid "51B5A72903A0"
												isEntry TRUE
												externallyVisible TRUE)))
									(object ChoicePt "checkBatteryLevel"
										quid "51AB5A180389"
										guard (object Guard
											quid "51AB5A7003B9"
											expression 
|if(this->batteryLevel <= MINBATTERY){
|    return false;
|}else{
|    return true;
|}
											))
									(object State "bumperTriggered"
										quid "51AB61D40121"
										entryAction (object Action
											quid "51AB621E0038"
											body 
|//Check sensors:
|if(bumpersTriggered.left && bumpersTriggered.right){
|    //Head on collision! rotate 90 degrees and try again!
|    this->drive(-100, 100);
|
|    int theTime = calculateTimeToRotateAngle(-100, 100, 30);
|    cout << "The Time = " << theTime << endl;
|    timer.informIn(theTime/10);
|}else if(bumpersTriggered.left){
|    this->drive(100, -100);
|    int theTime = calculateTimeToRotateAngle(100, -100, 180);
|    cout << "The Time = " << theTime << endl;
|    timer.informIn(theTime/10);
|}else if(bumpersTriggered.right){
|    this->drive(-100, 100);
|    int theTime = calculateTimeToRotateAngle(-100, 100, -1);
|    cout << "The Time = " << theTime << endl;
|    timer.informIn(theTime/10);
|}
|
|bumpersTriggered.left = false;
|bumpersTriggered.right = false;
											)
										states (list States
											(object InitialPt "Initial"
												quid "51AB61D4012C")
											(object JuncPt "J51AB61DE016E"
												quid "51AB61DE016E"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51ADAD540256"
												quid "51ADAD540256"
												externallyVisible TRUE)
											(object JuncPt "J51ADB8DA02CF"
												quid "51ADB8DA02CF"
												externallyVisible TRUE)
											(object JuncPt "J51ADCE6F0025"
												quid "51ADCE6F0025"
												externallyVisible TRUE)
											(object JuncPt "J51ADCE6F002A"
												quid "51ADCE6F002A"
												isEntry TRUE
												externallyVisible TRUE)))
									(object State "CheckWhereWeAre"
										quid "51B5A207016D"
										states (list States
											(object InitialPt "Initial"
												quid "51B5A207017D")
											(object JuncPt "J51B5A20D0183"
												quid "51B5A20D0183"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51B5A22101B3"
												quid "51B5A22101B3"
												externallyVisible TRUE))))
								transitions (list transition_list
									(object Trans "Start"
										quid "51AB5A2600DA"
										source  ":TOP:roombaWaitForStart:J51AB5A2600DB"
										target  ":TOP:checkBatteryLevel"
										action (object Action
											quid "51AB5A5D03A7"
											body 
|this->batteryLevel = *rtdata;
|
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51AB5A4E0181"
												Event (object PortEvent
													quid "51AB5A4E0182"
													ports (list portsList
														ports  ":Structure:Roomba"
														quidu "51AB4A9901B5")
													signals (list signalsList
														signals  ":base:start"
														quidu "51AB4A8E0214")))))
									(object Trans "batteryTooLow"
										quid "51AB5A85024B"
										sourceRegion 0
										source  ":TOP:checkBatteryLevel"
										target  ":TOP:roombaWaitForStart:J51AB5A85024C"
										action (object Action
											quid "51AB5A950269"
											body 
|Roomba.playSong(0).send();
|Roomba.stopProgram(0).send(); //RC 0 = Low Battery
|
											))
									(object Trans "batteryFull"
										quid "51AB5AAF01EE"
										sourceRegion 1
										source  ":TOP:checkBatteryLevel"
										target  ":TOP:CheckWhereWeAre:J51B5A20D0183"
										action (object Action
											quid "51AB686A03A8"
											body 
|cout << "Program starting!" << endl;
|Roomba.playSong(1).send();
											))
									(object Trans "bumper"
										quid "51AB5CF303C9"
										source  ":TOP:roombaStart:J51AB5CF303CA"
										target  ":TOP:bumperTriggered:J51AB61DE016E"
										action (object Action
											quid "51AB5D8F00AF"
											body 
|this->bumpersTriggered = *rtdata;
|this->stop();
|this->setMotors(true, false, true);
|//Drive backwards for just a bit please
|this->drive(-100,-100);
|Sleep(650);
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51AB5D0C0078"
												Event (object PortEvent
													quid "51AB5D0C0079"
													ports (list portsList
														ports  ":Structure:Roomba"
														quidu "51AB4A9901B5")
													signals (list signalsList
														signals  ":base:bumpersTriggered"
														quidu "51AB52BE03DC")))))
									(object Trans "Initial"
										quid "51AB685D02C3"
										source  ":TOP:Initial"
										target  ":TOP:roombaWaitForStart:J51AB685D02C5")
									(object Trans "StopHammerTime"
										quid "51ADAD540255"
										source  ":TOP:bumperTriggered:J51ADAD540256"
										target  ":TOP:roombaWaitForStart:J51ADAD54025B"
										action (object Action
											quid "51AF07F60374"
											body "Roomba.stopProgram(2).send();")
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51ADAD6D0179"
												Event (object PortEvent
													quid "51ADAD6D017A"
													ports (list portsList
														ports  ":Structure:Roomba"
														quidu "51AB4A9901B5")
													signals (list signalsList
														signals  ":base:stop"
														quidu "51ADAD1F0146")))))
									(object Trans "Stop"
										quid "51ADAD78038B"
										source  ":TOP:roombaStart:J51ADAD78038C"
										target  ":TOP:roombaWaitForStart:J51ADAD780391"
										action (object Action
											quid "51AF07EB020F"
											body "Roomba.stopProgram(2).send();")
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51ADAD840179"
												Event (object PortEvent
													quid "51ADAD84017A"
													ports (list portsList
														ports  ":Structure:Roomba"
														quidu "51AB4A9901B5")
													signals (list signalsList
														signals  ":base:stop"
														quidu "51ADAD1F0146")))))
									(object Trans "pijltje"
										quid "51ADB8DA02CE"
										source  ":TOP:bumperTriggered:J51ADB8DA02CF"
										target  ":TOP:roombaStart:J51B5A71F03DF"
										action (object Action
											quid "51ADC5FD0284"
											body 
|this->stop();
|speedLeft = 100;
|speedRight = 100;
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51ADB8EB0256"
												Event (object PortEvent
													quid "51ADB8EB0257"
													ports (list portsList
														ports  ":Structure:timer"
														quidu "51ADB853012A")
													signals (list signalsList
														signals  ":base:timeout"
														quidu "3DF743000081")))))
									(object Trans "t1"
										quid "51ADCE6F0024"
										source  ":TOP:bumperTriggered:J51ADCE6F0025"
										target  ":TOP:bumperTriggered:J51ADCE6F002A"
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51ADCE82026E"
												Event (object PortEvent
													quid "51ADCE82026F"
													ports (list portsList
														ports  ":Structure:Roomba"
														quidu "51AB4A9901B5")
													signals (list signalsList
														signals  ":base:bumpersTriggered"
														quidu "51AB52BE03DC")))))
									(object Trans "t1"
										quid "51B5A22101B2"
										source  ":TOP:CheckWhereWeAre:J51B5A22101B3"
										target  ":TOP:roombaStart:J51B5A22101C5"
										action (object Action
											quid "51B5A25E023E"
											body 
|//if we are charging, please drive backwards for a short period and then rotate 180
|//THEN we start the program:
|int whereAreWe = *rtdata;
|std::cout << "PRM: WAW: " << whereAreWe << endl;
|if(whereAreWe > 0 && whereAreWe != 4){
|    //We are charging
|    drive(-100, -100);
|    Sleep(1000);
|    this->drive(-100, 100);
|    int theTime = calculateTimeToRotateAngle(-100, 100, 180);
|    cout << "The Time = " << theTime << endl;
|    Sleep(theTime);
|}
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51B5A22A0388"
												Event (object PortEvent
													quid "51B5A22A0389"
													ports (list portsList
														ports  ":Structure:Roomba"
														quidu "51AB4A9901B5")
													signals (list signalsList
														signals  ":base:isCharging"
														quidu "51B5A1F20323")))))
									(object Trans "overCurrent"
										quid "51B5A70B01DC"
										source  ":TOP:roombaStart:J51B5A7140151"
										target  ":TOP:roombaStart:J51B5A72903A0"
										action (object Action
											quid "51B5A7590162"
											body "speedRight = 150;")
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51B5A73103C2"
												Event (object PortEvent
													quid "51B5A73103C3"
													ports (list portsList
														ports  ":Structure:Roomba"
														quidu "51AB4A9901B5")
													signals (list signalsList
														signals  ":base:sideBrushOverCurrent"
														quidu "51B59124037A"))))))))
						statediagram (object State_Diagram "State Diagram"
							quid "51AB4887029E"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @384
									quid "51AB488702A0"
									pos (870,726)
									quidu "51AB4887029B"
									width 1559
									height 1271
									positionBySuperclass FALSE)
								(object StateView "StartState" "Initial" @385
									quid "51AB488702A1"
									pos (180,180)
									quidu "51AB4887029C"
									positionBySuperclass FALSE)
								(object StateView "Normal" "roombaWaitForStart" @386
									quid "51AB48B60318"
									pos (535,157)
									quidu "51AB48B60366"
									width 366
									height 89
									label (object ItemLabel
										quid "51AB48B60367"
										pos (535,157)
										max_width 288)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:roombaWaitForStart:J51AB5A2600DB" @387
											quid "51AB5A2600DF"
											pos (535,201)
											quidu "51AB5A2600DB"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:roombaWaitForStart:J51AB5A85024C" @388
											quid "51AB5A850250"
											pos (503,201)
											quidu "51AB5A85024C"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:roombaWaitForStart:J51AB685D02C5" @389
											quid "51AB685D02C9"
											pos (352,167)
											quidu "51AB685D02C5"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:roombaWaitForStart:J51ADAD54025B" @390
											quid "51ADAD54025F"
											pos (718,157)
											quidu "51ADAD54025B"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:roombaWaitForStart:J51ADAD780391" @391
											quid "51ADAD780395"
											pos (718,181)
											quidu "51ADAD780391"
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "51AB48BA014F"
										items (list diagram_item_list
											(object StateView "Perimeter" "roombaWaitForStart" @392
												quid "51AB48BA0151"
												pos (840,615)
												quidu "51AB48B60366"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:roombaWaitForStart:J51AB5A2600DB" @393
														quid "51AB5A2600DC"
														pos (885,1134)
														quidu "51AB5A2600DB"
														juncPtIcon (object JuncPtIcon @394
															quid "51AB5A2600DD"
															pos (885,1044)
															label (object ItemLabel
																quid "51AB5A2600DE"
																pos (925,1074))))
													(object JuncPtVw ":TOP:roombaWaitForStart:J51AB5A85024C" @395
														quid "51AB5A85024D"
														pos (705,1134)
														quidu "51AB5A85024C"
														juncPtIcon (object JuncPtIcon @396
															quid "51AB5A85024E"
															pos (705,1044)
															label (object ItemLabel
																quid "51AB5A85024F"
																pos (745,1074))))
													(object JuncPtVw ":TOP:roombaWaitForStart:J51AB685D02C5" @397
														quid "51AB685D02C6"
														pos (96,741)
														quidu "51AB685D02C5"
														juncPtIcon (object JuncPtIcon @398
															quid "51AB685D02C7"
															pos (186,741)
															label (object ItemLabel
																quid "51AB685D02C8"
																pos (156,781))))
													(object JuncPtVw ":TOP:roombaWaitForStart:J51ADAD54025B" @399
														quid "51ADAD54025C"
														pos (1584,626)
														quidu "51ADAD54025B"
														juncPtIcon (object JuncPtIcon @400
															quid "51ADAD54025D"
															pos (1494,626)
															label (object ItemLabel
																quid "51ADAD54025E"
																pos (1524,666))))
													(object JuncPtVw ":TOP:roombaWaitForStart:J51ADAD780391" @401
														quid "51ADAD780392"
														pos (1584,909)
														quidu "51ADAD780391"
														juncPtIcon (object JuncPtIcon @402
															quid "51ADAD780393"
															pos (1494,909)
															label (object ItemLabel
																quid "51ADAD780394"
																pos (1524,949))))))
											(object StateView "StartState" "Initial" @403
												quid "51AB48BA0152"
												pos (180,180)
												quidu "51AB48B60368"))
										filterFlags 1))
								(object StateView "Normal" "roombaStart" @404
									quid "51AB599E0217"
									pos (1240,779)
									quidu "51AB599E025A"
									height 149
									label (object ItemLabel
										quid "51AB599E025C"
										pos (1240,749)
										max_width 175)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:roombaStart:J51AB5CF303CA" @405
											quid "51AB5CF303CE"
											pos (1236,853)
											quidu "51AB5CF303CA"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:roombaStart:J51ADAD78038C" @406
											quid "51ADAD780390"
											pos (1247,703)
											quidu "51ADAD78038C"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:roombaStart:J51B5A22101C5" @407
											quid "51B5A22101C9"
											pos (1199,703)
											quidu "51B5A22101C5"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:roombaStart:J51B5A7140151" @408
											quid "51B5A7140155"
											pos (1149,704)
											quidu "51B5A7140151"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:roombaStart:J51B5A71F03DF" @409
											quid "51B5A71F03E3"
											pos (1212,853)
											quidu "51B5A71F03DF"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:roombaStart:J51B5A72903A0" @410
											quid "51B5A72903A4"
											pos (1120,788)
											quidu "51B5A72903A0"
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "51AB59A001A6"
										items (list diagram_item_list
											(object StateView "Perimeter" "roombaStart" @411
												quid "51AB59A001A8"
												pos (840,615)
												quidu "51AB599E025A"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:roombaStart:J51AB5CF303CA" @412
														quid "51AB5CF303CB"
														pos (900,1134)
														quidu "51AB5CF303CA"
														juncPtIcon (object JuncPtIcon @413
															quid "51AB5CF303CC"
															pos (900,1044)
															label (object ItemLabel
																quid "51AB5CF303CD"
																pos (940,1074)
																max_width 97)))
													(object JuncPtVw ":TOP:roombaStart:J51ADAD78038C" @414
														quid "51ADAD78038D"
														pos (1425,96)
														quidu "51ADAD78038C"
														juncPtIcon (object JuncPtIcon @415
															quid "51ADAD78038E"
															pos (1425,186)
															label (object ItemLabel
																quid "51ADAD78038F"
																pos (1465,156)
																max_width 63)))
													(object JuncPtVw ":TOP:roombaStart:J51B5A22101C5" @416
														quid "51B5A22101C6"
														pos (600,96)
														quidu "51B5A22101C5"
														juncPtIcon (object JuncPtIcon @417
															quid "51B5A22101C7"
															pos (600,186)
															label (object ItemLabel
																quid "51B5A22101C8"
																pos (640,156)
																max_width 31)))
													(object JuncPtVw ":TOP:roombaStart:J51B5A7140151" @418
														quid "51B5A7140152"
														pos (270,96)
														quidu "51B5A7140151"
														juncPtIcon (object JuncPtIcon @419
															quid "51B5A7140153"
															pos (270,186)
															label (object ItemLabel
																quid "51B5A7140154"
																pos (310,156)
																max_width 175)))
													(object JuncPtVw ":TOP:roombaStart:J51B5A71F03DF" @420
														quid "51B5A71F03E0"
														pos (660,1134)
														quidu "51B5A71F03DF"
														juncPtIcon (object JuncPtIcon @421
															quid "51B5A71F03E1"
															pos (660,1044)
															label (object ItemLabel
																quid "51B5A71F03E2"
																pos (700,1074)
																max_width 113)))
													(object JuncPtVw ":TOP:roombaStart:J51B5A72903A0" @422
														quid "51B5A72903A1"
														pos (96,678)
														quidu "51B5A72903A0"
														juncPtIcon (object JuncPtIcon @423
															quid "51B5A72903A2"
															pos (186,678)
															label (object ItemLabel
																quid "51B5A72903A3"
																pos (156,718)
																max_width 175)))))
											(object StateView "StartState" "Initial" @424
												quid "51AB59A001A9"
												pos (180,180)
												quidu "51AB599E0263"))
										filterFlags 1))
								(object ChoicePtVw "checkBatteryLevel" @425
									quid "51AB5A180334"
									pos (537,343)
									quidu "51AB5A180389"
									label (object ItemLabel
										quid "51AB5A180390"
										pos (545,441)
										positionBySuperclass FALSE
										max_width 272)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ChoicePtPtVw "in" @426
											quid "51AB5A18038B"
											pos (537,305)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "true" @427
											quid "51AB5A18038C"
											pos (575,343)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "false" @428
											quid "51AB5A18038E"
											pos (499,343)
											positionBySuperclass FALSE))
									angle 1.570796
									reversed TRUE)
								(object StateView "Normal" "bumperTriggered" @429
									quid "51AB61D400DC"
									pos (1228,1053)
									quidu "51AB61D40121"
									width 312
									height 89
									label (object ItemLabel
										quid "51AB61D40125"
										pos (1228,1053)
										max_width 241)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:bumperTriggered:J51AB61DE016E" @430
											quid "51AB61DE0176"
											pos (1229,1008)
											quidu "51AB61DE016E"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:bumperTriggered:J51ADCE6F0025" @431
											quid "51ADCE6F0029"
											pos (1383,1084)
											quidu "51ADCE6F0025"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:bumperTriggered:J51ADCE6F002A" @432
											quid "51ADCE6F002E"
											pos (1359,1097)
											quidu "51ADCE6F002A"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:bumperTriggered:J51ADAD540256" @433
											quid "51ADAD54025A"
											pos (1255,1008)
											quidu "51ADAD540256"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:bumperTriggered:J51ADB8DA02CF" @434
											quid "51ADB8DA02D3"
											pos (1205,1008)
											quidu "51ADB8DA02CF"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "51AB61DE016F"
										items (list diagram_item_list
											(object StateView "Perimeter" "bumperTriggered" @435
												quid "51AB61DE0171"
												pos (840,615)
												quidu "51AB61D40121"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:bumperTriggered:J51AB61DE016E" @436
														quid "51AB61DE0173"
														pos (780,96)
														quidu "51AB61DE016E"
														juncPtIcon (object JuncPtIcon @437
															quid "51AB61DE0174"
															pos (780,186)
															label (object ItemLabel
																quid "51AB61DE0175"
																pos (820,156)
																max_width 97)))
													(object JuncPtVw ":TOP:bumperTriggered:J51ADCE6F0025" @438
														quid "51ADCE6F0026"
														pos (1584,972)
														quidu "51ADCE6F0025"
														juncPtIcon (object JuncPtIcon @439
															quid "51ADCE6F0027"
															pos (1494,972)
															label (object ItemLabel
																quid "51ADCE6F0028"
																pos (1524,1012))))
													(object JuncPtVw ":TOP:bumperTriggered:J51ADCE6F002A" @440
														quid "51ADCE6F002B"
														pos (1470,1134)
														quidu "51ADCE6F002A"
														juncPtIcon (object JuncPtIcon @441
															quid "51ADCE6F002C"
															pos (1470,1044)
															label (object ItemLabel
																quid "51ADCE6F002D"
																pos (1510,1074))))
													(object JuncPtVw ":TOP:bumperTriggered:J51ADAD540256" @442
														quid "51ADAD540257"
														pos (1155,96)
														quidu "51ADAD540256"
														juncPtIcon (object JuncPtIcon @443
															quid "51ADAD540258"
															pos (1155,186)
															label (object ItemLabel
																quid "51ADAD540259"
																pos (1195,156))))
													(object JuncPtVw ":TOP:bumperTriggered:J51ADB8DA02CF" @444
														quid "51ADB8DA02D0"
														pos (735,96)
														quidu "51ADB8DA02CF"
														juncPtIcon (object JuncPtIcon @445
															quid "51ADB8DA02D1"
															pos (735,186)
															label (object ItemLabel
																quid "51ADB8DA02D2"
																pos (775,156))))))
											(object StateView "StartState" "Initial" @446
												quid "51AB61DE0172"
												pos (180,180)
												quidu "51AB61D4012C"))
										filterFlags 1))
								(object StateView "Normal" "CheckWhereWeAre" @447
									quid "51B5A207012F"
									pos (908,410)
									quidu "51B5A207016D"
									width 312
									height 83
									label (object ItemLabel
										quid "51B5A207016E"
										pos (908,413)
										max_width 241)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:CheckWhereWeAre:J51B5A20D0183" @448
											quid "51B5A20D018B"
											pos (783,368)
											quidu "51B5A20D0183"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:CheckWhereWeAre:J51B5A22101B3" @449
											quid "51B5A22101C4"
											pos (943,451)
											quidu "51B5A22101B3"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "51B5A20D0184"
										items (list diagram_item_list
											(object StateView "Perimeter" "CheckWhereWeAre" @450
												quid "51B5A20D0186"
												pos (840,615)
												quidu "51B5A207016D"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:CheckWhereWeAre:J51B5A20D0183" @451
														quid "51B5A20D0188"
														pos (360,96)
														quidu "51B5A20D0183"
														juncPtIcon (object JuncPtIcon @452
															quid "51B5A20D0189"
															pos (360,186)
															label (object ItemLabel
																quid "51B5A20D018A"
																pos (400,156))))
													(object JuncPtVw ":TOP:CheckWhereWeAre:J51B5A22101B3" @453
														quid "51B5A22101C1"
														pos (1020,1134)
														quidu "51B5A22101B3"
														juncPtIcon (object JuncPtIcon @454
															quid "51B5A22101C2"
															pos (1020,1044)
															label (object ItemLabel
																quid "51B5A22101C3"
																pos (1060,1074))))))
											(object StateView "StartState" "Initial" @455
												quid "51B5A20D0187"
												pos (180,180)
												quidu "51B5A207017D"))
										filterFlags 1))
								(object TransView ":TOP:roombaWaitForStart:J51AB5A2600DB:Start" @456
									quid "51AB5A240254"
									uses_fill_color FALSE
									quidu "51AB5A2600DA"
									label (object SegLabel @457
										quid "51AB5A2600E0"
										pos (578,241)
										positionBySuperclass FALSE
										max_width 81
										pctDist 0.369141
										height 43)
									positionBySuperclass FALSE
									client @387
									supplier @426
									vertices (list Points
										(535,209)
										(536,297))
									line_style 6144)
								(object TransView ":TOP:Initial:Initial" @458
									quid "51AB685D0036"
									uses_fill_color FALSE
									quidu "51AB685D02C3"
									label (object SegLabel @459
										quid "51AB685D02CA"
										pos (273,128)
										max_width 113
										pctDist 0.506043
										height 44)
									client @385
									supplier @389
									vertices (list Points
										(209,177)
										(342,167))
									line_style 6144)
								(object TransView ":TOP:roombaStart:J51ADAD78038C:Stop" @460
									quid "51ADAD740165"
									uses_fill_color FALSE
									quidu "51ADAD78038B"
									label (object SegLabel @461
										quid "51ADAD780396"
										pos (1172,260)
										max_width 63
										pctDist 0.481923
										height 41)
									client @406
									supplier @391
									vertices (list Points
										(1246,693)
										(1234,278)
										(1181,200)
										(726,181))
									line_style 6144)
								(object TransView ":TOP:bumperTriggered:J51ADCE6F0025:t1" @462
									quid "51ADCE6F0023"
									uses_fill_color FALSE
									quidu "51ADCE6F0024"
									label (object SegLabel @463
										quid "51ADCE6F002F"
										pos (1446,1186)
										positionBySuperclass FALSE
										max_width 31
										pctDist 1.432000
										height 8)
									positionBySuperclass FALSE
									client @431
									supplier @432
									vertices (list Points
										(1391,1084)
										(1455,1090)
										(1443,1156)
										(1359,1097))
									line_style 6144)
								(object TransView ":TOP:roombaStart:J51AB5CF303CA:bumper" @464
									quid "51AB5CF10273"
									uses_fill_color FALSE
									quidu "51AB5CF303C9"
									label (object SegLabel @465
										quid "51AB5CF303D8"
										pos (1315,900)
										positionBySuperclass FALSE
										max_width 97
										pctDist 0.258601
										height 82)
									positionBySuperclass FALSE
									client @405
									supplier @430
									vertices (list Points
										(1235,861)
										(1229,998))
									line_style 6144)
								(object TransView ":TOP:checkBatteryLevel:batteryTooLow" @466
									quid "51AB5A810225"
									uses_fill_color FALSE
									quidu "51AB5A85024B"
									label (object SegLabel @467
										quid "51AB5A850251"
										pos (349,385)
										positionBySuperclass FALSE
										max_width 209
										pctDist 1.459192
										height 44)
									positionBySuperclass FALSE
									client @428
									supplier @388
									vertices (list Points
										(491,342)
										(394,341)
										(497,207))
									line_style 6144)
								(object TransView ":TOP:checkBatteryLevel:batteryFull" @468
									quid "51AB5AAE0321"
									uses_fill_color FALSE
									quidu "51AB5AAF01EE"
									label (object SegLabel @469
										quid "51AB5AAF01F4"
										pos (684,281)
										positionBySuperclass FALSE
										max_width 175
										pctDist 0.496371
										height 74)
									positionBySuperclass FALSE
									client @427
									supplier @448
									vertices (list Points
										(579,343)
										(773,366))
									line_style 6144)
								(object TransView ":TOP:CheckWhereWeAre:J51B5A22101B3:t1" @470
									quid "51B5A2200240"
									uses_fill_color FALSE
									quidu "51B5A22101B2"
									label (object SegLabel @471
										quid "51B5A22101CA"
										pos (1073,516)
										positionBySuperclass FALSE
										max_width 31
										pctDist 0.381761
										height 45)
									positionBySuperclass FALSE
									client @449
									supplier @407
									vertices (list Points
										(949,456)
										(1192,696))
									line_style 6144)
								(object TransView ":TOP:bumperTriggered:J51ADAD540256:StopHammerTime" @472
									quid "51ADAD5001F1"
									uses_fill_color FALSE
									quidu "51ADAD540255"
									label (object SegLabel @473
										quid "51ADAD540260"
										pos (1600,368)
										positionBySuperclass FALSE
										max_width 225
										pctDist 0.435242
										height 162
										orientation 1)
									positionBySuperclass FALSE
									client @433
									supplier @390
									vertices (list Points
										(1262,1003)
										(1522,859)
										(1494,494)
										(1209,159)
										(726,157))
									line_style 6144)
								(object TransView ":TOP:roombaStart:J51B5A7140151:overCurrent" @474
									quid "51B5A70B01DB"
									uses_fill_color FALSE
									quidu "51B5A70B01DC"
									label (object SegLabel @475
										quid "51B5A70B01EF"
										pos (951,738)
										positionBySuperclass FALSE
										max_width 175
										pctDist 0.679398
										height 108
										orientation 1)
									positionBySuperclass FALSE
									client @408
									supplier @410
									vertices (list Points
										(1141,698)
										(1091,657)
										(1046,794)
										(1110,788))
									line_style 6144)
								(object TransView ":TOP:bumperTriggered:J51ADB8DA02CF:pijltje" @476
									quid "51ADB8D60256"
									uses_fill_color FALSE
									quidu "51ADB8DA02CE"
									label (object SegLabel @477
										quid "51ADB8DA02DD"
										pos (1133,974)
										positionBySuperclass FALSE
										max_width 113
										pctDist 0.151874
										height 73)
									positionBySuperclass FALSE
									client @434
									supplier @409
									vertices (list Points
										(1205,998)
										(1211,861))
									line_style 6144))
							filterFlags 1)
						language "C++"
						structureDiagram (object CollaborationDiagram "Structure Diagram"
							quid "51AB488702A2"
							items (list diagram_item_list
								(object CapsulePerimeterVw "Structure" @478
									quid "51AB488702A4"
									pos (840,615)
									quidu "51AB4887029D"
									boundIcons (list boundIconsList
										(object PortVw ":Structure:Roomba" @479
											quid "51AB4A990167"
											pos (578,96)
											quidu "51AB4A9901B5"
											label (object ItemLabel
												quid "51AB4A9C0068"
												pos (587,132)
												nlines 2
												max_width 288
												label "Roomba"))))
								(object PortVw ":Structure:timer" @480
									quid "51ADB8540328"
									pos (306,138)
									quidu "51ADB853012A"
									label (object ItemLabel
										quid "51ADB854032A"
										pos (315,174)
										nlines 2
										max_width 144
										label "timer")))
							filterFlags 521))
					(object Protocol "roombaProtocol"
						quid "519B588C0151"
						statemachine (object State_Machine
							quid "519B588C0152"
							State (object State "TOP"
								quid "519B588C0153"
								states (list States
									(object InitialPt "Initial"
										quid "519B588C0154"))))
						collaborations (list collaborationsList
							(object Collaboration "Collaboration1"
								quid "519B588C0155"))
						protocolRoles (list protocolRolesList
							(object ProtocolRole "base"
								quid "519B5899007D"
								inSignals (list inSignalsList
									(object Signal "dataReceived"
										quid "519B5899007C"
										dataType  "Logical View::Serial::byteArray"
										quidu "519230B50055")
									(object Signal "commandReceived"
										quid "519B5A980092"
										dataType  "Logical View::TCPIP::jsonCommand"
										quidu "518764D2025A")
									(object Signal "ready"
										quid "519B68EB0019"
										dataType  "void"))
								outSignals (list outSignalsList
									(object Signal "sendData"
										quid "519B64760329"
										dataType  "Logical View::Serial::byteArray"
										quidu "519230B50055")
									(object Signal "setCommandLength"
										quid "51AC8C450269"
										dataType  "int")
									(object Signal "sendCommand"
										quid "51B5971B0278"
										dataType  "Logical View::TCPIP::jsonCommand"
										quidu "518764D2025A"))))
						statediagram (object State_Diagram "State Diagram"
							quid "519B588C0156"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @481
									quid "519B588C0158"
									pos (840,615)
									quidu "519B588C0153")
								(object StateView "StartState" "Initial" @482
									quid "519B588C0159"
									pos (180,180)
									quidu "519B588C0154"))
							filterFlags 1)
						language "C++")
					(object Protocol "programProtocol"
						quid "51AB493C03BB"
						statemachine (object State_Machine
							quid "51AB493C03BC"
							State (object State "TOP"
								quid "51AB493C03BD"
								states (list States
									(object InitialPt "Initial"
										quid "51AB493C03BE"))))
						collaborations (list collaborationsList
							(object Collaboration "Collaboration1"
								quid "51AB493C03BF"))
						protocolRoles (list protocolRolesList
							(object ProtocolRole "base"
								quid "51AB4A8E0215"
								inSignals (list inSignalsList
									(object Signal "start"
										quid "51AB4A8E0214"
										documentation "Argument carries the battery level in percentage"
										dataType  "int")
									(object Signal "bumpersTriggered"
										quid "51AB52BE03DC"
										dataType  "Logical View::Roomba::clsRoomba::clsBumpersAndCliff"
										quidu "519B56930157")
									(object Signal "stop"
										quid "51ADAD1F0146"
										dataType  "void")
									(object Signal "sideBrushOverCurrent"
										quid "51B59124037A"
										dataType  "void")
									(object Signal "isCharging"
										quid "51B5A1F20323"
										dataType  "int"))
								outSignals (list outSignalsList
									(object Signal "playSong"
										quid "51AB4F5003C5"
										dataType  "int")
									(object Signal "stopProgram"
										quid "51AB523D034F"
										documentation 
|Argument gives reason code:
|1 - Battery empty or too low.
|2 - Requested from GUI
										
										dataType  "int")
									(object Signal "drive"
										quid "51AB5AC001BF"
										dataType  "Logical View::Roomba::clsDriveCommand"
										quidu "51AB5B160096")
									(object Signal "getSensor"
										quid "51AB622F03D4"
										documentation "byteArray is just a list of integers that we want to know here!"
										dataType  "Logical View::Serial::byteArray"
										quidu "519230B50055")
									(object Signal "doSend"
										quid "51ADD3890322"
										dataType  "Logical View::Serial::byteArray"
										quidu "519230B50055")
									(object Signal "setMotors"
										quid "51B717FA02C6"
										dataType  "Logical View::Roomba::clsRoomba::clsMotors"
										quidu "51A478DB03AD"))))
						statediagram (object State_Diagram "State Diagram"
							quid "51AB493C03C0"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @483
									quid "51AB493C03C2"
									pos (840,615)
									quidu "51AB493C03BD")
								(object StateView "StartState" "Initial" @484
									quid "51AB493C03C3"
									pos (180,180)
									quidu "51AB493C03BE"))
							filterFlags 1)
						language "C++"))
				logical_presentations (list unit_reference_list))
			(object Class_Category "Serial"
				quid "51922465010B"
				exportControl "Public"
				logical_models (list unit_reference_list
					(object Class_Utility "serialProperties"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "GenerateDefaultConstructor"
								value FALSE)
							(object Attribute
								tool "OT::Cpp"
								name "ClassKind"
								value ("ClassKindSet" 0))
							(object Attribute
								tool "OT::Cpp"
								name "GenerateClass"
								value FALSE)
							(object Attribute
								tool "OT::Cpp"
								name "GenerateAssignmentOperator"
								value FALSE)
							(object Attribute
								tool "OT::Cpp"
								name "DestructorVirtual"
								value FALSE)
							(object Attribute
								tool "OT::Cpp"
								name "GenerateDestructor"
								value FALSE)
							(object Attribute
								tool "OT::Cpp"
								name "GenerateCopyConstructor"
								value FALSE)
							(object Attribute
								tool "OT::CppTargetRTS"
								name "GenerateDescriptor"
								value ("GenerateDescriptorSet" 2)))
						quid "519225AE02B5"
						class_attributes (list class_attribute_list
							(object ClassAttribute "COM_PORT"
								attributes (list Attribute_Set
									(object Attribute
										tool "OT::Cpp"
										name "AttributeKind"
										value ("AttributeKindSet" 1)))
								quid "519225C500D1"
								initv "9"
								type "int"
								scope "Classifier"
								visibility "Public")
							(object ClassAttribute "BAUD"
								attributes (list Attribute_Set
									(object Attribute
										tool "OT::Cpp"
										name "AttributeKind"
										value ("AttributeKindSet" 2)))
								quid "519225DE00CD"
								initv "19200"
								type "int"
								scope "Classifier"
								visibility "Public"))
						language "C++")
					(object Class "byteArray"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "GenerateDefaultConstructor"
								value TRUE)
							(object Attribute
								tool "OT::Cpp"
								name "GenerateStateMachine"
								value FALSE)
							(object Attribute
								tool "OT::Cpp"
								name "DestructorVirtual"
								value TRUE)
							(object Attribute
								tool "OT::Cpp"
								name "GenerateDestructor"
								value FALSE)
							(object Attribute
								tool "OT::Cpp"
								name "GenerateCopyConstructor"
								value TRUE)
							(object Attribute
								tool "OT::Cpp"
								name "HeaderPreface"
								value (value Text 
|#include <stdio.h>
|#include <vector>
|#include <iomanip>
								)))
						quid "519230B50055"
						class_attributes (list class_attribute_list
							(object ClassAttribute "data"
								quid "5192315D00CD"
								type "vector<unsigned char>"))
						operations (list Operations
							(object Operation "byteArray"
								quid "519230E300F6"
								body 
|int i;
|for(i=0; i<= length; i++){
|    this->data.push_back(chars[i]);
|}
								
								parameters (list Parameters
									(object Parameter "chars"
										quid "519230F002D0"
										type "unsigned char[]")
									(object Parameter "length"
										quid "519C90020365"
										type "int"))
								result "void")
							(object Operation "get"
								quid "5192326E00AE"
								body 
|if(index < this->data.size()){
|    return this->data[index];
|}
								
								parameters (list Parameters
									(object Parameter "index"
										quid "519232F50061"
										type "int"))
								result "unsigned char")
							(object Operation "size"
								quid "5192331C02DD"
								body "return this->data.size();"
								result "int")
							(object Operation "getAll"
								quid "519234E003D0"
								body 
|char data[this->data.size()];
|int i = 0;
|for(i = 0; i <= this->data.size(); i++){
|    data[i] = this->data[i];
|}
|
|return (RTString) data;
								
								result "RTString")
							(object Operation "append"
								quid "519340E900BE"
								body "this->data.push_back(charToAdd);"
								parameters (list Parameters
									(object Parameter "charToAdd"
										quid "519341010140"
										type "unsigned char"))
								result "void")
							(object Operation "remove"
								quid "519343EF01E4"
								body "this->data.erase (this->data.begin()+index);"
								parameters (list Parameters
									(object Parameter "index"
										quid "519343F90310"
										type "int"))
								result "void")
							(object Operation "clear"
								quid "5193455E03CF"
								body "this->data.clear();"
								result "void")
							(object Operation "print"
								quid "51934E1002E1"
								body 
|#define HEX( x ) "0x" << setw(2) << setfill('0') << hex << (int)( x )
|
|//  cout << dec << b.get(i) << endl;
|int i;
|cout << dec << "(" << this->data.size() << ") ";
|for(i = 0; i < this->data.size(); i++){
|    cout << HEX(this->data[i]) << " ";
|}
|cout << endl;
								
								result "void"))
						language "C++")
					(object Capsule "serialTopCapsule"
						quid "519224D302D1"
						structure (object CapsuleCollaboration "Structure"
							quid "519224D302D5"
							classifierRoles (list classifierRolesList
								(object CapsuleRole "serialCommunicationInstance"
									quid "5192273B0109"
									classifier  "Logical View::Serial::serialCommunicationCapsule"
									quidu "519224DC0230"
									genericity "optional")
								(object CapsuleRole "serialTranslateCapsuleR1"
									quid "51922E83032C"
									classifier  "Logical View::Serial::serialTranslateCapsule"
									quidu "51922E6202AF"
									genericity "fixed"))
							ports (list portsList
								(object Port "frame"
									quid "51922872027C"
									classifier  "Logical View::RTClasses::Frame"
									quidu "37E9291F0276"
									isRelay FALSE
									isWired FALSE
									visibility "Protected")
								(object Port "internalSerial"
									quid "51922F060327"
									classifier  "Logical View::Serial::serialProtocol"
									quidu "51922EBB029C"
									isConjugated TRUE
									isRelay FALSE
									visibility "Protected")
								(object Port "externalSerial"
									quid "51922F6D000E"
									classifier  "Logical View::Serial::serialProtocol"
									quidu "51922EBB029C"
									isRelay FALSE))
							connectors (list connectorsList
								(object Connector "C51922E8D0057"
									quid "51922E8D0057"
									connectorCardinality  constValue "*"
									ends (list endsList
										ends  ":Structure:serialCommunicationInstance:serialPort"
										ends  ":Structure:serialTranslateCapsuleR1:serialRaw"))
								(object Connector "C51922F590369"
									quid "51922F590369"
									connectorCardinality  constValue "*"
									ends (list endsList
										ends  ":Structure:serialTranslateCapsuleR1:serialOut"
										ends  ":Structure:internalSerial"
										quidu "51922F060327"))))
						statemachine (object State_Machine
							quid "519224D302D2"
							State (object State "TOP"
								quid "519224D302D3"
								states (list States
									(object InitialPt "Initial"
										quid "519224D302D4")
									(object State "ready"
										quid "51922887020B"
										states (list States
											(object InitialPt "Initial"
												quid "519228870212")
											(object JuncPt "J5192289A0092"
												quid "5192289A0092"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51922F8C025B"
												quid "51922F8C025B"
												externallyVisible TRUE)
											(object JuncPt "J51922F8C0260"
												quid "51922F8C0260"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J5193582D0135"
												quid "5193582D0135"
												externallyVisible TRUE)
											(object JuncPt "J5193582D0141"
												quid "5193582D0141"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J519B511B0342"
												quid "519B511B0342"
												externallyVisible TRUE)
											(object JuncPt "J519B511B0347"
												quid "519B511B0347"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J519B513C00E7"
												quid "519B513C00E7"
												externallyVisible TRUE)
											(object JuncPt "J519B513C00EC"
												quid "519B513C00EC"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51AC8CD800D7"
												quid "51AC8CD800D7"
												externallyVisible TRUE)
											(object JuncPt "J51AC8CD800DC"
												quid "51AC8CD800DC"
												isEntry TRUE
												externallyVisible TRUE))))
								transitions (list transition_list
									(object Trans "Initial"
										quid "5192289A0091"
										source  ":TOP:Initial"
										target  ":TOP:ready:J5192289A0092"
										action (object Action
											quid "51922948033E"
											body 
|frame.incarnate(serialCommunicationInstance,serialCommunicationCapsule,EmptyObject,ThreadSerial);
|
|cout << "serialTopCapsule initialized" << endl;
											))
									(object Trans "commandReceived"
										quid "51922F8C025A"
										source  ":TOP:ready:J51922F8C025B"
										target  ":TOP:ready:J51922F8C0260"
										action (object Action
											quid "51922FCF0361"
											body 
|//Transfer
|externalSerial.commandReceived(*rtdata).send();
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51922FAE03D0"
												Event (object PortEvent
													quid "51922FAE03D1"
													ports (list portsList
														ports  ":Structure:internalSerial"
														quidu "51922F060327")
													signals (list signalsList
														signals  ":base:commandReceived"
														quidu "51922F3801EC")))))
									(object Trans "sendCommand"
										quid "5193582D0134"
										source  ":TOP:ready:J5193582D0135"
										target  ":TOP:ready:J5193582D0141"
										action (object Action
											quid "519358480205"
											body 
|//Transfer
|internalSerial.sendCommand(*rtdata).send();
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "5193583B00F7"
												Event (object PortEvent
													quid "5193583B00F8"
													ports (list portsList
														ports  ":Structure:externalSerial"
														quidu "51922F6D000E")
													signals (list signalsList
														signals  ":base:sendCommand"
														quidu "519230A60343")))))
									(object Trans "comOpened"
										quid "519B511B0341"
										source  ":TOP:ready:J519B511B0342"
										target  ":TOP:ready:J519B511B0347"
										action (object Action
											quid "519B51390074"
											body "externalSerial.comOpened().send();")
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "519B5124002D"
												Event (object PortEvent
													quid "519B5124002E"
													ports (list portsList
														ports  ":Structure:internalSerial"
														quidu "51922F060327")
													signals (list signalsList
														signals  ":base:comOpened"
														quidu "519B50570217")))))
									(object Trans "comError"
										quid "519B513C00E6"
										source  ":TOP:ready:J519B513C00E7"
										target  ":TOP:ready:J519B513C00EC"
										action (object Action
											quid "519B516B0151"
											body "externalSerial.comError().send();")
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "519B514B002A"
												Event (object PortEvent
													quid "519B514B002B"
													ports (list portsList
														ports  ":Structure:internalSerial"
														quidu "51922F060327")
													signals (list signalsList
														signals  ":base:comError"
														quidu "519B50D9007C")))))
									(object Trans "setCommandLength"
										quid "51AC8CD800D6"
										source  ":TOP:ready:J51AC8CD800D7"
										target  ":TOP:ready:J51AC8CD800DC"
										action (object Action
											quid "51AC8CF503C2"
											body 
|internalSerial.commandLength(*rtdata).send();
|
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51AC8CE30217"
												Event (object PortEvent
													quid "51AC8CE30218"
													ports (list portsList
														ports  ":Structure:externalSerial"
														quidu "51922F6D000E")
													signals (list signalsList
														signals  ":base:commandLength"
														quidu "51AC8BEA01E9"))))))))
						statediagram (object State_Diagram "State Diagram"
							quid "519224D302D6"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @485
									quid "519224D302D8"
									pos (840,615)
									quidu "519224D302D3")
								(object StateView "StartState" "Initial" @486
									quid "519224D302D9"
									pos (180,180)
									quidu "519224D302D4")
								(object StateView "Normal" "ready" @487
									quid "5192288701C3"
									pos (898,641)
									quidu "51922887020B"
									width 676
									height 449
									label (object ItemLabel
										quid "51922887020C"
										pos (898,461)
										max_width 81)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:ready:J5192289A0092" @488
											quid "5192289A0096"
											pos (657,416)
											quidu "5192289A0092"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:ready:J51922F8C025B" @489
											quid "51922F8C025F"
											pos (1236,555)
											quidu "51922F8C025B"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:ready:J51922F8C0260" @490
											quid "51922F8C0264"
											pos (1236,703)
											quidu "51922F8C0260"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:ready:J5193582D0135" @491
											quid "5193582D0140"
											pos (1040,865)
											quidu "5193582D0135"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:ready:J5193582D0141" @492
											quid "5193582D0145"
											pos (891,865)
											quidu "5193582D0141"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:ready:J519B511B0342" @493
											quid "519B511B0346"
											pos (842,416)
											quidu "519B511B0342"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:ready:J519B511B0347" @494
											quid "519B511B034B"
											pos (979,416)
											quidu "519B511B0347"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:ready:J519B513C00E7" @495
											quid "519B513C00EB"
											pos (560,766)
											quidu "519B513C00E7"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:ready:J519B513C00EC" @496
											quid "519B513C00F0"
											pos (560,623)
											quidu "519B513C00EC"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:ready:J51AC8CD800D7" @497
											quid "51AC8CD800DB"
											pos (1125,416)
											quidu "51AC8CD800D7"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:ready:J51AC8CD800DC" @498
											quid "51AC8CD800E0"
											pos (1201,435)
											quidu "51AC8CD800DC"
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "5192288F0089"
										items (list diagram_item_list
											(object StateView "Perimeter" "ready" @499
												quid "5192288F008B"
												pos (840,615)
												quidu "51922887020B"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:ready:J5192289A0092" @500
														quid "5192289A0093"
														pos (330,96)
														quidu "5192289A0092"
														juncPtIcon (object JuncPtIcon @501
															quid "5192289A0094"
															pos (330,186)
															label (object ItemLabel
																quid "5192289A0095"
																pos (370,156))))
													(object JuncPtVw ":TOP:ready:J51922F8C025B" @502
														quid "51922F8C025C"
														pos (1584,416)
														quidu "51922F8C025B"
														juncPtIcon (object JuncPtIcon @503
															quid "51922F8C025D"
															pos (1494,416)
															label (object ItemLabel
																quid "51922F8C025E"
																pos (1524,456))))
													(object JuncPtVw ":TOP:ready:J51922F8C0260" @504
														quid "51922F8C0261"
														pos (1584,762)
														quidu "51922F8C0260"
														juncPtIcon (object JuncPtIcon @505
															quid "51922F8C0262"
															pos (1494,762)
															label (object ItemLabel
																quid "51922F8C0263"
																pos (1524,802))))
													(object JuncPtVw ":TOP:ready:J5193582D0135" @506
														quid "5193582D013D"
														pos (1155,1134)
														quidu "5193582D0135"
														juncPtIcon (object JuncPtIcon @507
															quid "5193582D013E"
															pos (1155,1044)
															label (object ItemLabel
																quid "5193582D013F"
																pos (1195,1074))))
													(object JuncPtVw ":TOP:ready:J5193582D0141" @508
														quid "5193582D0142"
														pos (825,1134)
														quidu "5193582D0141"
														juncPtIcon (object JuncPtIcon @509
															quid "5193582D0143"
															pos (825,1044)
															label (object ItemLabel
																quid "5193582D0144"
																pos (865,1074))))
													(object JuncPtVw ":TOP:ready:J519B511B0342" @510
														quid "519B511B0343"
														pos (690,96)
														quidu "519B511B0342"
														juncPtIcon (object JuncPtIcon @511
															quid "519B511B0344"
															pos (690,186)
															label (object ItemLabel
																quid "519B511B0345"
																pos (730,156))))
													(object JuncPtVw ":TOP:ready:J519B511B0347" @512
														quid "519B511B0348"
														pos (1020,96)
														quidu "519B511B0347"
														juncPtIcon (object JuncPtIcon @513
															quid "519B511B0349"
															pos (1020,186)
															label (object ItemLabel
																quid "519B511B034A"
																pos (1060,156))))
													(object JuncPtVw ":TOP:ready:J519B513C00E7" @514
														quid "519B513C00E8"
														pos (96,909)
														quidu "519B513C00E7"
														juncPtIcon (object JuncPtIcon @515
															quid "519B513C00E9"
															pos (186,909)
															label (object ItemLabel
																quid "519B513C00EA"
																pos (156,949))))
													(object JuncPtVw ":TOP:ready:J519B513C00EC" @516
														quid "519B513C00ED"
														pos (96,573)
														quidu "519B513C00EC"
														juncPtIcon (object JuncPtIcon @517
															quid "519B513C00EE"
															pos (186,573)
															label (object ItemLabel
																quid "519B513C00EF"
																pos (156,613))))
													(object JuncPtVw ":TOP:ready:J51AC8CD800D7" @518
														quid "51AC8CD800D8"
														pos (1350,96)
														quidu "51AC8CD800D7"
														juncPtIcon (object JuncPtIcon @519
															quid "51AC8CD800D9"
															pos (1350,186)
															label (object ItemLabel
																quid "51AC8CD800DA"
																pos (1390,156))))
													(object JuncPtVw ":TOP:ready:J51AC8CD800DC" @520
														quid "51AC8CD800DD"
														pos (1511,101)
														quidu "51AC8CD800DC"
														juncPtIcon (object JuncPtIcon @521
															quid "51AC8CD800DE"
															pos (1484,187)
															label (object ItemLabel
																quid "51AC8CD800DF"
																pos (1524,157))))))
											(object StateView "StartState" "Initial" @522
												quid "5192288F008C"
												pos (180,180)
												quidu "519228870212"))
										filterFlags 1))
								(object TransView ":TOP:Initial:Initial" @523
									quid "519228990152"
									uses_fill_color FALSE
									quidu "5192289A0091"
									label (object SegLabel @524
										quid "5192289A0097"
										pos (448,263)
										max_width 113
										pctDist 0.504476
										height 44)
									client @486
									supplier @488
									vertices (list Points
										(205,192)
										(648,411))
									line_style 6144)
								(object TransView ":TOP:ready:J51922F8C025B:commandReceived" @525
									quid "51922F8C0259"
									uses_fill_color FALSE
									quidu "51922F8C025A"
									label (object SegLabel @526
										quid "51922F8C0265"
										pos (1381,726)
										positionBySuperclass FALSE
										max_width 241
										pctDist 1.155405
										height 70)
									positionBySuperclass FALSE
									client @489
									supplier @490
									vertices (list Points
										(1244,555)
										(1311,555)
										(1311,703)
										(1244,703))
									line_style 6144)
								(object TransView ":TOP:ready:J5193582D0135:sendCommand" @527
									quid "5193582D0133"
									uses_fill_color FALSE
									quidu "5193582D0134"
									label (object SegLabel @528
										quid "5193582D0146"
										pos (966,985)
										max_width 175
										pctDist 0.498233
										height 45)
									client @491
									supplier @492
									vertices (list Points
										(1040,873)
										(1040,940)
										(891,940)
										(891,873))
									line_style 6144)
								(object TransView ":TOP:ready:J519B511B0342:comOpened" @529
									quid "519B511B0340"
									uses_fill_color FALSE
									quidu "519B511B0341"
									label (object SegLabel @530
										quid "519B511B034C"
										pos (911,297)
										max_width 144
										pctDist 0.501873
										height 44)
									client @493
									supplier @494
									vertices (list Points
										(842,406)
										(842,341)
										(979,341)
										(979,406))
									line_style 6144)
								(object TransView ":TOP:ready:J519B513C00E7:comError" @531
									quid "519B513C00E5"
									uses_fill_color FALSE
									quidu "519B513C00E6"
									label (object SegLabel @532
										quid "519B513C00F1"
										pos (385,688)
										positionBySuperclass FALSE
										max_width 128
										pctDist 0.523810
										height 100)
									positionBySuperclass FALSE
									client @495
									supplier @496
									vertices (list Points
										(550,766)
										(485,766)
										(485,623)
										(550,623))
									line_style 6144)
								(object TransView ":TOP:ready:J51AC8CD800D7:setCommandLength" @533
									quid "51AC8CD800D5"
									uses_fill_color FALSE
									quidu "51AC8CD800D6"
									label (object SegLabel @534
										quid "51AC8CD800E1"
										pos (1236,337)
										max_width 256
										pctDist 0.502104
										height 44)
									client @497
									supplier @498
									vertices (list Points
										(1130,409)
										(1178,363)
										(1263,393)
										(1207,429))
									line_style 6144))
							filterFlags 1)
						language "C++"
						structureDiagram (object CollaborationDiagram "Structure Diagram"
							quid "519224D302DA"
							items (list diagram_item_list
								(object CapsulePerimeterVw "Structure" @535
									quid "519224D302DC"
									pos (840,615)
									quidu "519224D302D5"
									boundIcons (list boundIconsList
										(object PortVw ":Structure:externalSerial" @536
											quid "51922F6C039F"
											pos (1060,96)
											quidu "51922F6D000E"
											label (object ItemLabel
												quid "51922F6E0391"
												pos (1069,132)
												positionBySuperclass FALSE
												nlines 2
												max_width 288
												label "externalSerial")
											positionBySuperclass FALSE)))
								(object CapsuleRoleVw ":Structure:serialCommunicationInstance" @537
									quid "5192273A01CA"
									pos (498,842)
									quidu "5192273B0109"
									width 612
									label (object ItemLabel
										quid "5192273B010D"
										pos (498,794)
										positionBySuperclass FALSE
										nlines 2
										max_width 481
										label "serialCommunicationInstance")
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ConnectionPtVw ":Structure:serialCommunicationInstance:serialPort" @538
											quid "5192273B010B"
											pos (804,832)
											label (object ItemLabel
												quid "5192273B010C"
												pos (825,853)
												positionBySuperclass FALSE
												nlines 2
												max_width 319
												label "serialPort")
											positionBySuperclass FALSE)))
								(object CapsuleRoleVw ":Structure:serialTranslateCapsuleR1" @539
									quid "51922E8300B5"
									pos (1262,826)
									quidu "51922E83032C"
									width 540
									label (object ItemLabel
										quid "51922E830331"
										pos (1262,778)
										positionBySuperclass FALSE
										nlines 2
										max_width 431
										label "serialTranslateCapsuleR1")
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ConnectionPtVw ":Structure:serialTranslateCapsuleR1:serialRaw" @540
											quid "51922E83032F"
											pos (992,832)
											label (object ItemLabel
												quid "51922E830330"
												pos (971,853)
												positionBySuperclass FALSE
												nlines 2
												max_width 338
												label "serialRaw")
											positionBySuperclass FALSE)
										(object ConnectionPtVw ":Structure:serialTranslateCapsuleR1:serialOut" @541
											quid "51922F10038E"
											pos (1012,736)
											label (object ItemLabel
												quid "51922F100396"
												pos (846,615)
												positionBySuperclass FALSE
												nlines 2
												max_width 272
												label "serialOut")
											positionBySuperclass FALSE)))
								(object PortVw ":Structure:frame" @542
									quid "519228730353"
									pos (308,308)
									quidu "51922872027C"
									label (object ItemLabel
										quid "519228730355"
										pos (317,344)
										positionBySuperclass FALSE
										nlines 2
										max_width 144
										label "frame")
									positionBySuperclass FALSE)
								(object PortVw ":Structure:internalSerial" @543
									quid "51922F0602E7"
									pos (1012,468)
									quidu "51922F060327"
									label (object ItemLabel
										quid "51922F09021A"
										pos (1021,504)
										positionBySuperclass FALSE
										nlines 2
										max_width 288
										label "internalSerial")
									positionBySuperclass FALSE)
								(object ConnectorVw ":Structure:C51922E8D0057" @544
									quid "51922E8B02F2"
									stereotype TRUE
									uses_fill_color FALSE
									quidu "51922E8D0057"
									label (object SegLabel @545
										quid "51922E8D0059"
										pos (901,788)
										max_width 209
										pctDist 0.524096
										height 44)
									client @538
									supplier @540
									vertices (list Points
										(814,832)
										(980,832))
									line_style 6144)
								(object ConnectorVw ":Structure:C51922F590369" @546
									quid "51922F5900E1"
									stereotype TRUE
									uses_fill_color FALSE
									quidu "51922F590369"
									label (object SegLabel @547
										quid "51922F59036C"
										pos (968,616)
										positionBySuperclass FALSE
										max_width 209
										pctDist 0.490909
										height 44)
									positionBySuperclass FALSE
									client @541
									supplier @543
									vertices (list Points
										(1012,724)
										(1012,504))
									line_style 6144))
							filterFlags 521))
					(object Capsule "serialCommunicationCapsule"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "HeaderPreface"
								value (value Text 
|#include <stdio.h>
|#include <stdlib.h>
|//#include <SerialProperties.h>
|
|#include "../../include/rs232.h"
|
|#ifdef _WIN32
|#include <Windows.h>
|#else
|#include <unistd.h>
|#endif
|
								)))
						quid "519224DC0230"
						used_nodes (list uses_relationship_list
							(object Uses_Relationship
								quid "5192280603DD"
								supplier  "Logical View::Serial::serialProperties"
								quidu "519225AE02B5"))
						structure (object CapsuleCollaboration "Structure"
							quid "519224DC0234"
							ports (list portsList
								(object Port "serialPort"
									quid "5192270202FA"
									classifier  "Logical View::Serial::serialRawProtocol"
									quidu "5192268101C9"
									isRelay FALSE)
								(object Port "timer"
									quid "519C858E0391"
									classifier  "Logical View::RTClasses::Timing"
									quidu "37E9292C018C"
									isRelay FALSE
									isWired FALSE
									visibility "Protected")))
						statemachine (object State_Machine
							quid "519224DC0231"
							State (object State "TOP"
								quid "519224DC0232"
								states (list States
									(object InitialPt "Initial"
										quid "519224DC0233")
									(object State "Ready"
										quid "519224F6034A"
										entryAction (object Action
											quid "51922526006B"
											body 
|timer.informIn(RTTimespec(0,10000000));
|//timer.informIn(10);
											)
										states (list States
											(object InitialPt "Initial"
												quid "519224F60355")
											(object JuncPt "J519C85FA02CA"
												quid "519C85FA02CA"
												externallyVisible TRUE)
											(object JuncPt "J519C863D033F"
												quid "519C863D033F"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51AEFD8B01C1"
												quid "51AEFD8B01C1"
												isEntry TRUE
												externallyVisible TRUE)))
									(object ChoicePt "openPort"
										quid "5192252E0201"
										guard (object Guard
											quid "51922532021B"
											expression 
|if(RS232_OpenComport(COM_PORT, BAUD))
|{
|  cout << "SER: Can not open COM-Port" << endl;
|  return false;
|}
|
|else
|{
|  cout << "SER: COM-Port open" << endl;
|  return true;
|}
|
											))
									(object ChoicePt "ClosePort"
										quid "519225880270"
										guard (object Guard
											quid "5192259202BF"
											expression "RS232_CloseComport(COM_PORT);"))
									(object State "Error"
										quid "519C85D70114"
										states (list States
											(object InitialPt "Initial"
												quid "519C85D7011E")
											(object JuncPt "J519C85DC01BC"
												quid "519C85DC01BC"
												isEntry TRUE
												externallyVisible TRUE)))
									(object State "pollData"
										quid "519C893802FB"
										entryAction (object Action
											quid "519C894C00B6"
											body 
|int i = 0;
|int n = 0;
|
|unsigned char buf[4096];
|
|n = RS232_PollComport(COM_PORT, buf, 4095);
|
|if(n > 0)
|{
|  //buf[n] = 0;   /* always put a "null" at the end of a string! */
|  byteArray data(buf, n-1);
|  //cout << "SER: Received " << n << " bytes: ";
|  //data.print();
|  serialPort.dataReceived(data).send();
|}
											)
										states (list States
											(object InitialPt "Initial"
												quid "519C89380305")
											(object JuncPt "J519C89550142"
												quid "519C89550142"
												externallyVisible TRUE)
											(object JuncPt "J519C895A03AA"
												quid "519C895A03AA"
												isEntry TRUE
												externallyVisible TRUE))
										transitions (list transition_list
											(object Trans "timer"
												quid "519C89780025"
												source  ":TOP:pollData:J519C895A03AA"
												target  ":TOP:pollData:J519C89550142")))
									(object State "SetBaud"
										quid "51AEFD6D03B1"
										entryAction (object Action
											quid "51AEFDA901BB"
											body 
|//Put baudrate correct plox
|
											)
										states (list States
											(object InitialPt "Initial"
												quid "51AEFD6D03B3")
											(object JuncPt "J51AEFD830294"
												quid "51AEFD830294"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51AEFD8B01BC"
												quid "51AEFD8B01BC"
												externallyVisible TRUE))
										transitions (list transition_list
											(object Trans "True"
												quid "51AEFD9F016E"
												source  ":TOP:SetBaud:J51AEFD830294"
												target  ":TOP:SetBaud:J51AEFD8B01BC"))))
								transitions (list transition_list
									(object Trans "Initial"
										quid "5192254101A1"
										source  ":TOP:Initial"
										target  ":TOP:openPort"
										action (object Action
											quid "51922B5C01CD"
											body 
|cout << "Serial capsule initialized" << endl;
											))
									(object Trans "False"
										quid "5192254802C5"
										sourceRegion 0
										source  ":TOP:openPort"
										target  ":TOP:Error:J519C85DC01BC"
										action (object Action
											quid "519C85BA00AF"
											body 
|cout << "COM: Could not open port." << endl;
|serialPort.comError().send();
|
											))
									(object Trans "True"
										quid "51922573004C"
										sourceRegion 1
										source  ":TOP:openPort"
										target  ":TOP:SetBaud:J51AEFD830294")
									(object Trans "True"
										quid "519225790303"
										source  ":TOP:pollData:J519C89550142"
										target  ":TOP:Ready:J519C863D033F")
									(object Trans "timer"
										quid "519C85FA02C0"
										source  ":TOP:Ready:J519C85FA02CA"
										target  ":TOP:pollData:J519C895A03AA"
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "519C860A0128"
												Event (object PortEvent
													quid "519C860A0129"
													ports (list portsList
														ports  ":Structure:timer"
														quidu "519C858E0391")
													signals (list signalsList
														signals  ":base:timeout"
														quidu "3DF743000081")))))
									(object Trans "ReallyDone"
										quid "51AEFD8B01AD"
										source  ":TOP:SetBaud:J51AEFD8B01BC"
										target  ":TOP:Ready:J51AEFD8B01C1"
										action (object Action
											quid "51AEFDB00191"
											body "serialPort.comOpened().send();")))))
						statediagram (object State_Diagram "State Diagram"
							quid "519224DC0235"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @548
									quid "519224DC0237"
									pos (840,615)
									quidu "519224DC0232")
								(object StateView "StartState" "Initial" @549
									quid "519224DC0238"
									pos (180,180)
									quidu "519224DC0233")
								(object StateView "Normal" "Ready" @550
									quid "519224F60313"
									pos (1144,778)
									quidu "519224F6034A"
									label (object ItemLabel
										quid "519224F6034B"
										pos (1144,733)
										max_width 81)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:Ready:J519C85FA02CA" @551
											quid "519C85FA02CE"
											pos (1259,705)
											quidu "519C85FA02CA"
											positionBySuperclass FALSE)
										(object JuncPtVw ":TOP:Ready:J519C863D033F" @552
											quid "519C863D0343"
											pos (1119,687)
											quidu "519C863D033F"
											positionBySuperclass FALSE)
										(object JuncPtVw ":TOP:Ready:J51AEFD8B01C1" @553
											quid "51AEFD8B01C5"
											pos (1024,739)
											quidu "51AEFD8B01C1"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "5192254802C7"
										items (list diagram_item_list
											(object StateView "Perimeter" "Ready" @554
												quid "5192254802C9"
												pos (840,615)
												quidu "519224F6034A"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:Ready:J519C85FA02CA" @555
														quid "519C85FA02CB"
														pos (1579,168)
														quidu "519C85FA02CA"
														juncPtIcon (object JuncPtIcon @556
															quid "519C85FA02CC"
															pos (1494,196)
															label (object ItemLabel
																quid "519C85FA02CD"
																pos (1524,236)
																max_width 81)))
													(object JuncPtVw ":TOP:Ready:J519C863D033F" @557
														quid "519C863D0340"
														pos (690,96)
														quidu "519C863D033F"
														juncPtIcon (object JuncPtIcon @558
															quid "519C863D0341"
															pos (690,186)
															label (object ItemLabel
																quid "519C863D0342"
																pos (730,156)
																max_width 63)))
													(object JuncPtVw ":TOP:Ready:J51AEFD8B01C1" @559
														quid "51AEFD8B01C2"
														pos (96,384)
														quidu "51AEFD8B01C1"
														juncPtIcon (object JuncPtIcon @560
															quid "51AEFD8B01C3"
															pos (186,384)
															label (object ItemLabel
																quid "51AEFD8B01C4"
																pos (156,424))))))
											(object StateView "StartState" "Initial" @561
												quid "5192254802CA"
												pos (180,180)
												quidu "519224F60355"))
										filterFlags 1))
								(object ChoicePtVw "openPort" @562
									quid "5192252E01C0"
									pos (423,391)
									quidu "5192252E0201"
									label (object ItemLabel
										quid "5192252E0207"
										pos (530,248)
										positionBySuperclass FALSE
										max_width 128)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ChoicePtPtVw "false" @563
											quid "5192252E0205"
											pos (385,392)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "true" @564
											quid "5192252E0203"
											pos (461,390)
											positionBySuperclass FALSE)
										(object ChoicePtPtVw "in" @565
											quid "5192252E0202"
											pos (422,353)
											positionBySuperclass FALSE))
									angle 1.535890
									reversed TRUE)
								(object ChoicePtVw "ClosePort" @566
									quid "519225880231"
									pos (1287,999)
									quidu "519225880270"
									label (object ItemLabel
										quid "519225880276"
										pos (1391,1103)
										positionBySuperclass FALSE
										max_width 144)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object ChoicePtPtVw "false" @567
											quid "519225880274"
											pos (1325,998)
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object ChoicePtPtVw "true" @568
											quid "519225880272"
											pos (1249,999)
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object ChoicePtPtVw "in" @569
											quid "519225880271"
											pos (1287,961)
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE))
									angle 1.535890)
								(object StateView "Normal" "Error" @570
									quid "519C85D700B0"
									pos (296,730)
									quidu "519C85D70114"
									label (object ItemLabel
										quid "519C85D70115"
										pos (296,685)
										max_width 81)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:Error:J519C85DC01BC" @571
											quid "519C85DC01C4"
											pos (319,639)
											quidu "519C85DC01BC"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "519C85DC01BD"
										items (list diagram_item_list
											(object StateView "Perimeter" "Error" @572
												quid "519C85DC01BF"
												pos (840,615)
												quidu "519C85D70114"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:Error:J519C85DC01BC" @573
														quid "519C85DC01C1"
														pos (1155,96)
														quidu "519C85DC01BC"
														juncPtIcon (object JuncPtIcon @574
															quid "519C85DC01C2"
															pos (1155,186)
															label (object ItemLabel
																quid "519C85DC01C3"
																pos (1195,156))))))
											(object StateView "StartState" "Initial" @575
												quid "519C85DC01C0"
												pos (180,180)
												quidu "519C85D7011E"))
										filterFlags 1))
								(object StateView "Normal" "pollData" @576
									quid "519C893802B5"
									pos (1176,330)
									quidu "519C893802FB"
									label (object ItemLabel
										quid "519C893802FC"
										pos (1176,285)
										max_width 128)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:pollData:J519C89550142" @577
											quid "519C89550146"
											pos (1167,420)
											quidu "519C89550142"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:pollData:J519C895A03AA" @578
											quid "519C895A03AE"
											pos (1231,420)
											quidu "519C895A03AA"
											positionBySuperclass FALSE))
									statediagram (object State_Diagram ""
										quid "519C89460390"
										items (list diagram_item_list
											(object StateView "Perimeter" "pollData" @579
												quid "519C89460392"
												pos (840,615)
												quidu "519C893802FB"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:pollData:J519C89550142" @580
														quid "519C89550143"
														pos (688,1134)
														quidu "519C89550142"
														juncPtIcon (object JuncPtIcon @581
															quid "519C89550144"
															pos (688,1044)
															label (object ItemLabel
																quid "519C89550145"
																pos (728,1074)
																max_width 63)))
													(object JuncPtVw ":TOP:pollData:J519C895A03AA" @582
														quid "519C895A03AB"
														pos (869,1134)
														quidu "519C895A03AA"
														juncPtIcon (object JuncPtIcon @583
															quid "519C895A03AC"
															pos (869,1044)
															label (object ItemLabel
																quid "519C895A03AD"
																pos (909,1074)
																max_width 81)))))
											(object StateView "StartState" "Initial" @584
												quid "519C89460393"
												pos (180,180)
												quidu "519C89380305")
											(object TransView ":TOP:pollData:J519C895A03AA:timer" @585
												quid "519C897701BF"
												uses_fill_color FALSE
												quidu "519C89780025"
												label (object SegLabel @586
													quid "519C8978002F"
													pos (778,1044)
													max_width 81
													pctDist 0.495868
													height 0)
												client @583
												supplier @581
												vertices (list Points
													(838,1044)
													(717,1044))
												line_style 6144))
										filterFlags 1))
								(object StateView "Normal" "SetBaud" @587
									quid "51AEFD6D0363"
									pos (696,618)
									quidu "51AEFD6D03B1"
									label (object ItemLabel
										quid "51AEFD6D03B2"
										pos (696,573)
										max_width 113)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:SetBaud:J51AEFD830294" @588
											quid "51AEFD830298"
											pos (623,528)
											quidu "51AEFD830294"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:SetBaud:J51AEFD8B01BC" @589
											quid "51AEFD8B01C0"
											pos (816,654)
											quidu "51AEFD8B01BC"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "51AEFD6F036F"
										items (list diagram_item_list
											(object StateView "Perimeter" "SetBaud" @590
												quid "51AEFD6F0371"
												pos (840,615)
												quidu "51AEFD6D03B1"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:SetBaud:J51AEFD830294" @591
														quid "51AEFD830295"
														pos (647,96)
														quidu "51AEFD830294"
														juncPtIcon (object JuncPtIcon @592
															quid "51AEFD830296"
															pos (647,186)
															label (object ItemLabel
																quid "51AEFD830297"
																pos (687,156)
																max_width 63)))
													(object JuncPtVw ":TOP:SetBaud:J51AEFD8B01BC" @593
														quid "51AEFD8B01BD"
														pos (1584,838)
														quidu "51AEFD8B01BC"
														juncPtIcon (object JuncPtIcon @594
															quid "51AEFD8B01BE"
															pos (1494,838)
															label (object ItemLabel
																quid "51AEFD8B01BF"
																pos (1524,878)
																max_width 159)))))
											(object StateView "StartState" "Initial" @595
												quid "51AEFD6F0372"
												pos (180,180)
												quidu "51AEFD6D03B3")
											(object TransView ":TOP:SetBaud:J51AEFD830294:True" @596
												quid "51AEFD9E01FC"
												uses_fill_color FALSE
												quidu "51AEFD9F016E"
												label (object SegLabel @597
													quid "51AEFD9F016F"
													pos (1069,511)
													max_width 63
													pctDist 0.499608
													height 0
													orientation 1)
												client @592
												supplier @594
												vertices (list Points
													(669,203)
													(1470,819))
												line_style 6144))
										filterFlags 1))
								(object TransView ":TOP:Initial:Initial" @598
									quid "5192253F02DD"
									uses_fill_color FALSE
									quidu "5192254101A1"
									label (object SegLabel @599
										quid "5192254101A2"
										pos (310,272)
										max_width 113
										pctDist 0.501105
										height 0
										orientation 1)
									client @549
									supplier @565
									vertices (list Points
										(203,195)
										(417,348))
									line_style 6144)
								(object TransView ":TOP:openPort:False" @600
									quid "51922548005E"
									uses_fill_color FALSE
									quidu "5192254802C5"
									label (object SegLabel @601
										quid "5192254802CF"
										pos (380,478)
										positionBySuperclass FALSE
										max_width 81
										pctDist 0.332966
										height 19)
									positionBySuperclass FALSE
									client @563
									supplier @571
									vertices (list Points
										(382,395)
										(321,630))
									line_style 6144)
								(object TransView ":TOP:pollData:J519C89550142:True" @602
									quid "519225790302"
									uses_fill_color FALSE
									quidu "519225790303"
									label (object SegLabel @603
										quid "519225790305"
										pos (1111,515)
										positionBySuperclass FALSE
										max_width 63
										pctDist 0.374738
										height 38
										orientation 1)
									positionBySuperclass FALSE
									client @577
									supplier @552
									vertices (list Points
										(1165,428)
										(1120,678))
									line_style 6144)
								(object TransView ":TOP:Ready:J519C85FA02CA:timer" @604
									quid "519C85F80306"
									uses_fill_color FALSE
									quidu "519C85FA02C0"
									label (object SegLabel @605
										quid "519C85FA02CF"
										pos (1274,602)
										positionBySuperclass FALSE
										max_width 81
										pctDist 0.338901
										height 26
										orientation 1)
									positionBySuperclass FALSE
									client @551
									supplier @578
									vertices (list Points
										(1257,695)
										(1231,428))
									line_style 6144)
								(object TransView ":TOP:openPort:True" @606
									quid "519225710300"
									uses_fill_color FALSE
									quidu "51922573004C"
									label (object SegLabel @607
										quid "51922573004D"
										pos (558,433)
										positionBySuperclass FALSE
										max_width 63
										pctDist 0.490695
										height 30)
									positionBySuperclass FALSE
									client @564
									supplier @588
									vertices (list Points
										(464,393)
										(615,522))
									line_style 6144)
								(object TransView ":TOP:SetBaud:J51AEFD8B01BC:ReallyDone" @608
									quid "51AEFD8A0279"
									uses_fill_color FALSE
									quidu "51AEFD8B01AD"
									label (object SegLabel @609
										quid "51AEFD8B01C6"
										pos (939,649)
										positionBySuperclass FALSE
										max_width 159
										pctDist 0.503863
										height 51)
									positionBySuperclass FALSE
									client @589
									supplier @553
									vertices (list Points
										(823,656)
										(1015,735))
									line_style 6144))
							filterFlags 1)
						language "C++"
						structureDiagram (object CollaborationDiagram "Structure Diagram"
							quid "519224DC0239"
							items (list diagram_item_list
								(object CapsulePerimeterVw "Structure" @610
									quid "519224DC023B"
									pos (840,615)
									quidu "519224DC0234"
									boundIcons (list boundIconsList
										(object PortVw ":Structure:serialPort" @611
											quid "5192270202B3"
											pos (1584,564)
											quidu "5192270202FA"
											label (object ItemLabel
												quid "5192270501BB"
												pos (1593,600)
												positionBySuperclass FALSE
												nlines 2
												max_width 319
												label "serialPort")
											positionBySuperclass FALSE)))
								(object PortVw ":Structure:timer" @612
									quid "519C858E034B"
									pos (578,478)
									quidu "519C858E0391"
									label (object ItemLabel
										quid "519C8590023E"
										pos (587,514)
										nlines 2
										max_width 144
										label "timer")))
							filterFlags 521))
					(object Capsule "serialTranslateCapsule"
						attributes (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "HeaderPreface"
								value (value Text 
|#include <stdio.h>
|#include <stdlib.h>
|
|#include "../../include/rs232.h"
|
|#ifdef _WIN32
|#include <Windows.h>
|#else
|#include <unistd.h>
|#endif
|
								)))
						quid "51922E6202AF"
						used_nodes (list uses_relationship_list
							(object Uses_Relationship
								quid "519355CE01AA"
								supplier  "Logical View::Serial::serialProperties"
								quidu "519225AE02B5"))
						structure (object CapsuleCollaboration "Structure"
							quid "51922E6202B3"
							ports (list portsList
								(object Port "serialRaw"
									quid "51922E70037B"
									classifier  "Logical View::Serial::serialRawProtocol"
									quidu "5192268101C9"
									isConjugated TRUE
									isRelay FALSE)
								(object Port "serialOut"
									quid "51922F0F009A"
									classifier  "Logical View::Serial::serialProtocol"
									quidu "51922EBB029C"
									isRelay FALSE)
								(object Port "timer"
									quid "519C985C0060"
									classifier  "Logical View::RTClasses::Timing"
									quidu "37E9292C018C"
									isRelay FALSE
									isWired FALSE
									visibility "Protected")))
						class_attributes (list class_attribute_list
							(object ClassAttribute "firstByte"
								quid "5193404601A3"
								type "char")
							(object ClassAttribute "inCommand"
								quid "5193405501F3"
								type "bool")
							(object ClassAttribute "commandLength"
								quid "5193405E0171"
								type "int")
							(object ClassAttribute "buffer"
								quid "519340D70398"
								type "byteArray")
							(object ClassAttribute "lengthNotYetReceived"
								quid "5193530901A8"
								type "bool")
							(object ClassAttribute "isSending"
								quid "51AC55E80001"
								type "bool"))
						statemachine (object State_Machine
							quid "51922E6202B0"
							State (object State "TOP"
								quid "51922E6202B1"
								states (list States
									(object InitialPt "Initial"
										quid "51922E6202B2")
									(object State "S1"
										quid "5192308303BA"
										states (list States
											(object InitialPt "Initial"
												quid "5192308303C2")
											(object JuncPt "J5192345201EF"
												quid "5192345201EF"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J519234560116"
												quid "519234560116"
												externallyVisible TRUE)
											(object JuncPt "J51923456011B"
												quid "51923456011B"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J5193551C029A"
												quid "5193551C029A"
												externallyVisible TRUE)
											(object JuncPt "J5193551C029F"
												quid "5193551C029F"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J519B507801FB"
												quid "519B507801FB"
												externallyVisible TRUE)
											(object JuncPt "J519B50780200"
												quid "519B50780200"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J519B50B801E5"
												quid "519B50B801E5"
												externallyVisible TRUE)
											(object JuncPt "J519B50B801EA"
												quid "519B50B801EA"
												isEntry TRUE
												externallyVisible TRUE)
											(object JuncPt "J51AC8BCA02BB"
												quid "51AC8BCA02BB"
												externallyVisible TRUE)
											(object JuncPt "J51AC8BD60208"
												quid "51AC8BD60208"
												isEntry TRUE
												externallyVisible TRUE))))
								transitions (list transition_list
									(object Trans "Initial"
										quid "5192345201EE"
										source  ":TOP:Initial"
										target  ":TOP:S1:J5192345201EF")
									(object Trans "dataReceived"
										quid "519234560115"
										source  ":TOP:S1:J519234560116"
										target  ":TOP:S1:J51923456011B"
										action (object Action
											quid "519234DA0315"
											body 
|#define HEX( x ) "0x" << setw(2) << setfill('0') << hex << (int)( x )
|
|byteArray b = *rtdata;
|int i;
|
|//serialOut.commandReceived(b).send();
|
|
|for(i = 0; i < b.size(); i++){
|    this->buffer.append(b.get(i));
|    //cout << "STR: Buff size: " << this->buffer.size() << "/" << this->commandLength << endl;
|    if(this->buffer.size() == this->commandLength){
|        //Complete packet received. Handle it plox.
|        //Trigger event
|        serialOut.commandReceived(this->buffer).send();
|        //Clear buffer
|        this->buffer.clear();
|    }
|}
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "5192346203A6"
												Event (object PortEvent
													quid "5192346203A7"
													ports (list portsList
														ports  ":Structure:serialRaw"
														quidu "51922E70037B")
													signals (list signalsList
														signals  ":base:dataReceived"
														quidu "519234B2029F")))))
									(object Trans "sendCommand"
										quid "5193551C0291"
										source  ":TOP:S1:J5193551C029A"
										target  ":TOP:S1:J5193551C029F"
										action (object Action
											quid "5193553D004C"
											body 
|byteArray b = *rtdata;
|
|while(this->isSending){ } // Do. absolutely. Nothing... :D
|
|this->isSending = true;
|unsigned char data[b.size()];
|int i = 0;
|for(i = 0; i < b.size(); i++){
|    data[i] = b.get(i);
|}
|data[i] = 0;
|
|RS232_SendBuf(COM_PORT, data, b.size());
|
|/*cout << "STR: Sending data: ";
|b.print();*/
|
|this->isSending = false;
											)
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "519355260362"
												Event (object PortEvent
													quid "519355260363"
													ports (list portsList
														ports  ":Structure:serialOut"
														quidu "51922F0F009A")
													signals (list signalsList
														signals  ":base:sendCommand"
														quidu "519230A60343")))))
									(object Trans "comOpened"
										quid "519B507801FA"
										source  ":TOP:S1:J519B507801FB"
										target  ":TOP:S1:J519B50780200"
										action (object Action
											quid "519B50A2031E"
											body "serialOut.comOpened().send();")
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "519B508B009C"
												Event (object PortEvent
													quid "519B508B009D"
													ports (list portsList
														ports  ":Structure:serialRaw"
														quidu "51922E70037B")
													signals (list signalsList
														signals  ":base:comOpened"
														quidu "519B506802A6")))))
									(object Trans "comError"
										quid "519B50B801E4"
										source  ":TOP:S1:J519B50B801E5"
										target  ":TOP:S1:J519B50B801EA"
										action (object Action
											quid "519B510E026C"
											body "serialOut.comError().send();")
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "519B50E30243"
												Event (object PortEvent
													quid "519B50E30244"
													ports (list portsList
														ports  ":Structure:serialRaw"
														quidu "51922E70037B")
													signals (list signalsList
														signals  ":base:comError"
														quidu "519B50C10026")))))
									(object Trans "lengthReceived"
										quid "51AC8BCA02BA"
										source  ":TOP:S1:J51AC8BCA02BB"
										target  ":TOP:S1:J51AC8BD60208"
										action (object Action
											quid "51AC8C0E000B"
											body "this->commandLength = (*rtdata);")
										eventGuards (list eventGuardsList
											(object EventGuard
												quid "51AC8BFA01D3"
												Event (object PortEvent
													quid "51AC8BFA01D4"
													ports (list portsList
														ports  ":Structure:serialOut"
														quidu "51922F0F009A")
													signals (list signalsList
														signals  ":base:commandLength"
														quidu "51AC8BEA01E9"))))))))
						statediagram (object State_Diagram "State Diagram"
							quid "51922E6202B4"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @613
									quid "51922E6202B6"
									pos (840,615)
									quidu "51922E6202B1")
								(object StateView "StartState" "Initial" @614
									quid "51922E6202B7"
									pos (180,180)
									quidu "51922E6202B2")
								(object StateView "Normal" "S1" @615
									quid "519230830383"
									pos (773,569)
									quidu "5192308303BA"
									width 490
									height 401
									label (object ItemLabel
										quid "5192308303BC"
										pos (773,413)
										max_width 31)
									positionBySuperclass FALSE
									boundIcons (list boundIconsList
										(object JuncPtVw ":TOP:S1:J5192345201EF" @616
											quid "5192345201F7"
											pos (528,442)
											quidu "5192345201EF"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:S1:J519234560116" @617
											quid "51923456011A"
											pos (1018,460)
											quidu "519234560116"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:S1:J51923456011B" @618
											quid "51923456011F"
											pos (1018,661)
											quidu "51923456011B"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:S1:J5193551C029A" @619
											quid "5193551C029E"
											pos (837,769)
											quidu "5193551C029A"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:S1:J5193551C029F" @620
											quid "5193551C02A3"
											pos (651,769)
											quidu "5193551C029F"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:S1:J519B507801FB" @621
											quid "519B507801FF"
											pos (660,368)
											quidu "519B507801FB"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:S1:J519B50780200" @622
											quid "519B50780204"
											pos (847,368)
											quidu "519B50780200"
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:S1:J519B50B801E5" @623
											quid "519B50B801E9"
											pos (528,677)
											quidu "519B50B801E5"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:S1:J519B50B801EA" @624
											quid "519B50B801EE"
											pos (528,480)
											quidu "519B50B801EA"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:S1:J51AC8BCA02BB" @625
											quid "51AC8BCA02BF"
											pos (1007,408)
											quidu "51AC8BCA02BB"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE)
										(object JuncPtVw ":TOP:S1:J51AC8BD60208" @626
											quid "51AC8BD6020C"
											pos (930,368)
											quidu "51AC8BD60208"
											positionBySuperclass FALSE
											boundIconAutoAdjust TRUE))
									statediagram (object State_Diagram ""
										quid "5192345201F0"
										items (list diagram_item_list
											(object StateView "Perimeter" "S1" @627
												quid "5192345201F2"
												pos (840,615)
												quidu "5192308303BA"
												boundIcons (list boundIconsList
													(object JuncPtVw ":TOP:S1:J5192345201EF" @628
														quid "5192345201F4"
														pos (96,237)
														quidu "5192345201EF"
														juncPtIcon (object JuncPtIcon @629
															quid "5192345201F5"
															pos (186,237)
															label (object ItemLabel
																quid "5192345201F6"
																pos (156,277))))
													(object JuncPtVw ":TOP:S1:J519234560116" @630
														quid "519234560117"
														pos (1584,332)
														quidu "519234560116"
														juncPtIcon (object JuncPtIcon @631
															quid "519234560118"
															pos (1494,332)
															label (object ItemLabel
																quid "519234560119"
																pos (1524,372))))
													(object JuncPtVw ":TOP:S1:J51923456011B" @632
														quid "51923456011C"
														pos (1584,857)
														quidu "51923456011B"
														juncPtIcon (object JuncPtIcon @633
															quid "51923456011D"
															pos (1494,857)
															label (object ItemLabel
																quid "51923456011E"
																pos (1524,897))))
													(object JuncPtVw ":TOP:S1:J5193551C029A" @634
														quid "5193551C029B"
														pos (1035,1134)
														quidu "5193551C029A"
														juncPtIcon (object JuncPtIcon @635
															quid "5193551C029C"
															pos (1035,1044)
															label (object ItemLabel
																quid "5193551C029D"
																pos (1075,1074))))
													(object JuncPtVw ":TOP:S1:J5193551C029F" @636
														quid "5193551C02A0"
														pos (465,1134)
														quidu "5193551C029F"
														juncPtIcon (object JuncPtIcon @637
															quid "5193551C02A1"
															pos (465,1044)
															label (object ItemLabel
																quid "5193551C02A2"
																pos (505,1074))))
													(object JuncPtVw ":TOP:S1:J519B507801FB" @638
														quid "519B507801FC"
														pos (510,96)
														quidu "519B507801FB"
														juncPtIcon (object JuncPtIcon @639
															quid "519B507801FD"
															pos (510,186)
															label (object ItemLabel
																quid "519B507801FE"
																pos (550,156))))
													(object JuncPtVw ":TOP:S1:J519B50780200" @640
														quid "519B50780201"
														pos (1065,96)
														quidu "519B50780200"
														juncPtIcon (object JuncPtIcon @641
															quid "519B50780202"
															pos (1065,186)
															label (object ItemLabel
																quid "519B50780203"
																pos (1105,156))))
													(object JuncPtVw ":TOP:S1:J519B50B801E5" @642
														quid "519B50B801E6"
														pos (96,899)
														quidu "519B50B801E5"
														juncPtIcon (object JuncPtIcon @643
															quid "519B50B801E7"
															pos (186,899)
															label (object ItemLabel
																quid "519B50B801E8"
																pos (156,939))))
													(object JuncPtVw ":TOP:S1:J519B50B801EA" @644
														quid "519B50B801EB"
														pos (96,384)
														quidu "519B50B801EA"
														juncPtIcon (object JuncPtIcon @645
															quid "519B50B801EC"
															pos (186,384)
															label (object ItemLabel
																quid "519B50B801ED"
																pos (156,424))))
													(object JuncPtVw ":TOP:S1:J51AC8BCA02BB" @646
														quid "51AC8BCA02BC"
														pos (1584,195)
														quidu "51AC8BCA02BB"
														juncPtIcon (object JuncPtIcon @647
															quid "51AC8BCA02BD"
															pos (1494,200)
															label (object ItemLabel
																quid "51AC8BCA02BE"
																pos (1524,240))))
													(object JuncPtVw ":TOP:S1:J51AC8BD60208" @648
														quid "51AC8BD60209"
														pos (1320,96)
														quidu "51AC8BD60208"
														juncPtIcon (object JuncPtIcon @649
															quid "51AC8BD6020A"
															pos (1320,186)
															label (object ItemLabel
																quid "51AC8BD6020B"
																pos (1360,156))))))
											(object StateView "StartState" "Initial" @650
												quid "5192345201F3"
												pos (180,180)
												quidu "5192308303C2"))
										filterFlags 1))
								(object TransView ":TOP:Initial:Initial" @651
									quid "519234510305"
									uses_fill_color FALSE
									quidu "5192345201EE"
									label (object SegLabel @652
										quid "5192345201F8"
										pos (384,280)
										max_width 113
										pctDist 0.491093
										height 43)
									client @614
									supplier @616
									vertices (list Points
										(202,197)
										(520,436))
									line_style 6144)
								(object TransView ":TOP:S1:J519B507801FB:comOpened" @653
									quid "519B507801F9"
									uses_fill_color FALSE
									quidu "519B507801FA"
									label (object SegLabel @654
										quid "519B50780205"
										pos (754,249)
										max_width 144
										pctDist 0.501577
										height 44)
									client @621
									supplier @622
									vertices (list Points
										(660,358)
										(660,293)
										(847,293)
										(847,358))
									line_style 6144)
								(object TransView ":TOP:S1:J519B50B801E5:comError" @655
									quid "519B50B801E3"
									uses_fill_color FALSE
									quidu "519B50B801E4"
									label (object SegLabel @656
										quid "519B50B801EF"
										pos (384,578)
										positionBySuperclass FALSE
										max_width 128
										pctDist 0.501529
										height 69)
									positionBySuperclass FALSE
									client @623
									supplier @624
									vertices (list Points
										(518,677)
										(453,677)
										(453,480)
										(518,480))
									line_style 6144)
								(object TransView ":TOP:S1:J5193551C029A:sendCommand" @657
									quid "5193551C0290"
									uses_fill_color FALSE
									quidu "5193551C0291"
									label (object SegLabel @658
										quid "5193551C02A4"
										pos (744,889)
										positionBySuperclass FALSE
										max_width 175
										pctDist 0.500000
										height 45)
									positionBySuperclass FALSE
									client @619
									supplier @620
									vertices (list Points
										(837,777)
										(837,844)
										(651,844)
										(651,777))
									line_style 6144)
								(object TransView ":TOP:S1:J519234560116:dataReceived" @659
									quid "519234560114"
									uses_fill_color FALSE
									quidu "519234560115"
									label (object SegLabel @660
										quid "519234560120"
										pos (1285,613)
										positionBySuperclass FALSE
										max_width 191
										pctDist 0.656716
										height 192)
									positionBySuperclass FALSE
									client @617
									supplier @618
									vertices (list Points
										(1026,460)
										(1093,460)
										(1093,661)
										(1026,661))
									line_style 6144)
								(object TransView ":TOP:S1:J51AC8BCA02BB:lengthReceived" @661
									quid "51AC8BCA02B9"
									uses_fill_color FALSE
									quidu "51AC8BCA02BA"
									label (object SegLabel @662
										quid "51AC8BCA02C5"
										pos (1071,297)
										positionBySuperclass FALSE
										max_width 225
										pctDist 0.420444
										height 60
										orientation 1)
									positionBySuperclass FALSE
									client @625
									supplier @626
									vertices (list Points
										(1013,402)
										(1069,366)
										(976,309)
										(935,360))
									line_style 6144))
							filterFlags 1)
						language "C++"
						structureDiagram (object CollaborationDiagram "Structure Diagram"
							quid "51922E6202B8"
							items (list diagram_item_list
								(object CapsulePerimeterVw "Structure" @663
									quid "51922E6202BA"
									pos (840,615)
									quidu "51922E6202B3"
									boundIcons (list boundIconsList
										(object PortVw ":Structure:serialRaw" @664
											quid "51922E70032C"
											pos (96,616)
											quidu "51922E70037B"
											label (object ItemLabel
												quid "51922E72013F"
												pos (105,652)
												nlines 2
												max_width 338
												label "serialRaw"))
										(object PortVw ":Structure:serialOut" @665
											quid "51922F0F004B"
											pos (731,96)
											quidu "51922F0F009A"
											label (object ItemLabel
												quid "51922F100390"
												pos (740,132)
												nlines 2
												max_width 272
												label "serialOut"))))
								(object PortVw ":Structure:timer" @666
									quid "519C985D022E"
									pos (306,138)
									quidu "519C985C0060"
									label (object ItemLabel
										quid "519C985D0230"
										pos (315,174)
										nlines 2
										max_width 144
										label "timer")))
							filterFlags 521))
					(object Protocol "serialRawProtocol"
						quid "5192268101C9"
						statemachine (object State_Machine
							quid "5192268101CA"
							State (object State "TOP"
								quid "5192268101CB"
								states (list States
									(object InitialPt "Initial"
										quid "5192268101CC"))))
						collaborations (list collaborationsList
							(object Collaboration "Collaboration1"
								quid "5192268101CD"))
						protocolRoles (list protocolRolesList
							(object ProtocolRole "base"
								quid "5192268B0294"
								outSignals (list outSignalsList
									(object Signal "dataReceived"
										quid "519234B2029F"
										dataType  "Logical View::Serial::byteArray"
										quidu "519230B50055")
									(object Signal "comOpened"
										quid "519B506802A6"
										dataType  "void")
									(object Signal "comError"
										quid "519B50C10026"
										dataType  "void"))))
						statediagram (object State_Diagram "State Diagram"
							quid "5192268101CE"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @667
									quid "5192268101D0"
									pos (840,615)
									quidu "5192268101CB")
								(object StateView "StartState" "Initial" @668
									quid "5192268101D1"
									pos (180,180)
									quidu "5192268101CC"))
							filterFlags 1)
						language "C++")
					(object Protocol "serialProtocol"
						quid "51922EBB029C"
						statemachine (object State_Machine
							quid "51922EBB029D"
							State (object State "TOP"
								quid "51922EBB029E"
								states (list States
									(object InitialPt "Initial"
										quid "51922EBB029F"))))
						collaborations (list collaborationsList
							(object Collaboration "Collaboration1"
								quid "51922EBB02A0"))
						protocolRoles (list protocolRolesList
							(object ProtocolRole "base"
								quid "51922F3801ED"
								inSignals (list inSignalsList
									(object Signal "sendCommand"
										quid "519230A60343"
										dataType  "Logical View::Serial::byteArray"
										quidu "519230B50055")
									(object Signal "commandLength"
										quid "51AC8BEA01E9"
										dataType  "int"))
								outSignals (list outSignalsList
									(object Signal "commandReceived"
										quid "51922F3801EC"
										dataType  "Logical View::Serial::byteArray"
										quidu "519230B50055")
									(object Signal "comOpened"
										quid "519B50570217"
										dataType  "void")
									(object Signal "comError"
										quid "519B50D9007C"
										dataType  "void"))))
						statediagram (object State_Diagram "State Diagram"
							quid "51922EBB02A1"
							items (list diagram_item_list
								(object StateView "Perimeter" "TOP" @669
									quid "51922EBB02A3"
									pos (840,615)
									quidu "51922EBB029E")
								(object StateView "StartState" "Initial" @670
									quid "51922EBB02A4"
									pos (180,180)
									quidu "51922EBB029F"))
							filterFlags 1)
						language "C++"))
				logical_presentations (list unit_reference_list)))
		logical_presentations (list unit_reference_list
			(object ClassDiagram "Main"
				quid "3619364703D4"
				items (list diagram_item_list
					(object CapsuleVw "mainCapsule" @671
						ShowCompartmentStereotypes TRUE
						IncludeAttribute TRUE
						IncludeOperation TRUE
						showAggregations TRUE
						quid "5188D8110030"
						pos (1982,977)
						label (object ItemLabel
							quid "5188D8110031"
							pos (1721,882)
							max_width 522
							label "mainCapsule")
						stereotype (object ItemLabel
							quid "5188D8110037"
							pos (1721,848)
							anchor 10
							max_width 522
							label "<<Capsule>>")
						icon_style "Decoration"
						quidu "517679F9026D"
						compartment (object Compartment
							quid "5188D8110042"
							pos (1721,934)
							anchor 2
							nlines 7
							max_width 497
							justify 1)
						width 540
						height 415
						annotation 8
						autoResize TRUE
						showPorts TRUE)
					(object CapsuleVw "topCap" @672
						ShowCompartmentStereotypes TRUE
						IncludeAttribute TRUE
						IncludeOperation TRUE
						showAggregations TRUE
						quid "5188D812025A"
						pos (1490,250)
						label (object ItemLabel
							quid "5188D812025B"
							pos (1401,239)
							max_width 178
							label "topCap")
						stereotype (object ItemLabel
							quid "5188D812025C"
							pos (1401,205)
							anchor 10
							max_width 178
							label "<<Capsule>>")
						icon_style "Decoration"
						quidu "5176795702F3"
						width 196
						height 244
						annotation 8
						autoResize TRUE
						showPorts TRUE)
					(object CapsuleVw "tcpTopCapsule" @673
						ShowCompartmentStereotypes TRUE
						IncludeAttribute TRUE
						IncludeOperation TRUE
						showAggregations TRUE
						quid "5188D81D00EB"
						pos (958,746)
						label (object ItemLabel
							quid "5188D81D00EC"
							pos (628,650)
							max_width 660
							label "tcpTopCapsule")
						stereotype (object ItemLabel
							quid "5188D81D00ED"
							pos (628,616)
							anchor 10
							max_width 660
							label "<<Capsule>>")
						icon_style "Decoration"
						quidu "51875E79036D"
						compartment (object Compartment
							quid "5188D81D00F1"
							pos (628,745)
							anchor 2
							nlines 6
							max_width 621
							justify 1)
						width 678
						height 414
						annotation 8
						autoResize TRUE
						showPorts TRUE)
					(object CapsuleVw "tcpCapsule" @674
						ShowCompartmentStereotypes TRUE
						IncludeAttribute TRUE
						IncludeOperation TRUE
						showAggregations TRUE
						quid "5188D825023F"
						pos (357,1437)
						label (object ItemLabel
							quid "5188D8250240"
							pos (9,1199)
							max_width 696
							label "tcpCapsule")
						stereotype (object ItemLabel
							quid "5188D8250241"
							pos (9,1165)
							anchor 10
							max_width 696
							label "<<Capsule>>")
						icon_style "Decoration"
						quidu "517678490259"
						compartment (object Compartment
							quid "5188D8250244"
							pos (9,1294)
							anchor 2
							nlines 13
							max_width 653
							justify 1)
						width 714
						height 699
						annotation 8
						autoResize TRUE
						showPorts TRUE)
					(object CapsuleRoleRelVw ":Structure:tcpInstance" @675
						quid "5188D8250272"
						uses_fill_color FALSE
						quidu "51875EA901A5"
						label (object SegLabel @676
							quid "5188D8250273"
							pos (152,1012)
							max_width 225
							label "tcpInstance"
							pctDist -1.547577
							height 433)
						client @674
						supplier @673
						vertices (list Points
							(659,1087)
							(774,953))
						line_style 6144
						label (object SegLabel @677
							quid "5188D8250275"
							pos (49,1024)
							hidden TRUE
							anchor 1
							max_width 15
							label ""
							pctDist -1.979026
							height 503))
					(object ProtocolVw "jsonProtocol" @678
						ShowCompartmentStereotypes TRUE
						IncludeAttribute TRUE
						IncludeOperation TRUE
						showAggregations TRUE
						quid "5188D82C02EB"
						pos (1531,1487)
						label (object ItemLabel
							quid "5188D82C02EC"
							pos (1261,1402)
							max_width 540
							label "jsonProtocol")
						stereotype (object ItemLabel
							quid "5188D82C02ED"
							pos (1261,1368)
							anchor 10
							max_width 540
							label "<<Protocol>>")
						icon_style "Decoration"
						quidu "51875F9A015E"
						compartment (object Compartment
							quid "5188D82C02F0"
							pos (1261,1497)
							anchor 2
							nlines 3
							max_width 512
							justify 1)
						width 558
						height 321
						annotation 8
						autoResize TRUE
						showInSignals TRUE
						showOutSignals TRUE)
					(object PortRelVw ":Structure:internalJsonPort" @679
						quid "5188D82C0321"
						uses_fill_color FALSE
						quidu "51875FA2029B"
						label (object SegLabel @680
							quid "5188D82C0322"
							pos (1458,1167)
							positionBySuperclass FALSE
							max_width 338
							label "internalJsonPort"
							pctDist 0.199423
							height 138
							orientation 1)
						positionBySuperclass FALSE
						client @678
						supplier @673
						vertices (list Points
							(1407,1326)
							(1117,953))
						line_style 6144
						label (object SegLabel @681
							quid "5188D82C0325"
							pos (1832,80)
							hidden TRUE
							positionBySuperclass FALSE
							anchor 1
							max_width 15
							label ""
							pctDist 1.529855
							height 1100
							orientation 1)
						label (object SegLabel @682
							quid "5188D82C0323"
							pos (1878,117)
							positionBySuperclass FALSE
							anchor 2
							max_width 128
							label "<<Port>>"
							pctDist 1.408271
							height 1114
							orientation 1))
					(object ClassView "Class" "Logical View::TCPIP::jsonCommand" @683
						ShowCompartmentStereotypes TRUE
						IncludeAttribute TRUE
						IncludeOperation TRUE
						showAggregations TRUE
						quid "5188D84A017F"
						pos (2373,1441)
						label (object ItemLabel
							quid "5188D84A0180"
							pos (2138,1238)
							max_width 471
							label "jsonCommand")
						icon_style "Decoration"
						quidu "518764D2025A"
						compartment (object Compartment
							quid "5188D84A0181"
							pos (2138,1333)
							anchor 2
							nlines 8
							max_width 450
							justify 1)
						width 489
						height 425
						annotation 8
						autoResize TRUE)
					(object ProtocolVw "tcpProtocol" @684
						ShowCompartmentStereotypes TRUE
						IncludeAttribute TRUE
						IncludeOperation TRUE
						showAggregations TRUE
						quid "5188D852010D"
						pos (401,2266)
						label (object ItemLabel
							quid "5188D852010E"
							pos (185,2171)
							max_width 433
							label "tcpProtocol")
						stereotype (object ItemLabel
							quid "5188D852010F"
							pos (185,2137)
							anchor 10
							max_width 433
							label "<<Protocol>>")
						icon_style "Decoration"
						quidu "5176788B0049"
						compartment (object Compartment
							quid "5188D8520113"
							pos (185,2266)
							anchor 2
							nlines 4
							max_width 418
							justify 1)
						width 451
						height 340
						annotation 8
						autoResize TRUE
						showInSignals TRUE
						showOutSignals TRUE)
					(object PortRelVw ":Structure:mainConnection" @685
						quid "5188D8520145"
						uses_fill_color FALSE
						quidu "5176786302E2"
						label (object SegLabel @686
							quid "5188D8520146"
							pos (214,2524)
							positionBySuperclass FALSE
							max_width 288
							label "mainConnection"
							pctDist -1.355056
							height 199)
						positionBySuperclass FALSE
						client @684
						supplier @674
						vertices (list Points
							(391,2095)
							(375,1786))
						line_style 6144
						label (object SegLabel @687
							quid "5188D8520149"
							pos (270,1862)
							hidden TRUE
							positionBySuperclass FALSE
							anchor 1
							max_width 15
							label ""
							pctDist 0.772251
							height 109)
						label (object SegLabel @688
							quid "5188D8520147"
							pos (276,1934)
							positionBySuperclass FALSE
							anchor 2
							max_width 128
							label "<<Port>>"
							pctDist 0.538862
							height 106))
					(object CapsuleVw "roombaTopCapsule" @689
						ShowCompartmentStereotypes TRUE
						IncludeAttribute TRUE
						IncludeOperation TRUE
						showAggregations TRUE
						quid "519B5DF80172"
						pos (2816,402)
						label (object ItemLabel
							quid "519B5DF80173"
							pos (1963,116)
							max_width 1706
							label "roombaTopCapsule")
						stereotype (object ItemLabel
							quid "519B5DF80176"
							pos (1963,78)
							anchor 10
							max_width 1706
							label "<<Capsule>>")
						icon_style "Decoration"
						quidu "518A226F036A"
						compartment (object Compartment
							quid "519B5DF8017A"
							pos (1963,215)
							anchor 2
							nlines 15
							max_width 1712
							justify 1)
						width 1724
						height 804
						annotation 8
						autoResize TRUE
						showPorts TRUE)
					(object CapsuleRoleRelVw ":Structure:roombaTopCapsuleR1" @690
						quid "519B5DF80192"
						uses_fill_color FALSE
						quidu "519B57A40170"
						label (object SegLabel @691
							quid "519B5DF80193"
							pos (2029,311)
							max_width 338
							label "roombaTopCapsuleR1"
							pctDist -0.208298
							height 0)
						client @689
						supplier @672
						vertices (list Points
							(1953,302)
							(1588,260))
						line_style 6144
						label (object SegLabel @692
							quid "519B5DF80195"
							pos (1870,300)
							hidden TRUE
							anchor 1
							max_width 15
							label ""
							pctDist 0.225048
							height 7))))))
	root_subsystem (object SubSystem "Component View"
		quid "5176778400A5"
		physical_models (list unit_reference_list
			(object Component "roombaController"
				attributes (list Attribute_Set
					(object Attribute
						tool "OT::CppExec"
						name "TopCapsule"
						value (value Event 
|[event_ui
|	description='topCap'
|	caption='Select...']
|"Logical View::topCap" 5176795702F3
						))
					(object Attribute
						tool "C++ Generation"
						name "CodeGenMakeType"
						value ("MakeTypeSet" 2))
					(object Attribute
						tool "C++ Compilation"
						name "CompilationMakeType"
						value ("MakeTypeSet" 2))
					(object Attribute
						tool "C++ Compilation"
						name "TargetConfiguration"
						value (value Event 
|[event_ui
|	description='NT40MingwT.x86-mingw-gnu'
|	caption='Select...']
|NT40MingwT.x86-mingw-gnu
						))
					(object Attribute
						tool "C++ Generation"
						name "CommonPreface"
						value (value Text 
|#include <iostream>
|using namespace std;
						))
					(object Attribute
						tool "OT::CppExec"
						name "PhysicalThreads"
						value (value Event 
|[EigenThread { ThreadUserInterface }
|	ImplementationClass='RTPeerController'
|	Priority='DEFAULT_MAIN_PRIORITY'
|	StackSize='20000']
|[MainThread
|	ImplementationClass='RTPeerController'
|	Priority='DEFAULT_MAIN_PRIORITY'
|	StackSize='20000']
|[OtherThread { ThreadJsonTranslate }
|	ImplementationClass='RTPeerController'
|	Priority='DEFAULT_MAIN_PRIORITY'
|	StackSize='20000']
|[PSerial { ThreadSerial }
|	ImplementationClass='RTPeerController'
|	Priority='DEFAULT_MAIN_PRIORITY'
|	StackSize='20000']
|[ProgramPhys { ThreadProgram }
|	ImplementationClass='RTPeerController'
|	Priority='DEFAULT_MAIN_PRIORITY'
|	StackSize='20000']
|[RoombaPhys { ThreadRoomba }
|	ImplementationClass='RTPeerController'
|	Priority='DEFAULT_MAIN_PRIORITY'
|	StackSize='20000']
|[TimerThread
|	ImplementationClass='RTTimerController'
|	Priority='DEFAULT_TIMER_PRIORITY'
|	StackSize='20000']
|
						)))
				quid "5176841E008B"
				stereotype ""
				visible_modules (list dependency_list
					(object Dependency_Relationship
						quid "517685AD00B8"
						supplier  "Component View::RTComponents::RTComponent"
						quidu "37F129B2001B"
						supplier_is_spec TRUE)
					(object Dependency_Relationship
						quid "517686AE00BD"
						supplier  "Component View::tcpIpLib"
						quidu "51768615018F"
						supplier_is_spec TRUE)
					(object Dependency_Relationship
						quid "51876F7C03A2"
						supplier  "Component View::jsonLib"
						quidu "51875DD901D2"
						supplier_is_spec TRUE)
					(object Dependency_Relationship
						quid "519227940351"
						supplier  "Component View::serialCommunicationLib"
						quidu "5192275601B0"
						supplier_is_spec TRUE))
				componentClassReferences (list componentClassReferencesList
					componentClassReferences  "Logical View::topCap"
					quidu "5176795702F3"
					componentClassReferences  "Logical View::mainCapsule"
					quidu "517679F9026D"
					componentClassReferences  "Logical View::TCPIP::tcpProtocol"
					quidu "5176788B0049"
					componentClassReferences  "Logical View::RTClasses::RTString"
					quidu "37E928FA039F"
					componentClassReferences  "Logical View::RTClasses::RTDataObject"
					quidu "37E928C20351"
					componentClassReferences  "Logical View::TCPIP::tcpCapsule"
					quidu "517678490259"
					componentClassReferences  "Logical View::RTClasses::Timing"
					quidu "37E9292C018C"
					componentClassReferences  "Logical View::TCPIP::TCPCONSTANTS"
					quidu "36FFD8100213"
					componentClassReferences  "Logical View::TCPIP::tcpTopCapsule"
					quidu "51875E79036D"
					componentClassReferences  "Logical View::TCPIP::jsonProtocol"
					quidu "51875F9A015E"
					componentClassReferences  "Logical View::TCPIP::jsonCommand"
					quidu "518764D2025A")
				componentPackageReferences (list componentPackageReferencesList
					componentPackageReferences  "Logical View::TCPIP"
					quidu "51875B0A0238"
					componentPackageReferences  "Logical View::Serial"
					quidu "51922465010B"
					componentPackageReferences  "Logical View::Roomba"
					quidu "518A2269004B")
				componentType "C++ Executable"
				componentEnvironment "C++ TargetRTS")
			(object Component "tcpIpLib"
				attributes (list Attribute_Set
					(object Attribute
						tool "OT::CppExtLib"
						name "Libraries"
						value (value Event 
|"../../References/libws2_32.a" ComputeDeps
|
						))
					(object Attribute
						tool "OT::CppExtLib"
						name "InclusionPaths"
						value (value Event "")))
				quid "51768615018F"
				stereotype ""
				componentType "C++ External Library"
				componentEnvironment "C++ TargetRTS")
			(object Component "jsonLib"
				attributes (list Attribute_Set
					(object Attribute
						tool "OT::CppExtLib"
						name "Libraries"
						value (value Event 
|"../../References/libjson_mingw_libmt.a" ComputeDeps
|
						))
					(object Attribute
						tool "OT::CppExtLib"
						name "InclusionPaths"
						value (value Event "")))
				quid "51875DD901D2"
				stereotype ""
				componentType "C++ External Library"
				componentEnvironment "C++ TargetRTS")
			(object Component "serialCommunicationLib"
				attributes (list Attribute_Set
					(object Attribute
						tool "OT::CppExtLib"
						name "Libraries"
						value (value Event 
|"../../References/rs232.o" ComputeDeps
|
						)))
				quid "5192275601B0"
				stereotype ""
				componentType "C++ External Library"
				componentEnvironment "C++ TargetRTS")
			(object SubSystem "RTComponents"
				is_unit TRUE
				is_loaded FALSE
				file_name "$ROSERT_HOME\\C++\\RTComponents.rtcmppkg"
				isOwned FALSE
				quid "37F129B1035A"))
		physical_presentations (list unit_reference_list
			(object Module_Diagram "Main"
				quid "36641F810172"
				items (list diagram_item_list
					(object ComponentVw "Component View::roombaController" @693
						quid "5176859B0172"
						pos (1514,433)
						font (object Font
							face "MS Sans Serif")
						label (object ItemLabel
							quid "5176859B0173"
							pos (1438,444)
							nlines 2
							max_width 292
							label "roombaController")
						stereotype (object ItemLabel
							quid "5176859B0175"
							pos (1438,386)
							anchor 10
							max_width 292
							label "<<C++ Executable>>")
						icon_style "Icon"
						quidu "5176841E008B"
						width 526
						height 162
						annotation 1
						autoResize TRUE)
					(object ComponentVw "Component View::RTComponents::RTComponent" @694
						quid "5176859C02A3"
						pos (2192,925)
						font (object Font
							face "MS Sans Serif")
						label (object ItemLabel
							quid "5176859C02A4"
							pos (2095,932)
							nlines 2
							max_width 373
							label "RTComponent")
						stereotype (object ItemLabel
							quid "5176859C02A6"
							pos (2095,874)
							anchor 10
							max_width 373
							label "<<C++ External Library>>")
						icon_style "Icon"
						quidu "37F129B2001B"
						width 672
						height 186
						annotation 1
						autoResize TRUE)
					(object ModVisView "" @695
						quid "517685AC0182"
						stereotype TRUE
						uses_fill_color FALSE
						quidu "517685AD00B8"
						client @693
						supplier @694
						vertices (list Points
							(1611,508)
							(2067,837))
						line_style 6144)
					(object ComponentVw "Component View::tcpIpLib" @696
						quid "517686A800C3"
						pos (528,321)
						font (object Font
							face "MS Sans Serif")
						label (object ItemLabel
							quid "517686A800C4"
							pos (431,332)
							nlines 2
							max_width 373
							label "tcpIpLib")
						stereotype (object ItemLabel
							quid "517686A800C6"
							pos (431,274)
							anchor 10
							max_width 373
							label "<<C++ External Library>>")
						icon_style "Icon"
						quidu "51768615018F"
						width 672
						height 162
						annotation 1
						autoResize TRUE)
					(object ModVisView "" @697
						quid "517686AD00DB"
						stereotype TRUE
						uses_fill_color FALSE
						quidu "517686AE00BD"
						client @693
						supplier @696
						vertices (list Points
							(1260,403)
							(845,356))
						line_style 6144)
					(object ComponentVw "Component View::jsonLib" @698
						quid "51876F7902A7"
						pos (903,944)
						font (object Font
							face "MS Sans Serif")
						label (object ItemLabel
							quid "51876F7902A8"
							pos (806,955)
							nlines 2
							max_width 373
							label "jsonLib")
						stereotype (object ItemLabel
							quid "51876F7902A9"
							pos (806,897)
							anchor 10
							max_width 373
							label "<<C++ External Library>>")
						icon_style "Icon"
						quidu "51875DD901D2"
						width 672
						height 162
						annotation 1
						autoResize TRUE)
					(object ModVisView "" @699
						quid "51876F7C003B"
						stereotype TRUE
						uses_fill_color FALSE
						quidu "51876F7C03A2"
						client @693
						supplier @698
						vertices (list Points
							(1416,508)
							(987,867))
						line_style 6144)
					(object ComponentVw "Component View::serialCommunicationLib" @700
						quid "5192279200E5"
						pos (1683,145)
						label (object ItemLabel
							quid "5192279200E6"
							pos (1576,156)
							nlines 2
							max_width 412
							label "serialCommunicationLib")
						stereotype (object ItemLabel
							quid "5192279200E7"
							pos (1576,105)
							anchor 10
							max_width 412
							label "<<C++ External Library>>")
						icon_style "Icon"
						quidu "5192275601B0"
						width 742
						height 162
						annotation 1
						autoResize TRUE)
					(object ModVisView "" @701
						quid "519227940185"
						stereotype TRUE
						uses_fill_color FALSE
						quidu "519227940351"
						client @693
						supplier @700
						vertices (list Points
							(1551,356)
							(1626,220))
						line_style 6144)))))
	process_structure (object Processes "Deployment View"
		quid "3619364703C8"
		ProcsNDevs (list
			(object Processor "roombaControllerMain"
				quid "5193468D0177"
				targetOS "Windows-NT"
				targetCPU "x86"
				targetAddress "127.0.0.1"
				targetScriptDir "$TARGET_SCRIPTS\\win32"
				processes (list processes
					(object Process "roombaControllerInstance"
						quid "5193469800A5"
						component  "Component View::roombaController"
						quidu "5176841E008B"
						targetParameters "-obslisten=30245"
						targetMode "Basic"
						targetPort 30245))
				scheduling "Preemptive")
			(object Process_Diagram "Main"
				quid "3619364703CA")))
	properties (object Properties
		attributes (list Attribute_Set
			(object Attribute
				tool "C Version"
				name "default__Version"
				value (list Attribute_Set
					(object Attribute
						tool "C Version"
						name "Version"
						value 6404)))
			(object Attribute
				tool "C Generation"
				name "propertyId"
				value "809135966")
			(object Attribute
				tool "C Compilation"
				name "propertyId"
				value "809135966")
			(object Attribute
				tool "C Generation"
				name "default__Component"
				value (list Attribute_Set
					(object Attribute
						tool "C Generation"
						name "OutputDirectory"
						value "$@/$name")
					(object Attribute
						tool "C Generation"
						name "CodeGenDirName"
						value "")
					(object Attribute
						tool "C Generation"
						name "ComponentUnitDirectory"
						value "RTSystem")
					(object Attribute
						tool "C Generation"
						name "ComponentUnitName"
						value "$name")
					(object Attribute
						tool "C Generation"
						name "CommonPreface"
						value (value Text ""))
					(object Attribute
						tool "C Generation"
						name "Copyright text"
						value (value Text ""))
					(object Attribute
						tool "C Generation"
						name "MakeTypeSet"
						value (list Attribute_Set
							(object Attribute
								tool "C Generation"
								name "<default>"
								value 100)
							(object Attribute
								tool "C Generation"
								name "MS_nmake"
								value 0)
							(object Attribute
								tool "C Generation"
								name "Unix_make"
								value 1)
							(object Attribute
								tool "C Generation"
								name "Gnu_make"
								value 2)
							(object Attribute
								tool "C Generation"
								name "ClearCase_clearmake"
								value 3)
							(object Attribute
								tool "C Generation"
								name "ClearCase_omake"
								value 4)))
					(object Attribute
						tool "C Generation"
						name "CodeGenMakeType"
						value ("MakeTypeSet" 100))
					(object Attribute
						tool "C Generation"
						name "CodeGenMakeCommand"
						value "$defaultMakeCommand")
					(object Attribute
						tool "C Generation"
						name "CodeGenMakeArguments"
						value "-s")
					(object Attribute
						tool "C Generation"
						name "CodeGenMakeInsert"
						value (value Text ""))
					(object Attribute
						tool "C Generation"
						name "CodeSyncEnabled"
						value TRUE)
					(object Attribute
						tool "C Generation"
						name "Generate model tags"
						value TRUE)
					(object Attribute
						tool "C Generation"
						name "SingleDataCompilationUnit"
						value FALSE)
					(object Attribute
						tool "C Generation"
						name "DocumentationSet"
						value (list Attribute_Set
							(object Attribute
								tool "C Generation"
								name "do not generate"
								value 0)
							(object Attribute
								tool "C Generation"
								name "prefer in header"
								value 1)
							(object Attribute
								tool "C Generation"
								name "prefer in implementation"
								value 2)
							(object Attribute
								tool "C Generation"
								name "only in header"
								value 3)
							(object Attribute
								tool "C Generation"
								name "only in implementation"
								value 4)))
					(object Attribute
						tool "C Generation"
						name "Association end documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C Generation"
						name "Attribute documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C Generation"
						name "Capsule documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C Generation"
						name "Capsule role documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C Generation"
						name "Choice point documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C Generation"
						name "Class documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C Generation"
						name "Operation documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C Generation"
						name "Port documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C Generation"
						name "Protocol documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C Generation"
						name "State documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C Generation"
						name "Transition documentation"
						value ("DocumentationSet" 0))))
			(object Attribute
				tool "C Compilation"
				name "default__Component"
				value (list Attribute_Set
					(object Attribute
						tool "C Compilation"
						name "TargetServicesLibrary"
						value "$ROSERT_HOME/C/TargetRTS")
					(object Attribute
						tool "C Compilation"
						name "TargetConfiguration"
						value (value Event 
|[event_ui
|	description='<none selected>'
|	caption='Select...']
						))
					(object Attribute
						tool "C Compilation"
						name "MakeTypeSet"
						value (list Attribute_Set
							(object Attribute
								tool "C Compilation"
								name "<default>"
								value 100)
							(object Attribute
								tool "C Compilation"
								name "MS_nmake"
								value 0)
							(object Attribute
								tool "C Compilation"
								name "Unix_make"
								value 1)
							(object Attribute
								tool "C Compilation"
								name "Gnu_make"
								value 2)
							(object Attribute
								tool "C Compilation"
								name "ClearCase_clearmake"
								value 3)
							(object Attribute
								tool "C Compilation"
								name "ClearCase_omake"
								value 4)))
					(object Attribute
						tool "C Compilation"
						name "CompilationMakeType"
						value ("MakeTypeSet" 100))
					(object Attribute
						tool "C Compilation"
						name "CompilationMakeCommand"
						value "rtperl -S rtsetup.pl $defaultMakeCommand")
					(object Attribute
						tool "C Compilation"
						name "CompilationMakeArguments"
						value "-k -s")
					(object Attribute
						tool "C Compilation"
						name "CompilationMakeInsert"
						value (value Text ""))
					(object Attribute
						tool "C Compilation"
						name "CompileCommand"
						value "$(CC)")
					(object Attribute
						tool "C Compilation"
						name "CompileArguments"
						value "$(DEBUG_TAG)")
					(object Attribute
						tool "C Compilation"
						name "InclusionPaths"
						value (value Event ""))
					(object Attribute
						tool "C Compilation"
						name "MisraCActive"
						value FALSE)))
			(object Attribute
				tool "OT::Cpp"
				name "propertyId"
				value "809135966")
			(object Attribute
				tool "C++ Version"
				name "default__Version"
				value (list Attribute_Set
					(object Attribute
						tool "C++ Version"
						name "Version"
						value 6404)))
			(object Attribute
				tool "OT::Cpp"
				name "default__Attribute"
				value (list Attribute_Set
					(object Attribute
						tool "OT::Cpp"
						name "AttributeKindSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "constant"
								value 2)
							(object Attribute
								tool "OT::Cpp"
								name "global"
								value 1)
							(object Attribute
								tool "OT::Cpp"
								name "member"
								value 0)
							(object Attribute
								tool "OT::Cpp"
								name "mutable member"
								value 3)))
					(object Attribute
						tool "OT::Cpp"
						name "AttributeKind"
						value ("AttributeKindSet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "InitializerKindSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "assignment"
								value 0)
							(object Attribute
								tool "OT::Cpp"
								name "constructor"
								value 1)))
					(object Attribute
						tool "OT::Cpp"
						name "InitializerKind"
						value ("InitializerKindSet" 1))
					(object Attribute
						tool "OT::Cpp"
						name "Field Size"
						value "")
					(object Attribute
						tool "OT::Cpp"
						name "Generate Get Method"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Generate Set Method"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Get Method Name"
						value "get_$attribute")
					(object Attribute
						tool "OT::Cpp"
						name "Set Method Name"
						value "set_$attribute")
					(object Attribute
						tool "OT::Cpp"
						name "GetSetKindSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "abstract"
								value 1)
							(object Attribute
								tool "OT::Cpp"
								name "common"
								value 0)
							(object Attribute
								tool "OT::Cpp"
								name "friend"
								value 2)
							(object Attribute
								tool "OT::Cpp"
								name "static"
								value 3)
							(object Attribute
								tool "OT::Cpp"
								name "virtual"
								value 4)))
					(object Attribute
						tool "OT::Cpp"
						name "Get Method Kind"
						value ("GetSetKindSet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "Set Method Kind"
						value ("GetSetKindSet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "Get Method Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Set Method Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Get Method Return Type Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Set Method Return Type Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Get Method by Reference"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Set Method by Reference"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Inline Get Method"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Inline Set Method"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Set Method Returns Value"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "HeaderPreface"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "HeaderEnding"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "ImplementationPreface"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "ImplementationEnding"
						value (value Text ""))))
			(object Attribute
				tool "OT::Cpp"
				name "default__Capsule"
				value (list Attribute_Set
					(object Attribute
						tool "OT::Cpp"
						name "HeaderPreface"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "HeaderEnding"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "ImplementationPreface"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "ImplementationEnding"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "PublicDeclarations"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "ProtectedDeclarations"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "PrivateDeclarations"
						value (value Text ""))))
			(object Attribute
				tool "OT::Cpp"
				name "default__Class"
				value (list Attribute_Set
					(object Attribute
						tool "OT::Cpp"
						name "GenerateClass"
						value TRUE)
					(object Attribute
						tool "OT::Cpp"
						name "GenerateStateMachine"
						value TRUE)
					(object Attribute
						tool "OT::Cpp"
						name "ClassKindSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "none (deprecated)"
								value 4)
							(object Attribute
								tool "OT::Cpp"
								name "class"
								value 0)
							(object Attribute
								tool "OT::Cpp"
								name "struct"
								value 1)
							(object Attribute
								tool "OT::Cpp"
								name "typedef"
								value 3)
							(object Attribute
								tool "OT::Cpp"
								name "union"
								value 2)))
					(object Attribute
						tool "OT::Cpp"
						name "ClassKind"
						value ("ClassKindSet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "ImplementationType"
						value "")
					(object Attribute
						tool "OT::Cpp"
						name "HeaderPreface"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "HeaderEnding"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "ImplementationPreface"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "ImplementationEnding"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "PublicDeclarations"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "ProtectedDeclarations"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "PrivateDeclarations"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "VisibilitySet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "public"
								value 0)
							(object Attribute
								tool "OT::Cpp"
								name "protected"
								value 1)
							(object Attribute
								tool "OT::Cpp"
								name "private"
								value 2)))
					(object Attribute
						tool "OT::Cpp"
						name "GenerateDefaultConstructor"
						value TRUE)
					(object Attribute
						tool "OT::Cpp"
						name "DefaultConstructorVisibility"
						value ("VisibilitySet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "DefaultConstructorExplicit"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "DefaultConstructorInline"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "GenerateCopyConstructor"
						value TRUE)
					(object Attribute
						tool "OT::Cpp"
						name "CopyConstructorVisibility"
						value ("VisibilitySet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "CopyConstructorExplicit"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "CopyConstructorInline"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "GenerateDestructor"
						value TRUE)
					(object Attribute
						tool "OT::Cpp"
						name "DestructorVisibility"
						value ("VisibilitySet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "DestructorVirtual"
						value TRUE)
					(object Attribute
						tool "OT::Cpp"
						name "DestructorInline"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "GenerateAssignmentOperator"
						value TRUE)
					(object Attribute
						tool "OT::Cpp"
						name "AssignmentOperatorVisibility"
						value ("VisibilitySet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "AssignmentOperatorInline"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "GenerateEqualityOperator"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "EqualityOperatorsVisibility"
						value ("VisibilitySet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "EqualityOperatorInline"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "GenerateInequalityOperator"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "InequalityOperatorsVisibility"
						value ("VisibilitySet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "InequalityOperatorInline"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Generate Insertion Operator"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Generate Extraction Operator"
						value FALSE)))
			(object Attribute
				tool "OT::Cpp"
				name "default__Inherit"
				value (list Attribute_Set
					(object Attribute
						tool "OT::Cpp"
						name "InstanceArguments"
						value (value Text ""))))
			(object Attribute
				tool "OT::Cpp"
				name "default__Operation"
				value (list Attribute_Set
					(object Attribute
						tool "OT::Cpp"
						name "OperationKindSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "friend"
								value 2)
							(object Attribute
								tool "OT::Cpp"
								name "global"
								value 1)
							(object Attribute
								tool "OT::Cpp"
								name "member"
								value 0)))
					(object Attribute
						tool "OT::Cpp"
						name "OperationKind"
						value ("OperationKindSet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "GenerateKindSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "declaration and definition"
								value 0)
							(object Attribute
								tool "OT::Cpp"
								name "declaration only"
								value 1)))
					(object Attribute
						tool "OT::Cpp"
						name "Generate"
						value ("GenerateKindSet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "Inline"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "ConstructorExplicit"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "ConstructorInitializer"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "CallFromDestructor"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Declare exceptions"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Exceptions"
						value (value Text ""))))
			(object Attribute
				tool "OT::Cpp"
				name "default__Role"
				value (list Attribute_Set
					(object Attribute
						tool "OT::Cpp"
						name "AssociationEndKindSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "global"
								value 1)
							(object Attribute
								tool "OT::Cpp"
								name "member"
								value 0)
							(object Attribute
								tool "OT::Cpp"
								name "mutable member"
								value 3)))
					(object Attribute
						tool "OT::Cpp"
						name "AssociationEndKind"
						value ("AssociationEndKindSet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "InitializerKindSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "assignment"
								value 0)
							(object Attribute
								tool "OT::Cpp"
								name "constructor"
								value 1)))
					(object Attribute
						tool "OT::Cpp"
						name "InitializerKind"
						value ("InitializerKindSet" 1))
					(object Attribute
						tool "OT::Cpp"
						name "Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Value Pointed to by Pointer Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Volatile"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Value Pointed to by Pointer Volatile"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Field Size"
						value "")
					(object Attribute
						tool "OT::Cpp"
						name "Generate Get Method"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Generate Set Method"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Get Method Name"
						value "get_$end")
					(object Attribute
						tool "OT::Cpp"
						name "Set Method Name"
						value "set_$end")
					(object Attribute
						tool "OT::Cpp"
						name "GetSetKindSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "abstract"
								value 1)
							(object Attribute
								tool "OT::Cpp"
								name "common"
								value 0)
							(object Attribute
								tool "OT::Cpp"
								name "friend"
								value 2)
							(object Attribute
								tool "OT::Cpp"
								name "static"
								value 3)
							(object Attribute
								tool "OT::Cpp"
								name "virtual"
								value 4)))
					(object Attribute
						tool "OT::Cpp"
						name "Get Method Kind"
						value ("GetSetKindSet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "Set Method Kind"
						value ("GetSetKindSet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "Get Method Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Set Method Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Get Method Return Type Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Set Method Return Type Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Get Method by Reference"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Set Method by Reference"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Inline Get Method"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Inline Set Method"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Set Method Returns Value"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "InitialValue"
						value (value Text ""))
					(object Attribute
						tool "OT::Cpp"
						name "AssocClassMemberKindSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "member"
								value 0)
							(object Attribute
								tool "OT::Cpp"
								name "mutable member"
								value 3)))
					(object Attribute
						tool "OT::Cpp"
						name "AssocClassMemberKind"
						value ("AssocClassMemberKindSet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "AssocClassMemberInitializerKind"
						value ("InitializerKindSet" 1))
					(object Attribute
						tool "OT::Cpp"
						name "AssocClassMemberVisibilitySet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "private"
								value 0)
							(object Attribute
								tool "OT::Cpp"
								name "protected"
								value 1)
							(object Attribute
								tool "OT::Cpp"
								name "public"
								value 2)))
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Visibility"
						value ("AssocClassMemberVisibilitySet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Value Pointed to by Assoc Class Member Pointer Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Volatile"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Value Pointed to by Assoc Class Member Pointer Volatile"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Field Size"
						value "")
					(object Attribute
						tool "OT::Cpp"
						name "Generate Assoc Class Member Get Method"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Generate Assoc Class Member Set Method"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Get Name"
						value "get_$end")
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Set Name"
						value "set_$end")
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Get Kind"
						value ("GetSetKindSet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Set Kind"
						value ("GetSetKindSet" 0))
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Get Method Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Set Method Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Get Method Return Type Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Set Method Return Type Constant"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Get Method by Reference"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Set Method by Reference"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Inline Assoc Class Member Get Method"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Inline Assoc Class Member Set Method"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "Assoc Class Member Set Method Returns Value"
						value FALSE)
					(object Attribute
						tool "OT::Cpp"
						name "AssocClassMemberInitialValue"
						value (value Text ""))))
			(object Attribute
				tool "OT::Cpp"
				name "default__Uses"
				value (list Attribute_Set
					(object Attribute
						tool "OT::Cpp"
						name "KindSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::Cpp"
								name "none"
								value 2)
							(object Attribute
								tool "OT::Cpp"
								name "forward reference"
								value 1)
							(object Attribute
								tool "OT::Cpp"
								name "inclusion"
								value 0)))
					(object Attribute
						tool "OT::Cpp"
						name "KindInHeader"
						value ("KindSet" 1))
					(object Attribute
						tool "OT::Cpp"
						name "KindInImplementation"
						value ("KindSet" 0))))
			(object Attribute
				tool "OT::Cpp"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "OT::CppExec"
				name "propertyId"
				value "809135966")
			(object Attribute
				tool "OT::CppExec"
				name "default__Component"
				value (list Attribute_Set
					(object Attribute
						tool "OT::CppExec"
						name "TopCapsule"
						value (value Event 
|[event_ui 
|	description='<none selected>'
|	caption='Select...']
						))
					(object Attribute
						tool "OT::CppExec"
						name "PhysicalThreads"
						value (value Event 
|[MainThread
|	Priority='DEFAULT_MAIN_PRIORITY'
|	StackSize='20000'
|	ImplementationClass='RTPeerController']
|[TimerThread
|	Priority='DEFAULT_TIMER_PRIORITY'
|	StackSize='20000'
|	ImplementationClass='RTTimerController']
						))
					(object Attribute
						tool "OT::CppExec"
						name "ExecutableName"
						value "$name$(EXEC_EXT)")
					(object Attribute
						tool "OT::CppExec"
						name "DefaultArguments"
						value "")
					(object Attribute
						tool "OT::CppExec"
						name "LinkCommand"
						value "$(LD)")
					(object Attribute
						tool "OT::CppExec"
						name "LinkArguments"
						value (value Text ""))
					(object Attribute
						tool "OT::CppExec"
						name "UserObjectFiles"
						value (value Text ""))
					(object Attribute
						tool "OT::CppExec"
						name "UserLibraries"
						value (value Text ""))))
			(object Attribute
				tool "OT::CppExec"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "OT::CppExtLib"
				name "propertyId"
				value "809135966")
			(object Attribute
				tool "OT::CppExtLib"
				name "default__Component"
				value (list Attribute_Set
					(object Attribute
						tool "OT::CppExtLib"
						name "IncludeFilename"
						value "")
					(object Attribute
						tool "OT::CppExtLib"
						name "GenerateClassInclusions"
						value TRUE)
					(object Attribute
						tool "OT::CppExtLib"
						name "CodeGenDirName"
						value "")
					(object Attribute
						tool "OT::CppExtLib"
						name "InclusionPaths"
						value (value Event ""))
					(object Attribute
						tool "OT::CppExtLib"
						name "Libraries"
						value (value Event ""))
					(object Attribute
						tool "OT::CppExtLib"
						name "LogicalThreads"
						value (value Text ""))))
			(object Attribute
				tool "OT::CppExtLib"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "OT::CppLib"
				name "propertyId"
				value "809135966")
			(object Attribute
				tool "OT::CppLib"
				name "default__Component"
				value (list Attribute_Set
					(object Attribute
						tool "OT::CppLib"
						name "LibraryName"
						value "$(LIB_PFX)$name$(LIB_EXT)")
					(object Attribute
						tool "OT::CppLib"
						name "BuildLibraryCommand"
						value "$(AR_CMD)")
					(object Attribute
						tool "OT::CppLib"
						name "BuildLibraryArguments"
						value (value Text ""))
					(object Attribute
						tool "OT::CppLib"
						name "LogicalThreads"
						value (value Text ""))
					(object Attribute
						tool "OT::CppLib"
						name "InterfaceVisibilityKindSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::CppLib"
								name "Public"
								value 0)
							(object Attribute
								tool "OT::CppLib"
								name "Limited Public"
								value 1)
							(object Attribute
								tool "OT::CppLib"
								name "Private"
								value 2)))
					(object Attribute
						tool "OT::CppLib"
						name "DefaultInterfaceVisibility"
						value ("InterfaceVisibilityKindSet" 1))
					(object Attribute
						tool "OT::CppLib"
						name "SharedLogicalViewPackageName"
						value "")
					(object Attribute
						tool "OT::CppLib"
						name "SharedComponentViewPackageName"
						value "")
					(object Attribute
						tool "OT::CppLib"
						name "SetInterface"
						value (value Event 
|[event_ui 
|	caption='Edit...']
						))
					(object Attribute
						tool "OT::CppLib"
						name "InclusionPaths"
						value (value Event ""))
					(object Attribute
						tool "OT::CppLib"
						name "Libraries"
						value (value Event ""))))
			(object Attribute
				tool "OT::CppLib"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "OT::CppTargetRTS"
				name "propertyId"
				value "809135966")
			(object Attribute
				tool "C++ Generation"
				name "propertyId"
				value "809135966")
			(object Attribute
				tool "C++ Compilation"
				name "propertyId"
				value "809135966")
			(object Attribute
				tool "OT::CppTargetRTS"
				name "default__Class"
				value (list Attribute_Set
					(object Attribute
						tool "OT::CppTargetRTS"
						name "GenerateDescriptorSet"
						value (list Attribute_Set
							(object Attribute
								tool "OT::CppTargetRTS"
								name "True"
								value 0)
							(object Attribute
								tool "OT::CppTargetRTS"
								name "DebugOnly"
								value 1)
							(object Attribute
								tool "OT::CppTargetRTS"
								name "False"
								value 2)
							(object Attribute
								tool "OT::CppTargetRTS"
								name "Manual"
								value 3)))
					(object Attribute
						tool "OT::CppTargetRTS"
						name "GenerateDescriptor"
						value ("GenerateDescriptorSet" 0))
					(object Attribute
						tool "OT::CppTargetRTS"
						name "Version"
						value 0)
					(object Attribute
						tool "OT::CppTargetRTS"
						name "InitFunctionBody"
						value (value Text ""))
					(object Attribute
						tool "OT::CppTargetRTS"
						name "CopyFunctionBody"
						value (value Text ""))
					(object Attribute
						tool "OT::CppTargetRTS"
						name "DestroyFunctionBody"
						value (value Text ""))
					(object Attribute
						tool "OT::CppTargetRTS"
						name "DecodeFunctionBody"
						value (value Text ""))
					(object Attribute
						tool "OT::CppTargetRTS"
						name "EncodeFunctionBody"
						value (value Text ""))))
			(object Attribute
				tool "OT::CppTargetRTS"
				name "default__Attribute"
				value (list Attribute_Set
					(object Attribute
						tool "OT::CppTargetRTS"
						name "GenerateDescriptor"
						value TRUE)
					(object Attribute
						tool "OT::CppTargetRTS"
						name "TypeDescriptor"
						value "")
					(object Attribute
						tool "OT::CppTargetRTS"
						name "GenerateTypeModifier"
						value TRUE)
					(object Attribute
						tool "OT::CppTargetRTS"
						name "NumElementsFunctionBody"
						value (value Text ""))))
			(object Attribute
				tool "OT::CppTargetRTS"
				name "default__Role"
				value (list Attribute_Set
					(object Attribute
						tool "OT::CppTargetRTS"
						name "GenerateDescriptor"
						value TRUE)
					(object Attribute
						tool "OT::CppTargetRTS"
						name "TypeDescriptor"
						value "")
					(object Attribute
						tool "OT::CppTargetRTS"
						name "GenerateTypeModifier"
						value TRUE)
					(object Attribute
						tool "OT::CppTargetRTS"
						name "NumElementsFunctionBody"
						value (value Text ""))))
			(object Attribute
				tool "OT::CppTargetRTS"
				name "default__Protocol"
				value (list Attribute_Set
					(object Attribute
						tool "OT::CppTargetRTS"
						name "Version"
						value 0)
					(object Attribute
						tool "OT::CppTargetRTS"
						name "BackwardsCompatible"
						value FALSE)
					(object Attribute
						tool "OT::CppTargetRTS"
						name "RunTimeBackwardsCompatible"
						value FALSE)
					(object Attribute
						tool "OT::CppTargetRTS"
						name "TypeSafeSignals"
						value TRUE)))
			(object Attribute
				tool "C++ Generation"
				name "default__Component"
				value (list Attribute_Set
					(object Attribute
						tool "C++ Generation"
						name "OutputDirectory"
						value "$@/$name")
					(object Attribute
						tool "C++ Generation"
						name "CodeGenDirName"
						value "")
					(object Attribute
						tool "C++ Generation"
						name "ComponentUnitDirectory"
						value "RTSystem")
					(object Attribute
						tool "C++ Generation"
						name "ComponentUnitName"
						value "$name")
					(object Attribute
						tool "C++ Generation"
						name "CommonPreface"
						value (value Text ""))
					(object Attribute
						tool "C++ Generation"
						name "Copyright text"
						value (value Text ""))
					(object Attribute
						tool "C++ Generation"
						name "MakeTypeSet"
						value (list Attribute_Set
							(object Attribute
								tool "C++ Generation"
								name "<default>"
								value 100)
							(object Attribute
								tool "C++ Generation"
								name "MS_nmake"
								value 0)
							(object Attribute
								tool "C++ Generation"
								name "Unix_make"
								value 1)
							(object Attribute
								tool "C++ Generation"
								name "Gnu_make"
								value 2)
							(object Attribute
								tool "C++ Generation"
								name "ClearCase_clearmake"
								value 3)
							(object Attribute
								tool "C++ Generation"
								name "ClearCase_omake"
								value 4)))
					(object Attribute
						tool "C++ Generation"
						name "CodeGenMakeType"
						value ("MakeTypeSet" 100))
					(object Attribute
						tool "C++ Generation"
						name "CodeGenMakeCommand"
						value "$defaultMakeCommand")
					(object Attribute
						tool "C++ Generation"
						name "CodeGenMakeArguments"
						value "-s")
					(object Attribute
						tool "C++ Generation"
						name "CodeGenMakeInsert"
						value (value Text ""))
					(object Attribute
						tool "C++ Generation"
						name "CodeSyncEnabled"
						value TRUE)
					(object Attribute
						tool "C++ Generation"
						name "Generate model tags"
						value TRUE)
					(object Attribute
						tool "C++ Generation"
						name "SingleDataCompilationUnit"
						value FALSE)
					(object Attribute
						tool "C++ Generation"
						name "DocumentationSet"
						value (list Attribute_Set
							(object Attribute
								tool "C++ Generation"
								name "do not generate"
								value 0)
							(object Attribute
								tool "C++ Generation"
								name "prefer in header"
								value 1)
							(object Attribute
								tool "C++ Generation"
								name "prefer in implementation"
								value 2)
							(object Attribute
								tool "C++ Generation"
								name "only in header"
								value 3)
							(object Attribute
								tool "C++ Generation"
								name "only in implementation"
								value 4)))
					(object Attribute
						tool "C++ Generation"
						name "Association end documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C++ Generation"
						name "Attribute documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C++ Generation"
						name "Capsule documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C++ Generation"
						name "Capsule role documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C++ Generation"
						name "Choice point documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C++ Generation"
						name "Class documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C++ Generation"
						name "Operation documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C++ Generation"
						name "Port documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C++ Generation"
						name "Protocol documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C++ Generation"
						name "State documentation"
						value ("DocumentationSet" 0))
					(object Attribute
						tool "C++ Generation"
						name "Transition documentation"
						value ("DocumentationSet" 0))))
			(object Attribute
				tool "C++ Compilation"
				name "default__Component"
				value (list Attribute_Set
					(object Attribute
						tool "C++ Compilation"
						name "TargetServicesLibrary"
						value "$ROSERT_HOME/C++/TargetRTS")
					(object Attribute
						tool "C++ Compilation"
						name "TargetConfiguration"
						value (value Event 
|[event_ui
|	description='<none selected>'
|	caption='Select...']
						))
					(object Attribute
						tool "C++ Compilation"
						name "MakeTypeSet"
						value (list Attribute_Set
							(object Attribute
								tool "C++ Compilation"
								name "<default>"
								value 100)
							(object Attribute
								tool "C++ Compilation"
								name "MS_nmake"
								value 0)
							(object Attribute
								tool "C++ Compilation"
								name "Unix_make"
								value 1)
							(object Attribute
								tool "C++ Compilation"
								name "Gnu_make"
								value 2)
							(object Attribute
								tool "C++ Compilation"
								name "ClearCase_clearmake"
								value 3)
							(object Attribute
								tool "C++ Compilation"
								name "ClearCase_omake"
								value 4)))
					(object Attribute
						tool "C++ Compilation"
						name "CompilationMakeType"
						value ("MakeTypeSet" 100))
					(object Attribute
						tool "C++ Compilation"
						name "CompilationMakeCommand"
						value "rtperl -S rtsetup.pl $defaultMakeCommand")
					(object Attribute
						tool "C++ Compilation"
						name "CompilationMakeArguments"
						value "-k -s")
					(object Attribute
						tool "C++ Compilation"
						name "CompilationMakeInsert"
						value (value Text ""))
					(object Attribute
						tool "C++ Compilation"
						name "CompileCommand"
						value "$(CC)")
					(object Attribute
						tool "C++ Compilation"
						name "CompileArguments"
						value "$(DEBUG_TAG)")
					(object Attribute
						tool "C++ Compilation"
						name "InclusionPaths"
						value (value Event ""))))
			(object Attribute
				tool "OT::CppTargetRTS"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "OT::QualityArchitectRT"
				name "propertyId"
				value "809135966")
			(object Attribute
				tool "OT::QualityArchitectRT"
				name "default__InteractionInstance"
				value (list Attribute_Set
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "Attributes"
						value (value Text ""))
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "Minimum Run Time"
						value 0)
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "Cardinality Index Path"
						value (value Event ""))
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "DependencyList"
						value (value Text ""))
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "HeaderPreface"
						value (value Text ""))
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "HeaderEnding"
						value (value Text ""))
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "ImplementationPreface"
						value (value Text ""))
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "ImplementationEnding"
						value (value Text ""))))
			(object Attribute
				tool "OT::QualityArchitectRT"
				name "default__CreateAction"
				value (list Attribute_Set
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "Capsule Class"
						value "")
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "Initial Data"
						value "")
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "Data Descriptor"
						value "")
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "Thread"
						value "")))
			(object Attribute
				tool "OT::QualityArchitectRT"
				name "default__UninterpretedAction"
				value (list Attribute_Set
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "Code"
						value (value Text ""))))
			(object Attribute
				tool "OT::QualityArchitectRT"
				name "default__SendAction"
				value (list Attribute_Set
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "Sender Test Driver Code"
						value (value Text ""))
					(object Attribute
						tool "OT::QualityArchitectRT"
						name "Receiver Test Driver Code"
						value (value Text ""))))
			(object Attribute
				tool "OT::QualityArchitectRT"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "OT::C"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "RTJava"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "RTJava Project"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "OT::CLib"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "OT::CExec"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "RTJava External Project"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "OT::CTargetRSL"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "CORBA"
				name "HiddenTool"
				value FALSE)
			(object Attribute
				tool "OT::CExtLib"
				name "HiddenTool"
				value FALSE))
		quid "5176778400A7"))
